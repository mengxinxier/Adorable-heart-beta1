add_namespace = annex
#德国的命运
country_event = {
	id = annex.1000
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event annex.1000 FROM = [From.GetName]"
	}
	title = annexation_GER_CONQ
	desc = annexation_GER_CONQ_desc
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
		}
	}
	option = {
		#republic
		name = annex.1000.a
		trigger = {
			WGR = {
				is_ally_of_ROOT = no
			}
			NOT = {
				country_exists = GEU
			}
			has_government = communism
			GER = {
				is_ally_of_ROOT = no
			}
		}
		ai_chance = {
			base = 100
		}
		every_state = {
			limit = {
				has_state_flag = L_GER
			}
			add_core_of = GEU
		}
		set_temp_variable = {
			tag_to_release = GEU
		}
		release_targeted_tag = yes
	}
	option = {
		#republic
		name = annex.1000.b
		trigger = {
			NOT = {
				country_exists = WGR
			}
			GER = {
				is_ally_of_ROOT = no
			}
			GEU = {
				is_ally_of_ROOT = no
			}
			NOT = {
				has_government = communism
			}
		}
		ai_chance = {
			base = 100
		}
		every_state = {
			limit = {
				has_state_flag = L_GER
			}
			add_core_of = WGR
		}
		set_temp_variable = {
			tag_to_release = WGR
		}
		release_targeted_tag = yes
	}
	option = {
		name = annex.1000.c
		trigger = {
			WGR = {
				is_ally_of_ROOT = no
			}
			GEU = {
				is_ally_of_ROOT = no
			}
			GER = {
				is_ally_of_ROOT = no
			}
		}
		ai_chance = {
			base = 0
		}
		GER_state_country_core = yes
		custom_effect_tooltip = new_annexation_decisions_tt
		set_country_flag = {
			flag = GER_CONQ
			days = 100
			value = 1
		}
		recheck_annexations_immediate = yes
	}
	option = {
		name = annex.1000.d
		trigger = {
			GER = {
				is_ally_of_ROOT = yes
			}
		}
		ai_chance = {
			base = 100
		}
		every_owned_state = {
			limit = {
				OR = {
					has_state_flag = L_GER
					is_core_of = GER
					is_claimed_by = GER
				}
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_to = GER
		}
	}
	option = {
		name = annex.1000.e
		trigger = {
			GEU = {
				is_ally_of_ROOT = yes
			}
		}
		ai_chance = {
			base = 100
		}
		every_owned_state = {
			limit = {
				OR = {
					has_state_flag = L_GER
					is_core_of = GEU
					is_claimed_by = GEU
				}
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_to = GEU
		}
	}
	option = {
		name = annex.1000.f
		trigger = {
			WGR = {
				is_ally_of_ROOT = yes
			}
		}
		ai_chance = {
			base = 100
		}
		every_owned_state = {
			limit = {
				OR = {
					has_state_flag = L_GER
					is_core_of = WGR
					is_claimed_by = WGR
				}
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_to = WGR
		}
	}
	option = {
		name = annex.1000.g
		trigger = {
			WGR = {
				is_ally_of_ROOT = no
			}
			GEU = {
				is_ally_of_ROOT = no
			}
			GER = {
				is_ally_of_ROOT = no
			}
		}
		GER_state_country_core = yes
		set_temp_variable = {
			tag_to_release = BAY
		}
		release_targeted_tag = yes
		set_temp_variable = {
			tag_to_release = PRE
		}
		release_targeted_tag = yes
		set_temp_variable = {
			tag_to_release = DDR
		}
		release_targeted_tag = yes
		set_temp_variable = {
			tag_to_release = SAX
		}
		release_targeted_tag = yes
		set_temp_variable = {
			tag_to_release = HAN
		}
		release_targeted_tag = yes
		set_temp_variable = {
			tag_to_release = WUR
		}
		release_targeted_tag = yes
		set_temp_variable = {
			tag_to_release = SHL
		}
		release_targeted_tag = yes
		set_temp_variable = {
			tag_to_release = RHI
		}
		release_targeted_tag = yes
		set_temp_variable = {
			tag_to_release = AUS
		}
		release_targeted_tag = yes
		set_temp_variable = {
			tag_to_release = MEK
		}
		release_targeted_tag = yes
		set_temp_variable = {
			tag_to_release = MEK
		}
		release_targeted_tag = yes
		set_temp_variable = {
			tag_to_release = SIL
		}
		release_targeted_tag = yes
		set_temp_variable = {
			tag_to_release = KSH
		}
		release_targeted_tag = yes
		ai_chance = {
			base = 50
		}
	}
	option = {
		name = annex.occupation
		trigger = {
			WGR = {
				is_ally_of_ROOT = no
			}
			GEU = {
				is_ally_of_ROOT = no
			}
			GER = {
				is_ally_of_ROOT = no
			}
		}
		ai_chance = {
			base = 0
		}
		set_country_flag = GER_CONQ
		set_country_flag = PRE_CONQ
		set_country_flag = RHI_CONQ
		set_country_flag = BAY_CONQ
		set_country_flag = NGF_CONQ
		occupy_massive_country = yes
	}
}

#莱茵兰的命运
country_event = {
	id = annex.1001
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event annex.1000 FROM = [From.GetName]"
	}
	title = annexation_RHI_CONQ
	desc = annexation_RHI_CONQ_desc
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
		}
	}
	option = {
		name = annex.1001.a
		trigger = {
			NOT = {
				country_exists = RHI
			}
			WGR = {
				is_ally_of_ROOT = no
			}
			GER = {
				is_ally_of_ROOT = no
			}
			GEU = {
				is_ally_of_ROOT = no
			}
		}
		ai_chance = {
			base = 100
		}
		GER_state_country_core = yes
		set_temp_variable = {
			tag_to_release = RHI
		}
		release_targeted_tag = yes
	}
	option = {
		#give it to Germany
		name = annex.1001.b
		trigger = {
			var:55.owner = {
				is_germany_tag = yes
				is_ally_with = ROOT
			}
			WGR = {
				is_ally_of_ROOT = no
			}
			GER = {
				is_ally_of_ROOT = no
			}
			GEU = {
				is_ally_of_ROOT = no
			}
		}
		ai_chance = {
			base = 100
		}
		set_temp_variable = {
			tag_to_release = 55.owner
		}
		if = {
			limit = {
				var:tag_to_release = {
					original_tag = RHI
				}
			}
			every_owned_state = {
				limit = {
					is_rhineland = yes
					is_claim_or_core_of_ROOT = no
				}
				transfer_state_to = var:tag_to_release
			}
		}
		else = {
			effect_tooltip = {
				every_owned_state = {
					limit = {
						is_rhineland = yes
						is_claim_or_core_of_ROOT = no
					}
					add_core_of = var:tag_to_release
					transfer_state_to = var:tag_to_release
				}
				every_state = {
					limit = {
						is_rhineland = yes
						is_valid_annexation_state = no
					}
					add_claim_by = var:tag_to_release
				}
			}
			hidden_effect = {
				every_state = {
					limit = {
						is_rhineland = yes
					}
					add_core_and_transfer_if_owned_else_add_claim = yes
				}
			}
		}
	}
	option = {
		#occupy Rhineland, give the rest to Germany
		name = annex.1001.c
		trigger = {
			is_french_tag = yes
			var:55.owner = {
				is_germany_tag = yes
				is_ally_with = ROOT
			}
			WGR = {
				is_ally_of_ROOT = no
			}
			GER = {
				is_ally_of_ROOT = no
			}
			GEU = {
				is_ally_of_ROOT = no
			}
		}
		ai_chance = {
			base = 0
		}
		add_state_claim = 42
		add_state_claim = 781
		occupy_medium_country = yes
		custom_effect_tooltip = tooltip_white_line
		set_temp_variable = {
			tag_to_release = 55.owner
		}
		51 = {
			add_core_of_target_and_transfer_if_owned = yes
		}
	}
	option = {
		name = annex.1000.d
		trigger = {
			GER = {
				is_ally_of_ROOT = yes
			}
			WGR = {
				is_ally_of_ROOT = no
			}
		}
		every_owned_state = {
			limit = {
				region = 6				#Rhineland
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_to = GER
		}
		ai_chance = {
			base = 100
		}
	}
	option = {
		name = annex.1000.e
		trigger = {
			GEU = {
				is_ally_of_ROOT = yes
			}
			WGR = {
				is_ally_of_ROOT = no
			}
		}
		every_owned_state = {
			limit = {
				region = 6				#Rhineland
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_to = GEU
		}
		ai_chance = {
			base = 100
		}
	}
	option = {
		#occupy
		name = annex.occupation
		trigger = {
			OR = {
				is_french_tag = no
				and = {
					GEU = {
						is_ally_of_ROOT = no
					}
					GER = {
						is_ally_of_ROOT = no
					}
					WGR = {
						is_ally_of_ROOT = no
					}
				}
			}
		}
		ai_chance = {
			base = 0
		}
		if = {
			limit = {
				is_french_tag = yes
			}
			add_state_claim = 42
			add_state_claim = 781
		}
		occupy_large_country = yes
		set_country_flag = RHI_CONQ
	}
}

#普鲁士的命运
country_event = {
	id = annex.1002
	title = annexation_PRE_CONQ
	desc = annexation_PRE_CONQ_desc
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
		}
	}
	option = {
		name = annex.1002.a
		trigger = {
			NOT = {
				country_exists = PRE
			}
			GER = {
				is_ally_of_ROOT = no
			}
			GEU = {
				is_ally_of_ROOT = no
			}
			WGR = {
				is_ally_of_ROOT = no
			}
		}
		ai_chance = {
			base = 100
		}
		GER_state_country_core = yes
		set_temp_variable = {
			tag_to_release = PRE
		}
		release_targeted_tag = yes
	}
	option = {
		name = annex.1002.b
		trigger = {
			var:64.owner = {
				is_ally_of_ROOT = no
			}
			GER = {
				is_ally_of_ROOT = no
			}
			GEU = {
				is_ally_of_ROOT = no
			}
			POL = {
				is_ally_of_ROOT = yes
			}
			WGR = {
				is_ally_of_ROOT = no
			}
			owns_state = 5
			owns_state = 777
			or = {
				owns_state = 776
				owns_state = 86
			}
			PRE = {
				exists = no
			}
		}
		ai_chance = {
			base = 100
		}
		set_temp_variable = {
			tag_to_release = POL
		}
		every_owned_state = {
			limit = {
				is_east_Prussia = yes
				is_claim_or_core_of_ROOT = no
			}
			add_core_and_transfer_if_owned_else_add_claim = yes
		}
		GER_state_country_core = yes
		set_temp_variable = {
			tag_to_release = PRE
		}
		release_targeted_tag = yes
	}
	option = {
		name = annex.1002.c
		trigger = {
			var:64.owner = {
				is_ally_of_ROOT = no
			}
			GER = {
				is_ally_of_ROOT = no
			}
			GEU = {
				is_ally_of_ROOT = no
			}
			POL = {
				is_ally_of_ROOT = yes
			}
			WGR = {
				is_ally_of_ROOT = no
			}
			owns_state = 776
			owns_state = 86
			or = {
				owns_state = 5
				owns_state = 777
			}
			PRE = {
				exists = no
			}
		}
		ai_chance = {
			base = 100
		}
		set_temp_variable = {
			tag_to_release = POL
		}
		every_owned_state = {
			limit = {
				is_west_Prussia = yes
				is_claim_or_core_of_ROOT = no
			}
			add_core_and_transfer_if_owned_else_add_claim = yes
		}
		GER_state_country_core = yes
		set_temp_variable = {
			tag_to_release = PRE
		}
		release_targeted_tag = yes
	}
	option = {
		name = annex.1002.d
		trigger = {
			var:64.owner = {
				is_germany_tag = yes
				is_ally_of_ROOT = yes
			}
			POL = {
				is_ally_of_ROOT = yes
			}
			WGR = {
				is_ally_of_ROOT = no
			}
			owns_state = 5
			owns_state = 777
			or = {
				owns_state = 776
				owns_state = 86
			}
		}
		ai_chance = {
			base = 100
		}
		set_temp_variable = {
			tag_to_release = POL
		}
		every_owned_state = {
			limit = {
				is_east_Prussia = yes
				is_claim_or_core_of_ROOT = no
			}
			add_core_and_transfer_if_owned_else_add_claim = yes
		}
		GER_state_country_core = yes
		set_temp_variable = {
			tag_to_release = 64.owner
		}
		effect_tooltip = {
			every_owned_state = {
				limit = {
					is_west_Prussia = yes
					is_claim_or_core_of_ROOT = no
				}
				add_core_of = var:tag_to_release
				transfer_state_to = var:tag_to_release
			}
			every_state = {
				limit = {
					is_west_Prussia = yes
					is_valid_annexation_state = no
				}
				add_claim_by = var:tag_to_release
			}
		}
		hidden_effect = {
			every_state = {
				limit = {
					is_west_Prussia = yes
				}
				add_core_and_transfer_if_owned_else_add_claim = yes
			}
		}
	}
	option = {
		name = annex.1002.e
		trigger = {
			var:64.owner = {
				is_germany_tag = yes
				is_ally_of_ROOT = yes
			}
			POL = {
				is_ally_of_ROOT = yes
			}
			owns_state = 776
			owns_state = 86
			or = {
				owns_state = 5
				owns_state = 777
			}
		}
		ai_chance = {
			base = 100
		}
		set_temp_variable = {
			tag_to_release = POL
		}
		every_owned_state = {
			limit = {
				is_west_Prussia = yes
				is_claim_or_core_of_ROOT = no
			}
			add_core_and_transfer_if_owned_else_add_claim = yes
		}
		GER_state_country_core = yes
		set_temp_variable = {
			tag_to_release = 64.owner
		}
		effect_tooltip = {
			every_owned_state = {
				limit = {
					is_east_Prussia = yes
					is_claim_or_core_of_ROOT = no
				}
				add_core_of = var:tag_to_release
				transfer_state_to = var:tag_to_release
			}
			every_state = {
				limit = {
					is_east_Prussia = yes
					is_valid_annexation_state = no
				}
				add_claim_by = var:tag_to_release
			}
		}
		hidden_effect = {
			every_state = {
				limit = {
					is_east_Prussia = yes
				}
				add_core_and_transfer_if_owned_else_add_claim = yes
			}
		}
	}
	option = {
		name = annex.1002.f
		trigger = {
			POL = {
				is_ally_of_ROOT = yes
			}
		}
		ai_chance = {
			base = 100
		}
		set_temp_variable = {
			tag_to_release = POL
		}
		every_owned_state = {
			limit = {
				is_Prussia = yes
				is_claim_or_core_of_ROOT = no
			}
			add_core_and_transfer_if_owned_else_add_claim = yes
		}
	}
	option = {
		#give it to Germany
		name = annex.1002.g
		trigger = {
			var:64.owner = {
				is_germany_tag = yes
				is_ally_with = ROOT
			}
			GER = {
				is_ally_of_ROOT = no
			}
			GEU = {
				is_ally_of_ROOT = no
			}
		}
		ai_chance = {
			base = 100
		}
		set_temp_variable = {
			tag_to_release = 64.owner
		}
		if = {
			limit = {
				var:tag_to_release = {
					original_tag = PRE
				}
			}
			every_owned_state = {
				limit = {
					is_Prussia = yes
					is_claim_or_core_of_ROOT = no
				}
				transfer_state_to = var:tag_to_release
			}
		}
		else = {
			effect_tooltip = {
				every_owned_state = {
					limit = {
						is_Prussia = yes
						is_claim_or_core_of_ROOT = no
					}
					add_core_of = var:tag_to_release
					transfer_state_to = var:tag_to_release
				}
				every_state = {
					limit = {
						is_Prussia = yes
						is_valid_annexation_state = no
					}
					add_claim_by = var:tag_to_release
				}
			}
			hidden_effect = {
				every_state = {
					limit = {
						is_Prussia = yes
					}
					add_core_and_transfer_if_owned_else_add_claim = yes
				}
			}
		}
	}
	option = {
		name = annex.1000.c
		trigger = {
			GER = {
				is_ally_of_ROOT = yes
			}
		}
		every_owned_state = {
			limit = {
				is_Prussia = yes
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_to = GER
		}
		ai_chance = {
			base = 100
		}
	}
	option = {
		name = annex.1000.e
		trigger = {
			GEU = {
				is_ally_of_ROOT = yes
			}
		}
		every_owned_state = {
			limit = {
				is_Prussia = yes
				is_claim_or_core_of_ROOT = no
			}
			transfer_state_to = GEU
		}
		ai_chance = {
			base = 100
		}
	}
	option = {
		#occupy
		name = annex.occupation
		trigger = {
			GEU = {
				is_ally_of_ROOT = no
			}
			GER = {
				is_ally_of_ROOT = no
			}
		}
		ai_chance = {
			base = 0
		}
		occupy_large_country = yes
		set_country_flag = PRE_CONQ
	}
}
