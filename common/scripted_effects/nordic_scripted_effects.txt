DEN_remove_all_head_of_government = {
	clr_country_flag = DEN_Breguet_head_of_government
	clr_country_flag = DEN_Akane_head_of_government
	clr_country_flag = DEN_Langley_head_of_government
	clr_country_flag = DEN_Repart_head_of_government
	clr_country_flag = DEN_Bismarck_head_of_government
	clr_country_flag = DEN_Mako_head_of_government
}

DEN_deepen_the_great_depression = {
	if = {
		limit = {
			has_idea = DEN_great_depression
		}
		swap_ideas = {
			remove_idea = DEN_great_depression
			add_idea = DEN_great_depression2
		}
	}
	else_if = {
		limit = {
			has_idea = DEN_great_depression2
		}
		swap_ideas = {
			remove_idea = DEN_great_depression2
			add_idea = DEN_great_depression3
		}
	}
	else_if = {
		limit = {
			has_idea = DEN_great_depression3
		}
		swap_ideas = {
			remove_idea = DEN_great_depression3
			add_idea = DEN_great_depression4
		}
	}
	else_if = {
		limit = {
			has_idea = DEN_great_depression4
		}
		swap_ideas = {
			remove_idea = DEN_great_depression4
			add_idea = DEN_great_depression5
		}
	}
	else_if = {
		limit = {
			has_idea = DEN_great_depression5
		}
		add_to_variable = { ubs_load = 200 }
		custom_effect_tooltip = DEN_increase_200_debt
	}
	else_if = {
		limit = {
			NOT = {
				has_idea = DEN_great_depression
				has_idea = DEN_great_depression2
				has_idea = DEN_great_depression3
				has_idea = DEN_great_depression4
				has_idea = DEN_great_depression5
			}
		}
		add_ideas = DEN_great_depression
	}
}

DEN_alleviate_the_great_depression = {
	if = {
		limit = {
			has_idea = DEN_great_depression5
		}
		swap_ideas = {
			remove_idea = DEN_great_depression5
			add_idea = DEN_great_depression4
		}
	}
	else_if = {
		limit = {
			has_idea = DEN_great_depression4
		}
		swap_ideas = {
			remove_idea = DEN_great_depression4
			add_idea = DEN_great_depression3
		}
	}
	else_if = {
		limit = {
			has_idea = DEN_great_depression3
		}
		swap_ideas = {
			remove_idea = DEN_great_depression3
			add_idea = DEN_great_depression2
		}
	}
	else_if = {
		limit = {
			has_idea = DEN_great_depression2
		}
		swap_ideas = {
			remove_idea = DEN_great_depression2
			add_idea = DEN_great_depression
		}
	}
	else_if = {
		limit = {
			has_idea = DEN_great_depression
		}
		add_to_variable = { ubs_save = 200 }
		custom_effect_tooltip = SOV_get_200_add_to_reserve
	}
}

DEN_strike_intensification = {
	if = {
		limit = {
			has_idea = DEN_Durham_thieves
		}
		swap_ideas = {
			remove_idea = DEN_Durham_thieves
			add_idea = DEN_Durham_thieves2
		}
	}
	else_if = {
		limit = {
			has_idea = DEN_Durham_thieves2
		}
		swap_ideas = {
			remove_idea = DEN_Durham_thieves2
			add_idea = DEN_Durham_thieves3
		}
	}
	else_if = {
		limit = {
			has_idea = DEN_Durham_thieves3
		}
		swap_ideas = {
			remove_idea = DEN_Durham_thieves3
			add_idea = DEN_Durham_thieves4
		}
	}
	else_if = {
		limit = {
			has_idea = DEN_Durham_thieves4
		}
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
	}
	else_if = {
		limit = {
			NOT = {
				has_idea = DEN_Durham_thieves
				has_idea = DEN_Durham_thieves2
				has_idea = DEN_Durham_thieves3
				has_idea = DEN_Durham_thieves4
			}
		}
		add_ideas = DEN_Durham_thieves
	}
}

DEN_strike_relief = {
	if = {
		limit = {
			has_idea = DEN_Durham_thieves4
		}
		swap_ideas = {
			remove_idea = DEN_Durham_thieves4
			add_idea = DEN_Durham_thieves3
		}
	}
	else_if = {
		limit = {
			has_idea = DEN_Durham_thieves3
		}
		swap_ideas = {
			remove_idea = DEN_Durham_thieves3
			add_idea = DEN_Durham_thieves2
		}
	}
	else_if = {
		limit = {
			has_idea = DEN_Durham_thieves2
		}
		swap_ideas = {
			remove_idea = DEN_Durham_thieves2
			add_idea = DEN_Durham_thieves
		}
	}
	else_if = {
		limit = {
			has_idea = DEN_Durham_thieves
		}
		add_popularity = {
			ideology = communism
			popularity = -0.05
		}
	}
}

DEN_intensification_of_contradiction = {
	add_to_variable = { DEN_contradiction = 1 }
	if = {
		limit = {
			check_variable = { DEN_contradiction > 2 }
		}
		set_variable = { DEN_contradiction = 0 }
		DEN_strike_intensification = yes
	}
	else = {
		custom_effect_tooltip = DEN_intensification_of_contradiction_tt
	}
}

DEN_contradiction_alleviation = {
	add_to_variable = { DEN_cooperation = 1 }
	if = {
		limit = {
			check_variable = { DEN_cooperation > 2 }
		}
		set_variable = { DEN_cooperation = 0 }
		DEN_strike_relief = yes
	}
	else = {
		custom_effect_tooltip = DEN_contradiction_alleviation_tt
	}
}

DEN_unseal_Star_Sea_Academy_effect = {
	add_corps_commander_role = {
		character = DEN_Nao
		traits = { DEN_haunter commando }
		skill = 2
		attack_skill = 2
		defense_skill = 2
		planning_skill = 1
		logistics_skill = 2
	}
	add_corps_commander_role = {
		character = DEN_Takaj
		traits = { DEN_haunter commando }
		skill = 2
		attack_skill = 3
		defense_skill = 2
		planning_skill = 1
		logistics_skill = 1
	}
	add_advisor_role = {
		character = DEN_Takaj
		advisor = {
			slot = army_chief
			idea_token = DEN_Takaj
			traits = { army_chief_maneuver_3 }
			cost = 150
			ai_will_do = {
				base = 1
			}
		}
	}
	add_advisor_role = {
		character = DEM_Nishimori
		advisor = {
			slot = political_advisor
			idea_token = DEM_Nishimori
			traits = { POL_national_idol }
			cost = 150
			ai_will_do = {
				base = 1
			}
		}
	}
}

DEN_integrate_research_institute = {
	add_to_variable = { DEN_iri = 1 }
	if = {
		limit = {
			check_variable = { DEN_iri > 2 }
		}
		set_country_flag = DEN_integrate_research_institute_flag
		custom_effect_tooltip = available_designer
		show_ideas_tooltip = Breguet2
		hidden_effect = {
			if = {
				limit = { has_idea = Breguet }
				swap_ideas = {
					remove_idea = Breguet
					add_idea = Breguet2
				}
			}
		}
	}
	else = {
		custom_effect_tooltip = DEN_integrate_research_institute_tt
	}
}

