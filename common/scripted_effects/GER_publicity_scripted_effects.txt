AUS_set_pubilcity_slot = {
	if = {
		limit = {
			check_variable = {
				AUS_pub_slot_A = 0
			}
		}
		set_variable = {
			AUS_pub_slot_A = AUS_pub_temp
		}
		else_if = {
			limit = {
				check_variable = {
					AUS_pub_slot_B = 0
				}
			}
			set_variable = {
				AUS_pub_slot_B = AUS_pub_temp
			}
			else_if = {
				limit = {
					check_variable = {
						AUS_pub_slot_C = 0
					}
				}
				set_variable = {
					AUS_pub_slot_C = AUS_pub_temp
				}
			}
		}
	}
}

AUS_clr_pubilcity_slot = {
	if = {
		limit = {
			check_variable = {
				AUS_pub_slot_A = AUS_pub_temp
			}
		}
		set_variable = {
			AUS_pub_slot_A = 0
		}
		else_if = {
			limit = {
				check_variable = {
					AUS_pub_slot_B = AUS_pub_temp
				}
			}
			set_variable = {
				AUS_pub_slot_B = 0
			}
			else_if = {
				limit = {
					check_variable = {
						AUS_pub_slot_C = AUS_pub_temp
					}
				}
				set_variable = {
					AUS_pub_slot_C = 0
				}
			}
		}
	}
}

GER_BACK = {
	GER = {
		load_focus_tree = germany_focus
	}
	hidden_effect = {
		news_event = {
			id = austria.1666
			days = 1
		}
	}
	KMS = {
		every_character = {
			set_nationality = GER
		}
	}
	GER = {
		annex_country = {
			target = AUS
			transfer_troops = yes
		}
		annex_country = {
			target = KMS
			transfer_troops = yes
		}
		complete_national_focus = GER_01
	}
	every_country = {
		limit = {
			is_in_faction_with = GER
			NOT = {
				tag = GER
			}
			NOT = {
				is_subject_of = GER
			}
		}
		every_controlled_state = {
			limit = {
				has_state_flag = L_GER
				not = {
					or = {
						is_core_of = PREV
						is_claimed_by = PREV
					}
				}
			}
			GER = {
				transfer_state = PREV
			}
			PREV = {
				country_event = {
					id = austria.06
				}
			}
		}
	}
	every_country = {
		limit = {
			is_in_faction_with = GER
			NOT = {
				tag = GER
			}
			is_subject_of = GER
		}
		every_controlled_state = {
			limit = {
				has_state_flag = L_GER
			}
			GER = {
				transfer_state = PREV
			}
			PREV = {
				country_event = {
					id = austria.06
				}
			}
		}
	}
	every_state = {
		limit = {
			has_state_flag = L_GER
		}
		add_core_of = GER
	}
	every_state = {
		limit = {
			is_core_of = DVL
		}
		remove_core_of = DVL
	}
	every_state = {
		limit = {
			is_claim_by = DVL
		}
		remove_claim_by = DVL
	}
	every_state = {
		limit = {
			is_claim_by = GER
			is_core_of = GER
		}
		remove_claim_by = GER
	}
	GER = {
		country_event = {
			id = ah_germany.01
			days = 2
		}
	}
}

GEU_econmic_scar_xuejian = {
	custom_effect_tooltip = GEU_econmic_scar_xuejian
	if = {
		limit = {
			has_idea = geu_civil_econmic_scar
		}
		swap_ideas = {
			remove_idea = geu_civil_econmic_scar
			add_idea = geu_civil_econmic_scar_1
		}
	}
	else_if = {
		limit = {
			has_idea = geu_civil_econmic_scar_1
		}
		swap_ideas = {
			remove_idea = geu_civil_econmic_scar_1
			add_idea = geu_civil_econmic_scar_2
		}
	}
	else_if = {
		limit = {
			has_idea = geu_civil_econmic_scar_2
		}
		swap_ideas = {
			remove_idea = geu_civil_econmic_scar_2
			add_idea = geu_civil_econmic_scar_3
		}
	}
	else_if = {
		limit = {
			has_idea = geu_civil_econmic_scar_3
		}
		swap_ideas = {
			remove_idea = geu_civil_econmic_scar_3
			add_idea = geu_civil_econmic_scar_4
		}
	}
	else_if = {
		limit = {
			has_idea = geu_civil_econmic_scar_4
		}
		swap_ideas = {
			remove_idea = geu_civil_econmic_scar_4
			add_idea = geu_civil_econmic_scar_5
		}
	}
	else_if = {
		limit = {
			has_idea = geu_civil_econmic_scar_5
		}
		remove_ideas = geu_civil_econmic_scar_5
	}
}


GER_ZHENGZHI_BETTER = {
	custom_effect_tooltip = GER_ZHENGZHI_BETTER
	if = {
		limit = {
			has_idea = GER_worst_social
		}
		swap_ideas = {
			remove_idea = GER_worst_social
			add_idea = GER_worst_social_1
		}
	}
	else_if = {
		limit = {
			has_idea = GER_worst_social_1
		}
		swap_ideas = {
			remove_idea = GER_worst_social_1
			add_idea = GER_worst_social_2
		}
	}
	else_if = {
		limit = {
			has_idea = GER_worst_social_2
		}
		swap_ideas = {
			remove_idea = GER_worst_social_2
			add_idea = GER_worst_social_3
		}
	}
	else_if = {
		limit = {
			has_idea = GER_worst_social_3
		}
		remove_ideas = GER_worst_social_3
	}
}

GEU_ZHENGZHI_BETTER = {
	custom_effect_tooltip = GER_ZHENGZHI_BETTER
	if = {
		limit = {
			has_idea = geu_civil_social_scar
		}
		swap_ideas = {
			remove_idea = geu_civil_social_scar
			add_idea = geu_civil_social_scar_1
		}
	}
	else_if = {
		limit = {
			has_idea = geu_civil_social_scar_1
		}
		swap_ideas = {
			remove_idea = geu_civil_social_scar_1
			add_idea = geu_civil_social_scar_2
		}
	}
	else_if = {
		limit = {
			has_idea = geu_civil_social_scar_2
		}
		swap_ideas = {
			remove_idea = geu_civil_social_scar_2
			add_idea = geu_civil_social_scar_3
		}
	}
	else_if = {
		limit = {
			has_idea = geu_civil_social_scar_3
		}
		swap_ideas = {
			remove_idea = geu_civil_social_scar_3
			add_idea = geu_civil_social_scar_4
		}
	}
	else_if = {
		limit = {
			has_idea = geu_civil_social_scar_4
		}
		remove_ideas = geu_civil_social_scar_4
	}
}

#射日同盟
sheri_faction = {
	if = {
		limit = {
			any_country = {
				not = {
					or = {
						tag = GER
						is_subject_of = GER
						is_in_faction_with = GER
					}
				}
				is_faction_leader = yes
			}
		}
		random_country = {
			limit = {
				not = {
					or = {
						tag = GER
						is_subject_of = GER
						is_in_faction_with = GER
					}
				}
				is_faction_leader = yes
			}
			set_faction_name = "射日同萌"
			every_other_country = {
				limit = {
					not = {
						or = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
							is_in_faction_with = PREV
						}
					}
				}
				PREV = {
					add_to_faction = PREV
				}
			}
			declare_war_on = {
				target = GER
				type = annex_everything
			}
		}
	}
	else = {
		random_country = {
			limit = {
				not = {
					or = {
						tag = GER
						is_subject_of = GER
						is_in_faction_with = GER
					}
				}
				#is_faction_leader = yes
			}
			create_faction = "射日同萌"
			every_other_country = {
				limit = {
					not = {
						or = {
							tag = GER
							is_subject_of = GER
							is_in_faction_with = GER
							is_in_faction_with = PREV
						}
					}
				}
				PREV = {
					add_to_faction = PREV
				}
			}
			declare_war_on = {
				target = GER
				type = annex_everything
			}
		}
	}
}

GER_economic_recovery_ww = {
	custom_effect_tooltip = GER_economic_recovery_tt
	if = {
		limit = {
			has_idea = GER_serious_lose_job_1
		}
		swap_ideas = {
			remove_idea = GER_serious_lose_job_1
			add_idea = GER_serious_lose_job
		}
	}
	else_if = {
		limit = {
			has_idea = GER_serious_lose_job
		}
		swap_ideas = {
			remove_idea = GER_serious_lose_job
			add_idea = GER_serious_lose_job_2
		}
	}
	else_if = {
		limit = {
			has_idea = GER_serious_lose_job_2
		}
		swap_ideas = {
			remove_idea = GER_serious_lose_job_2
			add_idea = GER_serious_lose_job_3
		}
	}
	else_if = {
		limit = {
			has_idea = GER_serious_lose_job_3
		}
		remove_ideas = GER_serious_lose_job_3
	}
}

GER_get_a_governor_to_PREV = {
	if = {
		limit = {
			has_character = GER_Konrad_Adenauer
			GER_Konrad_Adenauer = {
				not = {
					has_character_flag = has_been_a_governor
				}
				is_country_leader = no
			}
		}
		PREV = {
			create_country_leader = {
				name = "俾斯麦"
				desc = ""
				picture = "gfx/leaders/GER/Konrad_Adenauer.dds"
				expire = "1985.1.1"
				ideology = nazism
				traits = {
				}
			}
		}
		GER_Konrad_Adenauer = {
			set_character_flag = has_been_a_governor
		}
	}
	else_if = {
		limit = {
			has_character = GER_gerd_von_rundstedt
			GER_gerd_von_rundstedt = {
				not = {
					has_character_flag = has_been_a_governor
				}
				is_country_leader = no
			}
		}
		PREV = {
			create_country_leader = {
				name = "格尔德·冯·伦德斯泰特"
				desc = ""
				picture = "gfx/leaders/GER/Portrait_Germany_Gerd_von_Rundstedt.dds"
				expire = "1985.1.1"
				ideology = nazism
				traits = {
				}
			}
		}
		GER_gerd_von_rundstedt = {
			set_character_flag = has_been_a_governor
		}
	}
	else_if = {
		limit = {
			has_character = GER_joseph_goebbels
			GER_joseph_goebbels = {
				not = {
					has_character_flag = has_been_a_governor
				}
				is_country_leader = no
			}
		}
		PREV = {
			create_country_leader = {
				name = "约瑟夫·戈培尔"
				desc = ""
				picture = "gfx/leaders/GER/joseph_goebbels.dds"
				expire = "1985.1.1"
				ideology = Strasserism
				traits = {
				}
			}
		}
		GER_joseph_goebbels = {
			set_character_flag = has_been_a_governor
		}
	}
	else_if = {
		limit = {
			not = {
				has_idea = GER_xier_idea
			}
			has_character = GER_xier
			GER_xier = {
				not = {
					has_character_flag = has_been_a_governor
				}
				is_country_leader = no
			}
		}
		PREV = {
			create_country_leader = {
				name = "希尔"
				desc = ""
				picture = "gfx/leaders/GER/AUS_xier.dds"
				expire = "1985.1.1"
				ideology = nazism
				traits = {
				}
			}
		}
		GER_xier = {
			set_character_flag = has_been_a_governor
		}
	}
	else_if = {
		limit = {
			not = {
				has_idea = GER_heinrich_himmler_idea
			}
			has_character = GER_heinrich_himmler
			GER_heinrich_himmler = {
				not = {
					has_character_flag = has_been_a_governor
				}
				is_country_leader = no
			}
		}
		PREV = {
			create_country_leader = {
				name = "海因里希·希姆莱"
				desc = ""
				picture = "gfx/leaders/GER/Portrait_Germany_Heinrich_Himmler.dds"
				expire = "1985.1.1"
				ideology = occultism
				traits = {
				}
			}
		}
		GER_heinrich_himmler = {
			set_character_flag = has_been_a_governor
		}
	}
	else_if = {
		limit = {
			has_character = GER_maiye
			GER_maiye = {
				not = {
					has_character_flag = has_been_a_governor
				}
				is_country_leader = no
			}
		}
		PREV = {
			create_country_leader = {
				name = "赫尔曼·麦椰"
				desc = ""
				picture = "gfx/leaders/GER/Portrait_Germany_Hermann_Goring.dds"
				expire = "1985.1.1"
				ideology = nazism
				traits = {
				}
			}
		}
		GER_maiye = {
			set_character_flag = has_been_a_governor
		}
	}
	else_if = {
		limit = {
			has_character = GER_Tanya
			GER_Tanya = {
				not = {
					has_character_flag = has_been_a_governor
				}
				is_country_leader = no
			}
		}
		PREV = {
			create_country_leader = {
				name = "谭雅·提古雷查夫"
				desc = ""
				picture = "gfx/leaders/GER/AUS_TANYA.dds"
				expire = "1985.1.1"
				ideology = nazism
				traits = {
				}
			}
		}
		GER_Tanya = {
			set_character_flag = has_been_a_governor
		}
	}
	else_if = {
		limit = {
			has_character = GER_ailika
			GER_ailika = {
				not = {
					has_character_flag = has_been_a_governor
				}
				is_country_leader = no
			}
		}
		PREV = {
			create_country_leader = {
				name = "逸见艾丽卡"
				desc = ""
				picture = "gfx/leaders/GER/GER_Erika_13.dds"
				expire = "1985.1.1"
				ideology = nazism
				traits = {
				}
			}
		}
		GER_ailika = {
			set_character_flag = has_been_a_governor
		}
	}
	else_if = {
		limit = {
			has_character = GER_zhensui
			GER_zhensui = {
				not = {
					has_character_flag = has_been_a_governor
				}
				is_country_leader = no
			}
		}
		PREV = {
			create_country_leader = {
				name = "西住真穗"
				desc = ""
				picture = "gfx/leaders/HSF/zhensui.dds"
				expire = "1985.1.1"
				ideology = nazism
				traits = {
				}
			}
		}
		GER_zhensui = {
			set_character_flag = has_been_a_governor
		}
	}
	else_if = {
		limit = {
			has_character = GER_gunther_von_kluge
			GER_gunther_von_kluge = {
				not = {
					has_character_flag = has_been_a_governor
				}
				is_country_leader = no
			}
		}
		PREV = {
			create_country_leader = {
				name = "君特·冯·克鲁格"
				desc = ""
				picture = "gfx/leaders/GER/Portrait_Germany_gunther_von_kluge.dds"
				expire = "1985.1.1"
				ideology = nazism
				traits = {
				}
			}
		}
		GER_gunther_von_kluge = {
			set_character_flag = has_been_a_governor
		}
	}
	else_if = {
		limit = {
			has_character = GER_martin_bormann
			GER_martin_bormann = {
				not = {
					has_character_flag = has_been_a_governor
				}
				is_country_leader = no
			}
		}
		PREV = {
			create_country_leader = {
				name = "马丁·鲍曼"
				desc = ""
				picture = "gfx/leaders/GER/Hasso von Manteuffel.dds"
				expire = "1985.1.1"
				ideology = nazism
				traits = {
				}
			}
		}
		GER_martin_bormann = {
			set_character_flag = has_been_a_governor
		}
	}
	else_if = {
		limit = {
			has_character = GER_erwin_rommel
			GER_erwin_rommel = {
				not = {
					has_character_flag = has_been_a_governor
				}
				is_country_leader = no
			}
		}
		PREV = {
			create_country_leader = {
				name = "埃尔温·隆美尔"
				desc = ""
				picture = "gfx/leaders/GER/Portrait_Germany_erwin_rommel.dds"
				expire = "1985.1.1"
				ideology = nazism
				traits = {
				}
			}
		}
		GER_erwin_rommel = {
			set_character_flag = has_been_a_governor
		}
	}
	else_if = {
		limit = {
			has_character = GER_erich_von_manstein
			GER_erich_von_manstein = {
				not = {
					has_character_flag = has_been_a_governor
				}
				is_country_leader = no
			}
		}
		PREV = {
			create_country_leader = {
				name = "埃里希·冯·曼施坦因"
				desc = ""
				picture = "gfx/leaders/GER/Portrait_Germany_erich_von_manstein.dds"
				expire = "1985.1.1"
				ideology = nazism
				traits = {
				}
			}
		}
		GER_erich_von_manstein = {
			set_character_flag = has_been_a_governor
		}
	}
	else_if = {
		limit = {
			has_character = GER_speer
			GER_speer = {
				not = {
					has_character_flag = has_been_a_governor
				}
				is_country_leader = no
			}
		}
		PREV = {
			create_country_leader = {
				name = "阿尔伯特·施佩尔"
				desc = ""
				picture = "gfx/leaders/GER/speer.dds"
				expire = "1985.1.1"
				ideology = nazism
				traits = {
				}
			}
		}
		GER_speer = {
			set_character_flag = has_been_a_governor
		}
	}
}


