PAL_state_of_mind_improve = {
	custom_effect_tooltip = PAL_state_of_mind_improve_tt
	hidden_effect = {
		if = {
			limit = { has_idea = PAL_state_of_mind_0 }
			swap_ideas = {
				remove_idea = PAL_state_of_mind_0
				add_idea = PAL_state_of_mind_1
			}
		}
		else_if = {
			limit = { has_idea = PAL_state_of_mind_1 }
			swap_ideas = {
				remove_idea = PAL_state_of_mind_1
				add_idea = PAL_state_of_mind_2
			}
		}
		else_if = {
			limit = { has_idea = PAL_state_of_mind_2 }
			swap_ideas = {
				remove_idea = PAL_state_of_mind_2
				add_idea = PAL_state_of_mind_3
			}
		}
		else_if = {
			limit = { has_idea = PAL_state_of_mind_3 }
			swap_ideas = {
				remove_idea = PAL_state_of_mind_3
				add_idea = PAL_state_of_mind_4
			}
		}
		else_if = {
			limit = { has_idea = PAL_state_of_mind_4 }
			swap_ideas = {
				remove_idea = PAL_state_of_mind_4
				add_idea = PAL_state_of_mind_5
			}
		}
		else_if = {
			limit = { has_idea = PAL_state_of_mind_5 }
			add_political_power = 50
			add_war_support = 0.05
		}
	}
}

PAL_state_of_mind_reduce = {
	custom_effect_tooltip = PAL_state_of_mind_reduce_tt
	hidden_effect = {
		if = {
			limit = { has_idea = PAL_state_of_mind_5 }
			swap_ideas = {
				remove_idea = PAL_state_of_mind_5
				add_idea = PAL_state_of_mind_4
			}
		}
		else_if = {
			limit = { has_idea = PAL_state_of_mind_4 }
			swap_ideas = {
				remove_idea = PAL_state_of_mind_4
				add_idea = PAL_state_of_mind_3
			}
		}
		else_if = {
			limit = { has_idea = PAL_state_of_mind_3 }
			swap_ideas = {
				remove_idea = PAL_state_of_mind_3
				add_idea = PAL_state_of_mind_2
			}
		}
		else_if = {
			limit = { has_idea = PAL_state_of_mind_2 }
			swap_ideas = {
				remove_idea = PAL_state_of_mind_2
				add_idea = PAL_state_of_mind_1
			}
		}
		else_if = {
			limit = { has_idea = PAL_state_of_mind_1 }
			swap_ideas = {
				remove_idea = PAL_state_of_mind_1
				add_idea = PAL_state_of_mind_0
			}
		}
		else_if = {
			limit = { has_idea = PAL_state_of_mind_0 }
			add_political_power = -50
			add_stability = -0.05
		}
	}
}

LAN_reorganize_government = {
	if = {
		limit = { has_character = LAN_Kusano_Yui }
		LAN_Kusano_Yui = { this_character_remove_all_role = yes }
	}
}

LAN_reform_upgrade = {
	effect_tooltip = {
		swap_ideas = {
			remove_idea = LAN_baiyinchun_gaige
			add_idea = LAN_baiyinchun_gaige_1
		}
		swap_ideas = {
			remove_idea = LAN_caomujiebing
			add_idea = LAN_caomujiebing_1
		}
	}
    hidden_effect = {
		if = {
			limit = { has_idea = LAN_baiyinchun_gaige }
			swap_ideas = {
				remove_idea = LAN_baiyinchun_gaige
				add_idea = LAN_baiyinchun_gaige_1
			}
		}
		if = {
			limit = { has_idea = LAN_caomujiebing }
			swap_ideas = {
				remove_idea = LAN_caomujiebing
				add_idea = LAN_caomujiebing_1
			}
		}
	}
}

LAN_reform_upgrade_2 = {
	effect_tooltip = {
		swap_ideas = {
			remove_idea = LAN_baiyinchun_gaige_1
			add_idea = LAN_baiyinchun_gaige_2
		}
		swap_ideas = {
			remove_idea = LAN_caomujiebing_1
			add_idea = LAN_caomujiebing_2
		}
	}
	hidden_effect = {
		if = {
			limit = { has_idea = LAN_baiyinchun_gaige_1 }
			swap_ideas = {
				remove_idea = LAN_baiyinchun_gaige_1
				add_idea = LAN_baiyinchun_gaige_2
			}
		}
		if = {
			limit = { has_idea = LAN_caomujiebing_1 }
			swap_ideas = {
				remove_idea = LAN_caomujiebing_1
				add_idea = LAN_caomujiebing_2
			}
		}
	}
}

LAN_reform_upgrade_3 = {
	effect_tooltip = {
		swap_ideas = {
			remove_idea = LAN_baiyinchun_gaige_1
			add_idea = LAN_baiyinchun_gaige_3
		}
		swap_ideas = {
			remove_idea = LAN_caomujiebing_1
			add_idea = LAN_caomujiebing_3
		}
	}
    hidden_effect = {
		if = {
			limit = { has_idea = LAN_baiyinchun_gaige_1 }
			swap_ideas = {
				remove_idea = LAN_baiyinchun_gaige_1
				add_idea = LAN_baiyinchun_gaige_3
			}
		}
		if = {
			limit = { has_idea = LAN_caomujiebing_1 }
			swap_ideas = {
				remove_idea = LAN_caomujiebing_1
				add_idea = LAN_caomujiebing_3
			}
		}
	}
}

LAN_identity_down = {
	if = {
		limit = { has_idea = LAN_weak_population_identity }
		swap_ideas = {
			remove_idea = LAN_weak_population_identity
			add_idea = LAN_weak_population_identity_1
		}
	}
	else_if = {
		limit = { has_idea = LAN_weak_population_identity_1 }
		swap_ideas = {
			remove_idea = LAN_weak_population_identity_1
			add_idea = LAN_weak_population_identity_2
		}
	}
	else_if = {
		limit = { has_idea = LAN_weak_population_identity_2 }
		swap_ideas = {
			remove_idea = LAN_weak_population_identity_2
			add_idea = LAN_weak_population_identity_3
		}
	}
	else_if = {
		limit = { has_idea = LAN_weak_population_identity_3 }
		swap_ideas = {
			remove_idea = LAN_weak_population_identity_3
			add_idea = LAN_weak_population_identity_4
		}
	}
	else_if = {
		limit = { has_idea = LAN_weak_population_identity_4 }
		swap_ideas = {
			remove_idea = LAN_weak_population_identity_4
			add_idea = LAN_weak_population_identity_5
		}
	}
	else_if = {
		limit = { has_idea = LAN_weak_population_identity_5 }
		swap_ideas = {
			remove_idea = LAN_weak_population_identity_5
			add_idea = LAN_weak_population_identity_6
		}
	}
	else_if = {
		limit = { has_idea = LAN_weak_population_identity_6 }
		add_political_power = -100
	}
	else = {
		add_political_power = 50
	}
}

LAN_identity_up = {
	if = {
		limit = { has_idea = LAN_weak_population_identity_6 }
		swap_ideas = {
			remove_idea = LAN_weak_population_identity_6
			add_idea = LAN_weak_population_identity_5
		}
	}
	else_if = {
		limit = { has_idea = LAN_weak_population_identity_5 }
		swap_ideas = {
			remove_idea = LAN_weak_population_identity_6
			add_idea = LAN_weak_population_identity_4
		}
	}
	else_if = {
		limit = { has_idea = LAN_weak_population_identity_4 }
		swap_ideas = {
			remove_idea = LAN_weak_population_identity_4
			add_idea = LAN_weak_population_identity_3
		}
	}
	else_if = {
		limit = { has_idea = LAN_weak_population_identity_3 }
		swap_ideas = {
			remove_idea = LAN_weak_population_identity_3
			add_idea = LAN_weak_population_identity_2
		}
	}
	else_if = {
		limit = { has_idea = LAN_weak_population_identity_2 }
		swap_ideas = {
			remove_idea = LAN_weak_population_identity_2
			add_idea = LAN_weak_population_identity_1
		}
	}
	else_if = {
		limit = { has_idea = LAN_weak_population_identity_1 }
		swap_ideas = {
			remove_idea = LAN_weak_population_identity_1
			add_idea = LAN_weak_population_identity
		}
	}
	else_if = {
		limit = { has_idea = LAN_weak_population_identity }
		add_days_mission_timeout = {
			mission = LAN_identity_is_disappearing_mission
			days = 45
		}
	}
	else = {
		add_political_power = 50
	}
}

LAN_inland_urbanization_ing = {
	if = {
		limit = { has_idea = LAN_inland_urbanization_3 }
		add_political_power = 25
	}
	else_if = {
		limit = { has_idea = LAN_inland_urbanization_2 }
		swap_ideas = {
			remove_idea = LAN_inland_urbanization_2
			add_idea = LAN_inland_urbanization_3
		}
	}
	else_if = {
		limit = { has_idea = LAN_inland_urbanization_1 }
		swap_ideas = {
			remove_idea = LAN_inland_urbanization_1
			add_idea = LAN_inland_urbanization_2
		}
	}
	else = {
		add_ideas = LAN_inland_urbanization_1
	}
}

# Turkish Kemalist Loyalty and Power Check
TUR_kemalist_loyalty_and_power_update_effect = {
	custom_effect_tooltip = TUR_kemalist_loyalty_and_power_update_effect_tt
	hidden_effect = {
		TUR_kemalist_refresh_effect = yes
		if = {
			limit = {
				check_variable = { var = TUR_kemalist_officers_loyalty value = 3 compare = greater_than }
			}
			set_variable = { var = TUR_kemalist_officers_loyalty value = 3 }
		}
		if = {
			limit = {
				check_variable = { var = TUR_kemalist_officers_loyalty value = 1 compare = less_than }
			}
			set_variable = { var = TUR_kemalist_officers_loyalty value = 1 }
		}
		if = { #powerless
			limit = {
				check_variable = { var = TUR_kemalist_officers_loyalty value = 1 compare = equals }
				check_variable = { var = TUR_kemalist_power_variable value = 2 compare = less_than_or_equals }
				NOT = { has_idea = TUR_kemalist_army_officers_minimal_power_disloyal }
			}
			swap_ideas = {
				remove_idea = var:current_officer_spirit
				add_idea = TUR_kemalist_army_officers_minimal_power_disloyal
			}
		}
		else_if = { 
			limit = {
				check_variable = { var = TUR_kemalist_officers_loyalty value = 2 compare = equals }
				check_variable = { var = TUR_kemalist_power_variable value = 2 compare = less_than_or_equals }
				NOT = { has_idea = TUR_kemalist_army_officers_minimal_power_neutral }
			}
			swap_ideas = {
				remove_idea = var:current_officer_spirit
				add_idea = TUR_kemalist_army_officers_minimal_power_neutral
			}
		}
		else_if = { 
			limit = {
				check_variable = { var = TUR_kemalist_officers_loyalty value = 3 compare = equals }
				check_variable = { var = TUR_kemalist_power_variable value = 2 compare = less_than_or_equals }
				NOT = { has_idea = TUR_kemalist_army_officers_minimal_power_loyal }
			}
			swap_ideas = {
				remove_idea = var:current_officer_spirit
				add_idea = TUR_kemalist_army_officers_minimal_power_loyal
			}
		}
		else_if = { #reduced power
			limit = {
				check_variable = { var = TUR_kemalist_officers_loyalty value = 1 compare = equals }
				OR = {
					check_variable = { var = TUR_kemalist_power_variable value = 3 compare = equals }
					check_variable = { var = TUR_kemalist_power_variable value = 4 compare = equals }
				}
				NOT = { has_idea = TUR_kemalist_army_officers_decreased_power_disloyal }
			}
			swap_ideas = {
				remove_idea = var:current_officer_spirit
				add_idea = TUR_kemalist_army_officers_decreased_power_disloyal
			}
		}
		else_if = { 
			limit = {
				check_variable = { var = TUR_kemalist_officers_loyalty value = 2 compare = equals }
				OR = {
					check_variable = { var = TUR_kemalist_power_variable value = 3 compare = equals }
					check_variable = { var = TUR_kemalist_power_variable value = 4 compare = equals }
				}
				NOT = { has_idea = TUR_kemalist_army_officers_decreased_power_neutral }
			}
			swap_ideas = {
				remove_idea = var:current_officer_spirit
				add_idea = TUR_kemalist_army_officers_decreased_power_neutral
			}
		}
		else_if = { 
			limit = {
				check_variable = { var = TUR_kemalist_officers_loyalty value = 3 compare = equals }
				OR = {
					check_variable = { var = TUR_kemalist_power_variable value = 3 compare = equals }
					check_variable = { var = TUR_kemalist_power_variable value = 4 compare = equals }
				}
				NOT = { has_idea = TUR_kemalist_army_officers_decreased_power_loyal }
			}
			swap_ideas = {
				remove_idea = var:current_officer_spirit
				add_idea = TUR_kemalist_army_officers_decreased_power_loyal
			}
		}
		else_if = { #limited power
			limit = {
				check_variable = { var = TUR_kemalist_officers_loyalty value = 1 compare = equals }
				OR = {
					check_variable = { var = TUR_kemalist_power_variable value = 5 compare = equals }
					check_variable = { var = TUR_kemalist_power_variable value = 6 compare = equals }
				}
				NOT = { has_idea = TUR_kemalist_army_officers_limited_power_disloyal }
			}
			swap_ideas = {
				remove_idea = var:current_officer_spirit
				add_idea = TUR_kemalist_army_officers_limited_power_disloyal
			}
		}
		else_if = { 
			limit = {
				check_variable = { var = TUR_kemalist_officers_loyalty value = 2 compare = equals }
				OR = {
					check_variable = { var = TUR_kemalist_power_variable value = 5 compare = equals }
					check_variable = { var = TUR_kemalist_power_variable value = 6 compare = equals }
				}
				NOT = { has_idea = TUR_kemalist_army_officers_limited_power_neutral }
			}
			swap_ideas = {
				remove_idea = var:current_officer_spirit
				add_idea = TUR_kemalist_army_officers_limited_power_neutral
			}
		}
		else_if = { 
			limit = {
				check_variable = { var = TUR_kemalist_officers_loyalty value = 3 compare = equals }
				OR = {
					check_variable = { var = TUR_kemalist_power_variable value = 5 compare = equals }
					check_variable = { var = TUR_kemalist_power_variable value = 6 compare = equals }
				}
				NOT = { has_idea = TUR_kemalist_army_officers_extended_power_loyal }
			}
			swap_ideas = {
				remove_idea = var:current_officer_spirit
				add_idea = TUR_kemalist_army_officers_extended_power_loyal
			}
		}
		else_if = { #extended powers
			limit = {
				check_variable = { var = TUR_kemalist_officers_loyalty value = 1 compare = equals }
				OR = {
					check_variable = { var = TUR_kemalist_power_variable value = 7 compare = equals }
					check_variable = { var = TUR_kemalist_power_variable value = 8 compare = equals }
				}
				NOT = { has_idea = TUR_kemalist_army_officers_extended_power_disloyal }
			}
			swap_ideas = {
				remove_idea = var:current_officer_spirit
				add_idea = TUR_kemalist_army_officers_extended_power_disloyal
			}
		}
		else_if = { 
			limit = {
				check_variable = { var = TUR_kemalist_officers_loyalty value = 2 compare = equals }
				OR = {
					check_variable = { var = TUR_kemalist_power_variable value = 7 compare = equals }
					check_variable = { var = TUR_kemalist_power_variable value = 8 compare = equals }
				}
				NOT = { has_idea = TUR_kemalist_army_officers_extended_power_neutral }
			}
			swap_ideas = {
				remove_idea = var:current_officer_spirit
				add_idea = TUR_kemalist_army_officers_extended_power_neutral
			}
		}
		else_if = { 
			limit = {
				check_variable = { var = TUR_kemalist_officers_loyalty value = 3 compare = equals }
				OR = {
					check_variable = { var = TUR_kemalist_power_variable value = 7 compare = equals }
					check_variable = { var = TUR_kemalist_power_variable value = 8 compare = equals }
				}
				NOT = { has_idea = TUR_kemalist_army_officers_extended_power_loyal }
			}
			swap_ideas = {
				remove_idea = var:current_officer_spirit
				add_idea = TUR_kemalist_army_officers_extended_power_loyal
			}
		}
		else_if = { #unlimited powah!
			limit = {
				check_variable = { var = TUR_kemalist_officers_loyalty value = 1 compare = equals }
				check_variable = { var = TUR_kemalist_power_variable value = 8 compare = greater_than_or_equals }
				NOT = { has_idea = TUR_kemalist_army_officers_powerful_disloyal }
			}
			swap_ideas = {
				remove_idea = var:current_officer_spirit
				add_idea = TUR_kemalist_army_officers_powerful_disloyal
			}
		}
		else_if = { 
			limit = {
				check_variable = { var = TUR_kemalist_officers_loyalty value = 2 compare = equals }
				check_variable = { var = TUR_kemalist_power_variable value = 8 compare = greater_than_or_equals }
				NOT = { has_idea = TUR_kemalist_army_officers_powerful_neutral }
			}
			swap_ideas = {
				remove_idea = var:current_officer_spirit
				add_idea = TUR_kemalist_army_officers_powerful_neutral
			}
		}
		else_if = { 
			limit = {
				check_variable = { var = TUR_kemalist_officers_loyalty value = 3 compare = equals }
				check_variable = { var = TUR_kemalist_power_variable value = 8 compare = greater_than_or_equals }
				NOT = { has_idea = TUR_kemalist_army_officers_powerful_loyal }
			}
			swap_ideas = {
				remove_idea = var:current_officer_spirit
				add_idea = TUR_kemalist_army_officers_powerful_loyal
			}
		}
	}
}

# Turkish Kemalist Officer Spirit Refresh
TUR_kemalist_refresh_effect = {
	hidden_effect = {
		if = { 
			limit = {
				ROOT = { has_idea = TUR_kemalist_army_officers_minimal_power_loyal }
			}
			set_temp_variable = { current_officer_spirit = token:TUR_kemalist_army_officers_minimal_power_loyal }
		}
		if = { 
			limit = {
				ROOT = { has_idea = TUR_kemalist_army_officers_minimal_power_neutral }
			}
			set_temp_variable = { current_officer_spirit = token:TUR_kemalist_army_officers_minimal_power_neutral }
		}
		if = { 
			limit = {
				ROOT = { has_idea = TUR_kemalist_army_officers_minimal_power_disloyal }
			}
			set_temp_variable = { current_officer_spirit = token:TUR_kemalist_army_officers_minimal_power_disloyal }
		}
		if = { 
			limit = {
				ROOT = { has_idea = TUR_kemalist_army_officers_decreased_power_loyal }
			}
			set_temp_variable = { current_officer_spirit = token:TUR_kemalist_army_officers_decreased_power_loyal }
		}
		if = { 
			limit = {
				ROOT = { has_idea = TUR_kemalist_army_officers_decreased_power_neutral }
			}
			set_temp_variable = { current_officer_spirit = token:TUR_kemalist_army_officers_decreased_power_neutral }
		}
		if = { 
			limit = {
				ROOT = { has_idea = TUR_kemalist_army_officers_decreased_power_disloyal }
			}
			set_temp_variable = { current_officer_spirit = token:TUR_kemalist_army_officers_decreased_power_disloyal }
		}
		if = { 
			limit = {
				ROOT = { has_idea = TUR_kemalist_army_officers_limited_power_loyal }
			}
			set_temp_variable = { current_officer_spirit = token:TUR_kemalist_army_officers_limited_power_loyal }
		}
		if = { 
			limit = {
				ROOT = { has_idea = TUR_kemalist_army_officers_limited_power_neutral }
			}
			set_temp_variable = { current_officer_spirit = token:TUR_kemalist_army_officers_limited_power_neutral }
		}
		if = { 
			limit = {
				ROOT = { has_idea = TUR_kemalist_army_officers_limited_power_disloyal }
			}
			set_temp_variable = { current_officer_spirit = token:TUR_kemalist_army_officers_limited_power_disloyal }
		}
		if = { 
			limit = {
				ROOT = { has_idea = TUR_kemalist_army_officers_extended_power_loyal }
			}
			set_temp_variable = { current_officer_spirit = token:TUR_kemalist_army_officers_extended_power_loyal }
		}
		if = { 
			limit = {
				ROOT = { has_idea = TUR_kemalist_army_officers_extended_power_neutral }
			}
			set_temp_variable = { current_officer_spirit = token:TUR_kemalist_army_officers_extended_power_neutral }
		}
		if = { 
			limit = {
				ROOT = { has_idea = TUR_kemalist_army_officers_extended_power_disloyal }
			}
			set_temp_variable = { current_officer_spirit = token:TUR_kemalist_army_officers_extended_power_disloyal }
		}
		if = { 
			limit = {
				ROOT = { has_idea = TUR_kemalist_army_officers_powerful_loyal }
			}
			set_temp_variable = { current_officer_spirit = token:TUR_kemalist_army_officers_powerful_loyal }
		}
		if = { 
			limit = {
				ROOT = { has_idea = TUR_kemalist_army_officers_powerful_neutral }
			}
			set_temp_variable = { current_officer_spirit = token:TUR_kemalist_army_officers_powerful_neutral }
		}
		if = { 
			limit = {
				ROOT = { has_idea = TUR_kemalist_army_officers_powerful_disloyal }
			}
			set_temp_variable = { current_officer_spirit = token:TUR_kemalist_army_officers_powerful_disloyal }
		}
	}
}

TUR_remove_kemalist_army_officers = {
	if = {
		limit = { has_idea = TUR_kemalist_army_officers_minimal_power_loyal }
		remove_ideas = TUR_kemalist_army_officers_minimal_power_loyal
	}
	if = {
		limit = { has_idea = TUR_kemalist_army_officers_minimal_power_neutral }
		remove_ideas = TUR_kemalist_army_officers_minimal_power_neutral
	}
	if = {
		limit = { has_idea = TUR_kemalist_army_officers_minimal_power_disloyal }
		remove_ideas = TUR_kemalist_army_officers_minimal_power_disloyal
	}
	if = {
		limit = { has_idea = TUR_kemalist_army_officers_decreased_power_loyal }
		remove_ideas = TUR_kemalist_army_officers_decreased_power_loyal
	}
	if = {
		limit = { has_idea = TUR_kemalist_army_officers_decreased_power_neutral }
		remove_ideas = TUR_kemalist_army_officers_decreased_power_neutral
	}
	if = {
		limit = { has_idea = TUR_kemalist_army_officers_decreased_power_disloyal }
		remove_ideas = TUR_kemalist_army_officers_decreased_power_disloyal
	}
	if = {
		limit = { has_idea = TUR_kemalist_army_officers_limited_power_loyal }
		remove_ideas = TUR_kemalist_army_officers_limited_power_loyal
	}
	if = {
		limit = { has_idea = TUR_kemalist_army_officers_limited_power_neutral }
		remove_ideas = TUR_kemalist_army_officers_limited_power_neutral
	}
	if = {
		limit = { has_idea = TUR_kemalist_army_officers_limited_power_disloyal }
		remove_ideas = TUR_kemalist_army_officers_limited_power_disloyal
	}
	if = {
		limit = { has_idea = TUR_kemalist_army_officers_extended_power_loyal }
		remove_ideas = TUR_kemalist_army_officers_extended_power_loyal
	}
	if = {
		limit = { has_idea = TUR_kemalist_army_officers_extended_power_neutral }
		remove_ideas = TUR_kemalist_army_officers_extended_power_neutral
	}
	if = {
		limit = { has_idea = TUR_kemalist_army_officers_extended_power_disloyal }
		remove_ideas = TUR_kemalist_army_officers_extended_power_disloyal
	}
	if = {
		limit = { has_idea = TUR_kemalist_army_officers_powerful_loyal }
		remove_ideas = TUR_kemalist_army_officers_powerful_loyal
	}
	if = {
		limit = { has_idea = TUR_kemalist_army_officers_powerful_neutral }
		remove_ideas = TUR_kemalist_army_officers_powerful_neutral
	}
	if = {
		limit = { has_idea = TUR_kemalist_army_officers_powerful_disloyal }
		remove_ideas = TUR_kemalist_army_officers_powerful_disloyal
	}
}

TUR_modifier_influence_modifier = {
	TUR_check_influence = yes
	hidden_effect = {
		set_variable = { TPS_stability_factor = 0.50 }
		set_variable = { TPS_war_support_factor = 0.50 }
		set_variable = { TPS_monthly_population = 0.50 }

		set_variable = { TPS_democratic_drift = 0.20 }
		set_variable = { TPS_research_speed_factor = 0.40 }

		set_variable = { TPS_industrial_capacity_factory = 0.40 }
		set_variable = { TPS_production_speed_buildings_factor = 0.40 }

		set_variable = { TPS_conscription_factor = 0.20 }
		set_variable = { TPS_supply_consumption_factor = -0.40 }
	}
	hidden_effect = {
		multiply_variable = { TPS_stability_factor = MV_progress_frame }
		multiply_variable = { TPS_war_support_factor = MV_progress_frame }
		multiply_variable = { TPS_monthly_population = MV_progress_frame }
		divide_variable = { TPS_stability_factor = 100 }
		divide_variable = { TPS_war_support_factor = 100 }
		divide_variable = { TPS_monthly_population = 100 }

		multiply_variable = { TPS_democratic_drift = ACE_progress_frame }
		multiply_variable = { TPS_research_speed_factor = ACE_progress_frame }
		divide_variable = { TPS_democratic_drift = 100 }
		divide_variable = { TPS_research_speed_factor = 100 }

		multiply_variable = { TPS_industrial_capacity_factory = TCI_progress_frame }
		multiply_variable = { TPS_production_speed_buildings_factor = TCI_progress_frame }
		divide_variable = { TPS_industrial_capacity_factory = 100 }
		divide_variable = { TPS_production_speed_buildings_factor = 100 }

		multiply_variable = { TPS_conscription_factor = BH_progress_frame }
		multiply_variable = { TPS_supply_consumption_factor = BH_progress_frame }
		divide_variable = { TPS_conscription_factor = 100 }
		divide_variable = { TPS_supply_consumption_factor = 100 }
	}
	TUR_modifier_attitude_modifier = yes
}

TUR_modifier_attitude_modifier = {
	if = {
		limit = { check_variable = { TUR_MV_attitude = 4 } }
		multiply_variable = { TPS_stability_factor = 1 }
		multiply_variable = { TPS_war_support_factor = 1 }
		multiply_variable = { TPS_monthly_population = 1 }
	}
	else_if = {
		limit = { check_variable = { TUR_MV_attitude = 3 } }
		multiply_variable = { TPS_stability_factor = 0.75 }
		multiply_variable = { TPS_war_support_factor = 0.75 }
		multiply_variable = { TPS_monthly_population = 0.75 }
	}
	else_if = {
		limit = { check_variable = { TUR_MV_attitude = 2 } }
		multiply_variable = { TPS_stability_factor = 0.50 }
		multiply_variable = { TPS_war_support_factor = 0.50 }
		multiply_variable = { TPS_monthly_population = 0.50 }
	}
	else_if = {
		limit = { check_variable = { TUR_MV_attitude = 1 } }
		multiply_variable = { TPS_stability_factor = 0.25 }
		multiply_variable = { TPS_war_support_factor = 0.25 }
		multiply_variable = { TPS_monthly_population = 0.25 }
	}
	else_if = {
		limit = { check_variable = { TUR_MV_attitude = -1 } }
		set_variable = { TPS_stability_factor = 0 }
		set_variable = { TPS_war_support_factor = 0 }
		set_variable = { TPS_monthly_population = 0 }
	}
	else = {
		custom_effect_tooltip = TUR_PS_error_occur_noted
	}
	
	if = {
		limit = { check_variable = { TUR_ACE_attitude = 4 } }
		multiply_variable = { TPS_democratic_drift = 1 }
		multiply_variable = { TPS_research_speed_factor = 1 }
	}
	else_if = {
		limit = { check_variable = { TUR_ACE_attitude = 3 } }
		multiply_variable = { TPS_democratic_drift = 0.75 }
		multiply_variable = { TPS_research_speed_factor = 0.75 }
	}
	else_if = {
		limit = { check_variable = { TUR_ACE_attitude = 2 } }
		multiply_variable = { TPS_democratic_drift = 0.50 }
		multiply_variable = { TPS_research_speed_factor = 0.50 }
	}
	else_if = {
		limit = { check_variable = { TUR_ACE_attitude = 1 } }
		multiply_variable = { TPS_democratic_drift = 0.25 }
		multiply_variable = { TPS_research_speed_factor = 0.25 }
	}
	else_if = {
		limit = { check_variable = { TUR_ACE_attitude = -1 } }
		set_variable = { TPS_democratic_drift = 0 }
		set_variable = { TPS_research_speed_factor = 0 }
	}
	else = {
		custom_effect_tooltip = TUR_PS_error_occur_noted
	}
	
	if = {
		limit = { check_variable = { TUR_TCI_attitude = 4 } }
		multiply_variable = { TPS_industrial_capacity_factory = 1 }
		multiply_variable = { TPS_production_speed_buildings_factor = 1 }
	}
	else_if = {
		limit = { check_variable = { TUR_TCI_attitude = 3 } }
		multiply_variable = { TPS_industrial_capacity_factory = 0.75 }
		multiply_variable = { TPS_production_speed_buildings_factor = 0.75 }
	}
	else_if = {
		limit = { check_variable = { TUR_TCI_attitude = 2 } }
		multiply_variable = { TPS_industrial_capacity_factory = 0.5 }
		multiply_variable = { TPS_production_speed_buildings_factor = 0.5 }
	}
	else_if = {
		limit = { check_variable = { TUR_TCI_attitude = 1 } }
		multiply_variable = { TPS_industrial_capacity_factory = 0.25 }
		multiply_variable = { TPS_production_speed_buildings_factor = 0.25 }
	}
	else_if = {
		limit = { check_variable = { TUR_TCI_attitude = -1 } }
		set_variable = { TPS_industrial_capacity_factory = 0 }
		set_variable = { TPS_production_speed_buildings_factor = 0 }
	}
	else = {
		custom_effect_tooltip = TUR_PS_error_occur_noted
	}
	
	if = {
		limit = { check_variable = { TUR_BH_attitude = 4 } }
		multiply_variable = { TPS_conscription_factor = 1 }
		multiply_variable = { TPS_supply_consumption_factor = 1 }
	}
	else_if = {
		limit = { check_variable = { TUR_BH_attitude = 3 } }
		multiply_variable = { TPS_conscription_factor = 0.75 }
		multiply_variable = { TPS_supply_consumption_factor = 0.75 }
	}
	else_if = {
		limit = { check_variable = { TUR_BH_attitude = 2 } }
		multiply_variable = { TPS_conscription_factor = 0.5 }
		multiply_variable = { TPS_supply_consumption_factor = 0.5 }
	}
	else_if = {
		limit = { check_variable = { TUR_BH_attitude = 1 } }
		multiply_variable = { TPS_conscription_factor = 0.25 }
		multiply_variable = { TPS_supply_consumption_factor = 0.25 }
	}
	else_if = {
		limit = { check_variable = { TUR_BH_attitude = -1 } }
		set_variable = { TPS_conscription_factor = 0 }
		set_variable = { TPS_supply_consumption_factor = 0 }
	}
	else = {
		custom_effect_tooltip = TUR_PS_error_occur_noted
	}
}

TUR_check_influence = {
	if = {
		limit = { check_variable = { MV_progress_frame > 100 } }
		subtract_from_variable = { MV_progress_frame = 100 }
		if = {
			limit = { check_variable = { TUR_MV_attitude < 4 } }
			add_to_variable = { TUR_MV_attitude = 1 tooltip = TUR_MV_attitude_up }
		}
		else = {
			set_variable = { MV_progress_frame = 100 }
		}
	}
	if = {
		limit = { check_variable = { MV_progress_frame < 0 } }
		add_to_variable = { MV_progress_frame = 100 }
		if = {
			limit = { check_variable = { TUR_MV_attitude > 1 } }
			subtract_from_variable = { TUR_MV_attitude = 1 tooltip = TUR_MV_attitude_down }
		}
		else = {
			set_variable = { MV_progress_frame = 0 }
		}
	}
	
	if = {
		limit = { check_variable = { ACE_progress_frame > 100 } }
		subtract_from_variable = { ACE_progress_frame = 100 }
		if = {
			limit = { check_variable = { TUR_ACE_attitude < 4 } }
			add_to_variable = { TUR_ACE_attitude = 1 tooltip = TUR_ACE_attitude_up }
		}
		else = {
			set_variable = { ACE_progress_frame = 100 }
		}
	}
	if = {
		limit = { check_variable = { ACE_progress_frame < 0 } }
		add_to_variable = { ACE_progress_frame = 100 }
		if = {
			limit = { check_variable = { TUR_ACE_attitude > 1 } }
			subtract_from_variable = { TUR_ACE_attitude = 1 tooltip = TUR_ACE_attitude_down }
		}
		else = {
			set_variable = { ACE_progress_frame = 0 }
		}
	}
	
	if = {
		limit = { check_variable = { TCI_progress_frame > 100 } }
		subtract_from_variable = { TCI_progress_frame = 100 }
		if = {
			limit = { check_variable = { TUR_TCI_attitude < 4 } }
			add_to_variable = { TUR_TCI_attitude = 1 tooltip = TUR_TCI_attitude_up }
		}
		else = {
			set_variable = { TCI_progress_frame = 100 }
		}
	}
	if = {
		limit = { check_variable = { TCI_progress_frame < 0 } }
		add_to_variable = { TCI_progress_frame = 100 }
		if = {
			limit = { check_variable = { TUR_TCI_attitude > 1 } }
			subtract_from_variable = { TUR_TCI_attitude = 1 tooltip = TUR_TCI_attitude_down }
		}
		else = {
			set_variable = { TCI_progress_frame = 0 }
		}
	}
	
	if = {
		limit = { check_variable = { BH_progress_frame > 100 } }
		subtract_from_variable = { BH_progress_frame = 100 }
		if = {
			limit = { check_variable = { TUR_BH_attitude < 4 } }
			add_to_variable = { TUR_BH_attitude = 1 tooltip = TUR_BH_attitude_up }
		}
		else = {
			set_variable = { BH_progress_frame = 100 }
		}
	}
	if = {
		limit = { check_variable = { BH_progress_frame < 0 } }
		add_to_variable = { BH_progress_frame = 100 }
		if = {
			limit = { check_variable = { TUR_BH_attitude > 1 } }
			subtract_from_variable = { TUR_BH_attitude = 1 tooltip = TUR_BH_attitude_down }
		}
		else = {
			set_variable = { BH_progress_frame = 0 }
		}
	}
}

TUR_MV_influence_small_up = {
	add_to_variable = { MV_progress_frame = 5 tooltip = TUR_MV_influence_small_up_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_ACE_influence_small_up = {
	add_to_variable = { ACE_progress_frame = 5 tooltip = TUR_ACE_influence_small_up_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_TCI_influence_small_up = {
	add_to_variable = { TCI_progress_frame = 5 tooltip = TUR_TCI_influence_small_up_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_BH_influence_small_up = {
	add_to_variable = { BH_progress_frame = 5 tooltip = TUR_BH_influence_small_up_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_MV_influence_medium_up = {
	add_to_variable = { MV_progress_frame = 10 tooltip = TUR_MV_influence_medium_up_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_ACE_influence_medium_up = {
	add_to_variable = { ACE_progress_frame = 10 tooltip = TUR_ACE_influence_medium_up_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_TCI_influence_medium_up = {
	add_to_variable = { TCI_progress_frame = 10 tooltip = TUR_TCI_influence_medium_up_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_BH_influence_medium_up = {
	add_to_variable = { BH_progress_frame = 10 tooltip = TUR_BH_influence_medium_up_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_MV_influence_large_up = {
	add_to_variable = { MV_progress_frame = 15 tooltip = TUR_MV_influence_large_up_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_ACE_influence_large_up = {
	add_to_variable = { ACE_progress_frame = 15 tooltip = TUR_ACE_influence_large_up_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_TCI_influence_large_up = {
	add_to_variable = { TCI_progress_frame = 15 tooltip = TUR_TCI_influence_large_up_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_BH_influence_large_up = {
	add_to_variable = { BH_progress_frame = 15 tooltip = TUR_BH_influence_large_up_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_MV_influence_super_up = {
	add_to_variable = { MV_progress_frame = 20 tooltip = TUR_MV_influence_super_up_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_ACE_influence_super_up = {
	add_to_variable = { ACE_progress_frame = 20 tooltip = TUR_ACE_influence_super_up_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_TCI_influence_super_up = {
	add_to_variable = { TCI_progress_frame = 20 tooltip = TUR_TCI_influence_super_up_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_BH_influence_super_up = {
	add_to_variable = { BH_progress_frame = 20 tooltip = TUR_BH_influence_super_up_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_MV_influence_small_down = {
	subtract_from_variable = { MV_progress_frame = 5 tooltip = TUR_MV_influence_small_down_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_ACE_influence_small_down = {
	subtract_from_variable = { ACE_progress_frame = 5 tooltip = TUR_ACE_influence_small_down_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_TCI_influence_small_down = {
	subtract_from_variable = { TCI_progress_frame = 5 tooltip = TUR_TCI_influence_small_down_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_BH_influence_small_down = {
	subtract_from_variable = { BH_progress_frame = 5 tooltip = TUR_BH_influence_small_down_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_MV_influence_medium_down = {
	subtract_from_variable = { MV_progress_frame = 10 tooltip = TUR_MV_influence_medium_down_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_ACE_influence_medium_down = {
	subtract_from_variable = { ACE_progress_frame = 10 tooltip = TUR_ACE_influence_medium_down_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_TCI_influence_medium_down = {
	subtract_from_variable = { TCI_progress_frame = 10 tooltip = TUR_TCI_influence_medium_down_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_BH_influence_medium_down = {
	subtract_from_variable = { BH_progress_frame = 10 tooltip = TUR_BH_influence_medium_down_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_MV_influence_large_down = {
	subtract_from_variable = { MV_progress_frame = 15 tooltip = TUR_MV_influence_large_down_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_ACE_influence_large_down = {
	subtract_from_variable = { ACE_progress_frame = 15 tooltip = TUR_ACE_influence_large_down_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_TCI_influence_large_down = {
	subtract_from_variable = { TCI_progress_frame = 15 tooltip = TUR_TCI_influence_large_down_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_BH_influence_large_down = {
	subtract_from_variable = { BH_progress_frame = 15 tooltip = TUR_BH_influence_large_down_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_MV_influence_super_down = {
	subtract_from_variable = { MV_progress_frame = 20 tooltip = TUR_MV_influence_super_down_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_ACE_influence_super_down = {
	subtract_from_variable = { ACE_progress_frame = 20 tooltip = TUR_ACE_influence_super_down_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_TCI_influence_super_down = {
	subtract_from_variable = { TCI_progress_frame = 20 tooltip = TUR_TCI_influence_super_down_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_BH_influence_super_down = {
	subtract_from_variable = { BH_progress_frame = 20 tooltip = TUR_BH_influence_super_down_tt }
	TUR_modifier_influence_modifier = yes
}

TUR_remove_all_SL = {
	clr_country_flag = TUR_Kemal_SL_flag
	clr_country_flag = TUR_Celal_Bayar_SL_flag
	clr_country_flag = TUR_Adnan_Menderes_SL_flag
	clr_country_flag = TUR_Fevzi_Cakmak_SL_flag
	clr_country_flag = TUR_Ismet_Inonu_SL_flag
	clr_country_flag = TUR_Kazim_Orbay_SL_flag
	clr_country_flag = TUR_Recep_Peker_SL_flag
	clr_country_flag = TUR_Sefik_Husnu_SL_flag
	clr_country_flag = TUR_Sevket_Sureyya_Aydemir_SL_flag
	clr_country_flag = TUR_Sukru_Saracoglu_SL_flag
	clr_country_flag = TUR_Abdulmejid_ii_SL_flag
	clr_country_flag = TUR_Veruca_SL_flag
	clr_country_flag = TUR_Becas_SL_flag
	clr_country_flag = TUR_Military_Council_SL_flag
	clr_country_flag = TUR_Fascism_Council_SL_flag
}

TUR_renovate_PS_gui = {
	hidden_effect = {
		add_to_variable = { TUR_power_struggle_scripted_gui_var = 0.01 }
	}
}

TUR_renovate_MR_gui = {
	hidden_effect = {
		if = {
			limit = { check_variable = { TUR_mech_attack_factor > 0.50 } }
			set_variable = { TUR_mech_attack_factor = 0.50 }
		}
		if = {
			limit = { check_variable = { TUR_mech_defence_factor > 0.50 } }
			set_variable = { TUR_mech_defence_factor = 0.50 }
		}
		if = {
			limit = { check_variable = { TUR_mech_speed_factor > 0.50 } }
			set_variable = { TUR_mech_speed_factor = 0.50 }
		}
		if = {
			limit = { check_variable = { TUR_mech_max_org_factor > 0.50 } }
			set_variable = { TUR_mech_max_org_factor = 0.50 }
		}
		if = {
			limit = { check_variable = { TUR_mech_org_recovery_factor > 0.50 } }
			set_variable = { TUR_mech_org_recovery_factor = 0.50 }
		}
		if = {
			limit = { check_variable = { TUR_mech_combat_factor > 0.50 } }
			set_variable = { TUR_mech_combat_factor = 0.50 }
		}
		add_to_variable = { TUR_mechs_research_scripted_gui_var = 0.01 }
	}
}

TUR_load_mech_troop = {
	if = {
		limit = { NOT = { has_template = "Top Mech Troops" } }
		division_template = {
			name = "Top Mech Troops"
			is_locked = yes
			template_counter = 42
			division_names_group = TUR_INF_01
			regiments = {
				mech = { x = 0 y = 0 }
				mech = { x = 0 y = 1 }
				mech = { x = 0 y = 2 }
				mech = { x = 0 y = 3 }
				mech = { x = 0 y = 4 }
				mech = { x = 1 y = 0 }
				mech = { x = 1 y = 1 }
				mech = { x = 1 y = 2 }
				mech = { x = 1 y = 3 }
				mech = { x = 1 y = 4 }
				infantry = { x = 2 y = 0 }
			}
			support = {
				engineer = { x = 0 y = 0 }
				mot_recon = { x = 0 y = 1 }
				artillery = { x = 0 y = 2 }
				logistics_company = { x = 0 y = 3 }
			}
			priority = 2
		}
	}
	if = {
		limit = { NOT = { has_template = "Infantry Mech Troops" } }
		division_template = {
			name = "Infantry Mech Troops"
			is_locked = yes
			template_counter = 42
			division_names_group = TUR_INF_01
			regiments = {
				mech = { x = 0 y = 0 }
				mech = { x = 0 y = 1 }
				mech = { x = 0 y = 2 }
				mech = { x = 0 y = 3 }
				mech = { x = 0 y = 4 }
				infantry = { x = 1 y = 0 }
				infantry = { x = 1 y = 1 }
				infantry = { x = 1 y = 2 }
				infantry = { x = 1 y = 3 }
				infantry = { x = 1 y = 4 }
				infantry = { x = 2 y = 0 }
				infantry = { x = 2 y = 1 }
				infantry = { x = 2 y = 2 }
				infantry = { x = 2 y = 3 }
				mech = { x = 3 y = 0 }
			}
			support = {
				engineer = { x = 0 y = 0 }
				mot_recon = { x = 0 y = 1 }
				artillery = { x = 0 y = 2 }
				logistics_company = { x = 0 y = 3 }
			}
			priority = 2
		}
	}
	random_owned_state = {
		limit = { is_capital = yes }
		create_unit = {
			division = "division_template = \"Top Mech Troops\" start_experience_factor = 0.2 start_equipment_factor = 1.0 start_manpower_factor = 1.0" 
			owner = ROOT
			count = 1
		}
	}
	random_owned_state = {
		limit = { is_capital = yes }
		create_unit = {
			division = "division_template = \"Infantry Mech Troops\" start_experience_factor = 0.2 start_equipment_factor = 1.0 start_manpower_factor = 1.0" 
			owner = ROOT
			count = 1
		}
	}
}

TUR_delall_mech_troop = {
	if = {
		limit = { has_template = "Top Mech Troops" }
		delete_unit_template_and_units = { division_template = "Top Mech Troops" disband = no }
	}
	if = {
		limit = { has_template = "Infantry Mech Troops" }
		delete_unit_template_and_units = { division_template = "Infantry Mech Troops" disband = no }
	}
}

TAG_wc_add_America_Civil_War_tab = {
	set_temp_variable = { conflict_id = token:AmericaCW }
}

TAG_wc_remove_America_Civil_War_tab = {
	set_temp_variable = { conflict_id = token:AmericaCW }
}

TAG_wc_add_Soviet_Ukraine_Special_Military_Operations_tab = {
	set_temp_variable = { conflict_id = token:SovietUkraineSMO }
}

TAG_wc_remove_Soviet_Ukraine_Special_Military_Operations_tab = {
	set_temp_variable = { conflict_id = token:SovietUkraineSMO }
}

RIS_power_up = {
	if = {
		limit = { has_idea = RIS_power_idea }
		swap_ideas = {
			remove_idea = RIS_power_idea
			add_idea = RIS_power_idea_1
		}
	}
	else_if = {
		limit = { has_idea = RIS_power_idea_1 }
		swap_ideas = {
			remove_idea = RIS_power_idea_1
			add_idea = RIS_power_idea_2
		}
	}
	else_if = {
		limit = { has_idea = RIS_power_idea_2 }
		swap_ideas = {
			remove_idea = RIS_power_idea_2
			add_idea = RIS_power_idea_3
		}
	}
	else_if = {
		limit = { has_idea = RIS_power_idea_3 }
		swap_ideas = {
			remove_idea = RIS_power_idea_3
			add_idea = RIS_power_idea_4
		}
	}
	else = {
		add_political_power = -50
	}
}

RIS_bullion_up = {
	if = {
		limit = { has_idea = RIS_bullion_idea }
		swap_ideas = {
			remove_idea = RIS_bullion_idea
			add_idea = RIS_bullion_idea_1
		}
	}
	else_if = {
		limit = { has_idea = RIS_bullion_idea_1 }
		swap_ideas = {
			remove_idea = RIS_bullion_idea_1
			add_idea = RIS_bullion_idea_2
		}
	}
	else_if = {
		limit = { has_idea = RIS_bullion_idea_2 }
		swap_ideas = {
			remove_idea = RIS_bullion_idea_2
			add_idea = RIS_bullion_idea_3
		}
	}
	else_if = {
		limit = { has_idea = RIS_bullion_idea_3 }
		swap_ideas = {
			remove_idea = RIS_bullion_idea_3
			add_idea = RIS_bullion_idea_4
		}
	}
	else = {
		add_political_power = -50
	}
}

RIS_money_up = {
	if = {
		limit = { has_idea = RIS_money_idea }
		swap_ideas = {
			remove_idea = RIS_money_idea
			add_idea = RIS_money_idea_1
		}
	}
	else_if = {
		limit = { has_idea = RIS_money_idea_1 }
		swap_ideas = {
			remove_idea = RIS_money_idea_1
			add_idea = RIS_money_idea_2
		}
	}
	else_if = {
		limit = { has_idea = RIS_money_idea_2 }
		swap_ideas = {
			remove_idea = RIS_money_idea_2
			add_idea = RIS_money_idea_3
		}
	}
	else_if = {
		limit = { has_idea = RIS_money_idea_3 }
		swap_ideas = {
			remove_idea = RIS_money_idea_3
			add_idea = RIS_money_idea_4
		}
	}
	else = {
		add_political_power = -50
	}
}

RIS_remove_power_idea = {
	if = {
		limit = { has_idea = RIS_power_idea }
		remove_ideas = RIS_power_idea
	}
	if = {
		limit = { has_idea = RIS_power_idea_1 }
		remove_ideas = RIS_power_idea_1
	}
	if = {
		limit = { has_idea = RIS_power_idea_2 }
		remove_ideas = RIS_power_idea_2
	}
	if = {
		limit = { has_idea = RIS_power_idea_3 }
		remove_ideas = RIS_power_idea_3
	}
	if = {
		limit = { has_idea = RIS_power_idea_4 }
		remove_ideas = RIS_power_idea_4
	}
}

RIS_remove_bullion_idea = {
	if = {
		limit = { has_idea = RIS_bullion_idea }
		remove_ideas = RIS_bullion_idea
	}
	if = {
		limit = { has_idea = RIS_bullion_idea_1 }
		remove_ideas = RIS_bullion_idea_1
	}
	if = {
		limit = { has_idea = RIS_bullion_idea_2 }
		remove_ideas = RIS_bullion_idea_2
	}
	if = {
		limit = { has_idea = RIS_bullion_idea_3 }
		remove_ideas = RIS_bullion_idea_3
	}
	if = {
		limit = { has_idea = RIS_bullion_idea_4 }
		remove_ideas = RIS_bullion_idea_4
	}
}

RIS_remove_money_idea = {
	if = {
		limit = { has_idea = RIS_money_idea }
		remove_ideas = RIS_money_idea
	}
	if = {
		limit = { has_idea = RIS_money_idea_1 }
		remove_ideas = RIS_money_idea_1
	}
	if = {
		limit = { has_idea = RIS_money_idea_2 }
		remove_ideas = RIS_money_idea_2
	}
	if = {
		limit = { has_idea = RIS_money_idea_3 }
		remove_ideas = RIS_money_idea_3
	}
	if = {
		limit = { has_idea = RIS_money_idea_4 }
		remove_ideas = RIS_money_idea_4
	}
}

RIS_change_num_of_tickets = {
	hidden_effect = {
		set_variable = { RIS_num_of_tickets_booked = 0 }
		set_variable = { RIS_goods_vip_var = RIS_goods_vip_booked_var }
		set_variable = { RIS_goods_box_var = RIS_goods_box_booked_var }
		set_variable = { RIS_goods_guest_var = RIS_goods_guest_booked_var }
		add_to_variable = { RIS_num_of_tickets_booked = RIS_goods_vip_var }
		add_to_variable = { RIS_num_of_tickets_booked = RIS_goods_box_var }
		add_to_variable = { RIS_num_of_tickets_booked = RIS_goods_guest_var }
	}
}

RIS_check_member_in_theatre = {
	hidden_effect = {
		every_country = { RIS_will_close_door = yes }
		if = {
			limit = { has_idea = RIS_medical_profit_in_mediterranean_idea }
			remove_ideas = RIS_medical_profit_in_mediterranean_idea
		}
		if = {
			limit = { has_idea = RIS_gratitude_and_reward_idea }
			remove_ideas = RIS_gratitude_and_reward_idea
		}
		set_variable = { RIS_num_of_tickets = 0 }
		every_country = {
			limit = { has_guaranteed = RIS }
			RIS = { add_to_variable = { RIS_num_of_tickets = 1 } }
		}
		if = {
			limit = { RIS = { check_variable = { RIS_num_of_tickets > 6 } } }
			country_event = ris.1001
			#FOR DEBUG
		}
		else_if = {
			limit = { NOT = { check_variable = { RIS_num_of_tickets = RIS_num_of_tickets_booked } } }
			country_event = ris.5
		}
		else = {
			#indu_ranking
			for_each_scope_loop = {
				array = global.indu_countries
#				if = {
#					limit = {
#						NOT = { TAG = SOV }
#						NOT = { TAG = DVL }
#						NOT = { TAG = RJE }
#					}
#					country_event = { id = ris.2 days = 1 }
#				}
				RIS_check_goods_tickets = yes
				#country_event = { id = ris.2 days = 1 }
			}
			RIS = { country_event = { id = ris.3 days = 3 } }
		}
	}
}

RIS_check_goods_tickets = {
	hidden_effect = {
		if = {
			limit = {
				THIS = { NOT = { TAG = RIS } }
				has_guaranteed = RIS
			}
			if = {
				limit = { RIS = { check_variable = { RIS_goods_vip_var > 0 } } }
				RIS = {
					subtract_from_variable = { RIS_goods_vip_var = 1 }
					add_to_variable = { RIS_gratitude_reward_goods_factor = 0.06 }
				}
				THIS = { set_variable = { RIS_guaranteed_country = 3 } }
				log = "[GetDateText]: [THIS.GetName]: money: 3"
			}
			else_if ={
				limit = { RIS = { check_variable = { RIS_goods_box_var > 0 } } }
				RIS = {
					subtract_from_variable = { RIS_goods_box_var = 1 }
					add_to_variable = { RIS_gratitude_reward_goods_factor = 0.03 }
				}
				THIS = { set_variable = { RIS_guaranteed_country = 2 } }
				log = "[GetDateText]: [THIS.GetName]: money: 2"
			}
			else_if ={
				limit = { RIS = { check_variable = { RIS_goods_guest_var > 0 } } }
				RIS = {
					subtract_from_variable = { RIS_goods_guest_var = 1 }
					add_to_variable = { RIS_gratitude_reward_goods_factor = 0.01 }
				}
				THIS = { set_variable = { RIS_guaranteed_country = 1 } }
				log = "[GetDateText]: [THIS.GetName]: money: 1"
			}
		}
		else = {
			log = "[GetDateText]: [THIS.GetName]: money: no"
		}
	}
}

RIS_time_of_share_goods = {
	hidden_effect = {
		if = {
			limit = { NOT = { has_global_flag = RIS_goods_inventory_flag } }
			set_global_flag = { flag = RIS_goods_inventory_flag days = 360 value = 1 }
		}
		every_country = {
			limit = {
				NOT = { tag = RIS }
				has_guaranteed = RIS
				check_variable = { RIS_guaranteed_country > 0 }
			}
			if = {
				limit = { check_variable = { RIS_guaranteed_country = 1 } }
				add_ideas = RIS_goods_from_ris_normal
			}
			else_if = {
				limit = { check_variable = { RIS_guaranteed_country = 2 } }
				add_ideas = RIS_goods_from_ris_powerful
			}
			else_if = {
				limit = { check_variable = { RIS_guaranteed_country = 3 } }
				add_ideas = RIS_goods_from_ris_super
			}
			country_event = { id = ris.4 hours = 4 }
		}
	}
}

RIS_will_close_door = {
	if = {
		limit = { has_idea = RIS_goods_from_ris_super }
		remove_ideas = RIS_goods_from_ris_super
	}
	if = {
		limit = { has_idea = RIS_goods_from_ris_super_alternate }
		remove_ideas = RIS_goods_from_ris_super_alternate
	}
	if = {
		limit = { has_idea = RIS_goods_from_ris_powerful }
		remove_ideas = RIS_goods_from_ris_powerful
	}
	if = {
		limit = { has_idea = RIS_goods_from_ris_powerful_alternate }
		remove_ideas = RIS_goods_from_ris_powerful_alternate
	}
	if = {
		limit = { has_idea = RIS_goods_from_ris_normal }
		remove_ideas = RIS_goods_from_ris_normal
	}
	if = {
		limit = { has_idea = RIS_goods_from_ris_normal_alternate }
		remove_ideas = RIS_goods_from_ris_normal_alternate
	}
}

#Faction System Political Instability Update Effect - No longer ideology-limited
GRE_AH_political_instability_update_effect = {
	hidden_effect = {
		### MONARCHISTS ###
		if = { #LOYAL MONARCHISTS
			limit = {
				check_variable = { GRE_monarchist_loyalty = 2 compare = equals } #loyal
			}
			if = {
				limit = {
					NOT = { has_idea = GRE_loyal_monarchists }
				}
				add_ideas = GRE_loyal_monarchists
			}
			if = {
				limit = {
					has_idea = GRE_friendly_monarchists
				}
				remove_ideas = GRE_friendly_monarchists
			}
			if = {
				limit = {
					has_idea = GRE_hostile_monarchists
				}
				remove_ideas = GRE_hostile_monarchists
			}
		}
		else_if = { #FRIENDLY MONARCHISTS
			limit = {
				check_variable = { GRE_monarchist_loyalty = 1 compare = equals } #friendly
			}
			if = {
				limit = {
					NOT = { has_idea = GRE_friendly_monarchists }
				}
				add_ideas = GRE_friendly_monarchists
			}
			if = {
				limit = {
					has_idea = GRE_loyal_monarchists
				}
				remove_ideas = GRE_loyal_monarchists
			}
			if = {
				limit = {
					has_idea = GRE_hostile_monarchists
				}
				remove_ideas = GRE_hostile_monarchists
			}
		}
		else_if = { #HOSTILE MONARCHISTS
			limit = {
				check_variable = { GRE_monarchist_loyalty = -1 compare = equals } #hostile
			}
			if = {
				limit = {
					NOT = { has_idea = GRE_hostile_monarchists }
				}
				add_ideas = GRE_hostile_monarchists
			}
			if = {
				limit = {
					has_idea = GRE_loyal_monarchists
				}
				remove_ideas = GRE_loyal_monarchists
			}
			if = {
				limit = {
					has_idea = GRE_friendly_monarchists
				}
				remove_ideas = GRE_friendly_monarchists
			}
		}
		else = { #INDIFFERENT/INCONSEQUENTIAL MONARCHISTS
			if = {
				limit = {
					has_idea = GRE_loyal_monarchists
				}
				remove_ideas = GRE_loyal_monarchists
			}
			if = {
				limit = {
					has_idea = GRE_friendly_monarchists
				}
				remove_ideas = GRE_friendly_monarchists
			}
			if = {
				limit = {
					has_idea = GRE_hostile_monarchists
				}
				remove_ideas = GRE_hostile_monarchists
			}
		}

		### REPUBLICANS ###
		if = { #LOYAL REPUBLICANS
			limit = {
				check_variable = { GRE_republican_loyalty = 2 compare = equals } #loyal
			}
			if = {
				limit = {
					NOT = { has_idea = GRE_loyal_republicans }
				}
				add_ideas = GRE_loyal_republicans
			}
			if = {
				limit = {
					has_idea = GRE_friendly_republicans
				}
				remove_ideas = GRE_friendly_republicans
			}
			if = {
				limit = {
					has_idea = GRE_hostile_republicans
				}
				remove_ideas = GRE_hostile_republicans
			}
		}
		else_if = { #FRIENDLY REPUBLICANS
			limit = {
				check_variable = { GRE_republican_loyalty = 1 compare = equals } #friendly
			}
			if = {
				limit = {
					NOT = { has_idea = GRE_friendly_republicans }
				}
				add_ideas = GRE_friendly_republicans
			}
			if = {
				limit = {
					has_idea = GRE_loyal_republicans
				}
				remove_ideas = GRE_loyal_republicans
			}
			if = {
				limit = {
					has_idea = GRE_hostile_republicans
				}
				remove_ideas = GRE_hostile_republicans
			}
		}
		else_if = { #HOSTILE REPUBLICANS
			limit = {
				check_variable = { GRE_republican_loyalty = -1 compare = equals } #hostile
			}
			if = {
				limit = {
					NOT = { has_idea = GRE_hostile_republicans }
				}
				add_ideas = GRE_hostile_republicans
			}
			if = {
				limit = {
					has_idea = GRE_loyal_republicans
				}
				remove_ideas = GRE_loyal_republicans
			}
			if = {
				limit = {
					has_idea = GRE_friendly_republicans
				}
				remove_ideas = GRE_friendly_republicans
			}
		}
		else = { #INDIFFERENT/INCONSEQUENTIAL REPUBLICANS
			if = {
				limit = {
					has_idea = GRE_loyal_republicans
				}
				remove_ideas = GRE_loyal_republicans
			}
			if = {
				limit = {
					has_idea = GRE_friendly_republicans
				}
				remove_ideas = GRE_friendly_republicans
			}
			if = {
				limit = {
					has_idea = GRE_hostile_republicans
				}
				remove_ideas = GRE_hostile_republicans
			}
		}

		### COMMUNISTS ###
		if = { #LOYAL COMMUNISTS
			limit = {
				check_variable = { GRE_communist_loyalty = 2 compare = equals } #loyal
			}
			if = {
				limit = {
					NOT = { has_idea = GRE_loyal_communists }
				}
				add_ideas = GRE_loyal_communists
			}
			if = {
				limit = {
					has_idea = GRE_friendly_communists
				}
				remove_ideas = GRE_friendly_communists
			}
			if = {
				limit = {
					has_idea = GRE_hostile_communists
				}
				remove_ideas = GRE_hostile_communists
			}
		}
		else_if = { #FRIENDLY COMMUNISTS
			limit = {
				check_variable = { GRE_communist_loyalty = 1 compare = equals } #friendly
			}
			if = {
				limit = {
					NOT = { has_idea = GRE_friendly_communists }
				}
				add_ideas = GRE_friendly_communists
			}
			if = {
				limit = {
					has_idea = GRE_loyal_communists
				}
				remove_ideas = GRE_loyal_communists
			}
			if = {
				limit = {
					has_idea = GRE_hostile_communists
				}
				remove_ideas = GRE_hostile_communists
			}
		}
		else_if = { #HOSTILE COMMUNISTS
			limit = {
				check_variable = { GRE_communist_loyalty = -1 compare = equals } #hostile
			}
			if = {
				limit = {
					NOT = { has_idea = GRE_hostile_communists }
				}
				add_ideas = GRE_hostile_communists
			}
			if = {
				limit = {
					has_idea = GRE_loyal_communists
				}
				remove_ideas = GRE_loyal_communists
			}
			if = {
				limit = {
					has_idea = GRE_friendly_communists
				}
				remove_ideas = GRE_friendly_communists
			}
		}
		else = { #INDIFFERENT/INCONSEQUENTIAL COMMUNISTS
			if = {
				limit = {
					has_idea = GRE_loyal_communists
				}
				remove_ideas = GRE_loyal_communists
			}
			if = {
				limit = {
					has_idea = GRE_friendly_communists
				}
				remove_ideas = GRE_friendly_communists
			}
			if = {
				limit = {
					has_idea = GRE_hostile_communists
				}
				remove_ideas = GRE_hostile_communists
			}
		}

		### FASCISTS ###
		if = { #LOYAL FASCISTS
			limit = {
				check_variable = { GRE_fascist_loyalty = 2 compare = equals } #loyal
			}
			if = {
				limit = {
					NOT = { has_idea = GRE_loyal_fascists }
				}
				add_ideas = GRE_loyal_fascists
			}
			if = {
				limit = {
					has_idea = GRE_friendly_fascists
				}
				remove_ideas = GRE_friendly_fascists
			}
			if = {
				limit = {
					has_idea = GRE_hostile_fascists
				}
				remove_ideas = GRE_hostile_fascists
			}
		}
		else_if = { #FRIENDLY FASCISTS
			limit = {
				check_variable = { GRE_fascist_loyalty = 1 compare = equals } #friendly
			}
			if = {
				limit = {
					NOT = { has_idea = GRE_friendly_fascists }
				}
				add_ideas = GRE_friendly_fascists
			}
			if = {
				limit = {
					has_idea = GRE_loyal_fascists
				}
				remove_ideas = GRE_loyal_fascists
			}
			if = {
				limit = {
					has_idea = GRE_hostile_fascists
				}
				remove_ideas = GRE_hostile_fascists
			}
		}
		else_if = { #HOSTILE FASCISTS
			limit = {
				check_variable = { GRE_fascist_loyalty = -1 compare = equals } #hostile
			}
			if = {
				limit = {
					NOT = { has_idea = GRE_hostile_fascists }
				}
				add_ideas = GRE_hostile_fascists
			}
			if = {
				limit = {
					has_idea = GRE_loyal_fascists
				}
				remove_ideas = GRE_loyal_fascists
			}
			if = {
				limit = {
					has_idea = GRE_friendly_fascists
				}
				remove_ideas = GRE_friendly_fascists
			}
		}
		else = { #INDIFFERENT/INCONSEQUENTIAL FASCISTS
			if = {
				limit = {
					has_idea = GRE_loyal_fascists
				}
				remove_ideas = GRE_loyal_fascists
			}
			if = {
				limit = {
					has_idea = GRE_friendly_fascists
				}
				remove_ideas = GRE_friendly_fascists
			}
			if = {
				limit = {
					has_idea = GRE_hostile_fascists
				}
				remove_ideas = GRE_hostile_fascists
			}
		}
	}
}

GRE_health_of_regent_worsen = {
	custom_effect_tooltip = GRE_health_of_regent_worsen_tt
	hidden_effect = {
		if = {
			limit = { NOT = { has_completed_focus = GRE_AH_medical_conference } }
			if = {
				limit = {
					focus_progress = {
						focus = GRE_AH_medical_conference
						progress > 0.01
					}
				}
				add_to_variable = { GRE_health_of_regent_var = 1 }
			}
			else = { add_to_variable = { GRE_health_of_regent_var = 2 } }
		}
		else = { country_event = { id = gre_ah.0 hours = 3 } }
	}
}

GRE_sub_economic_crisis_plus = {
	if = {
		limit = { has_dynamic_modifier = { modifier = GRE_economic_crisis_factor } }
		if = {
			limit = {
				NOT = { has_country_flag = GRE_PPG_clred_flag }
				check_variable = {
					var = GRE_ECF_PPG_var
					value = 0
					compare = greater_than_or_equals
				}
			}
			set_country_flag = GRE_PPG_clred_flag
			set_variable = { GRE_ECF_PPG_var = 0 }
			subtract_from_variable = { GRE_remove_economic_crisis_var = 100 }
			subtract_from_variable = { GRE_ECF_CGF_var = 0.10 }
			subtract_from_variable = { GRE_ECF_ECF_var = 0.25 }
			custom_effect_tooltip = GRE_sub_economic_crisis_plus_tt
		}
		if = {
			limit = {
				NOT = { has_country_flag = GRE_PSB_clred_flag }
				check_variable = {
					var = GRE_ECF_PSB_var
					value = 0
					compare = greater_than_or_equals
				}
			}
			set_country_flag = GRE_PSB_clred_flag
			set_variable = { GRE_ECF_PSB_var = 0 }
			subtract_from_variable = { GRE_remove_economic_crisis_var = 100 }
			subtract_from_variable = { GRE_ECF_CGF_var = 0.10 }
			subtract_from_variable = { GRE_ECF_ECF_var = 0.25 }
			custom_effect_tooltip = GRE_sub_economic_crisis_plus_tt
		}
		if = {
			limit = {
				NOT = { has_country_flag = GRE_ECF_PFM_clred_flag }
				check_variable = {
					var = GRE_ECF_PFM_var
					value = 0
					compare = greater_than_or_equals
				}
				check_variable = {
					var = GRE_ECF_PFE_var
					value = 0
					compare = greater_than_or_equals
				}
			}
			set_country_flag = GRE_ECF_PFM_clred_flag
			set_variable = { GRE_ECF_PFM_var = 0 }
			set_variable = { GRE_ECF_PFE_var = 0 }
			subtract_from_variable = { GRE_remove_economic_crisis_var = 200 }
			subtract_from_variable = { GRE_ECF_CGF_var = 0.10 }
			subtract_from_variable = { GRE_ECF_ECF_var = 0.25 }
			custom_effect_tooltip = GRE_sub_economic_crisis_plus_tt
		}
		if = {
			limit = {
				NOT = { has_country_flag = GRE_ICF_ICD_clred_flag }
				check_variable = {
					var = GRE_ECF_ICF_var
					value = 0
					compare = greater_than_or_equals
				}
				check_variable = {
					var = GRE_ECF_ICD_var
					value = 0
					compare = greater_than_or_equals
				}
			}
			set_country_flag = GRE_ICF_ICD_clred_flag
			set_variable = { GRE_ECF_ICF_var = 0 }
			set_variable = { GRE_ECF_ICD_var = 0 }
			subtract_from_variable = { GRE_remove_economic_crisis_var = 200 }
			subtract_from_variable = { GRE_ECF_CGF_var = 0.10 }
			subtract_from_variable = { GRE_ECF_ECF_var = 0.25 }
			custom_effect_tooltip = GRE_sub_economic_crisis_plus_tt
		}
		if = {
			limit = {
				NOT = { has_country_flag = GRE_CGF_ECF_clred_flag }
				check_variable = {
					var = GRE_ECF_CGF_var
					value = 0
					compare = less_than_or_equals
				}
				check_variable = {
					var = GRE_ECF_ECF_var
					value = 0
					compare = less_than_or_equals
				}
			}
			set_country_flag = GRE_CGF_ECF_clred_flag
			set_variable = { GRE_ECF_CGF_var = 0 }
			set_variable = { GRE_ECF_ECF_var = 0 }
			subtract_from_variable = { GRE_remove_economic_crisis_var = 200 }
		}
	}
}

GRE_monarchist_become_loyalty = {
	set_variable = { var = GRE_monarchist_loyalty value = 2 tooltip = GRE_monarchist_become_loyalty_tt }
	GRE_political_instability_update_effect = yes
}

GRE_monarchist_become_friendly = {
	set_variable = { var = GRE_monarchist_loyalty value = 1 tooltip = GRE_monarchist_become_friendly_tt }
	GRE_political_instability_update_effect = yes
}

GRE_monarchist_become_indifferent = {
	set_variable = { var = GRE_monarchist_loyalty value = 0 tooltip = GRE_monarchist_become_indifferent_tt }
	GRE_political_instability_update_effect = yes
}

GRE_monarchist_become_hostile = {
	set_variable = { var = GRE_monarchist_loyalty value = -1 tooltip = GRE_monarchist_become_hostile_tt }
	GRE_political_instability_update_effect = yes
}

GRE_monarchist_become_immaterial = {
	set_variable = { var = GRE_monarchist_loyalty value = -2 tooltip = GRE_monarchist_become_immaterial_tt }
	GRE_political_instability_update_effect = yes
}

GRE_republican_become_loyalty = {
	set_variable = { var = GRE_republican_loyalty value = 2 tooltip = GRE_republican_become_loyalty_tt }
	GRE_political_instability_update_effect = yes
}

GRE_republican_become_friendly = {
	set_variable = { var = GRE_republican_loyalty value = 1 tooltip = GRE_republican_become_friendly_tt }
	GRE_political_instability_update_effect = yes
}

GRE_republican_become_indifferent = {
	set_variable = { var = GRE_republican_loyalty value = 0 tooltip = GRE_republican_become_indifferent_tt }
	GRE_political_instability_update_effect = yes
}

GRE_republican_become_hostile = {
	set_variable = { var = GRE_republican_loyalty value = -1 tooltip = GRE_republican_become_hostile_tt }
	GRE_political_instability_update_effect = yes
}

GRE_republican_become_immaterial = {
	set_variable = { var = GRE_republican_loyalty value = -2 tooltip = GRE_republican_become_immaterial_tt }
	GRE_political_instability_update_effect = yes
}

GRE_communist_become_loyalty = {
	set_variable = { var = GRE_communist_loyalty value = 2 tooltip = GRE_communist_become_loyalty_tt }
	GRE_political_instability_update_effect = yes
}

GRE_communist_become_friendly = {
	set_variable = { var = GRE_communist_loyalty value = 1 tooltip = GRE_communist_become_friendly_tt }
	GRE_political_instability_update_effect = yes
}

GRE_communist_become_indifferent = {
	set_variable = { var = GRE_communist_loyalty value = 0 tooltip = GRE_communist_become_indifferent_tt }
	GRE_political_instability_update_effect = yes
}

GRE_communist_become_hostile = {
	set_variable = { var = GRE_communist_loyalty value = -1 tooltip = GRE_communist_become_hostile_tt }
	GRE_political_instability_update_effect = yes
}

GRE_communist_become_immaterial = {
	set_variable = { var = GRE_communist_loyalty value = -2 tooltip = GRE_communist_become_immaterial_tt }
	GRE_political_instability_update_effect = yes
}

GRE_fascist_become_loyalty = {
	set_variable = { var = GRE_fascist_loyalty value = 2 tooltip = GRE_fascist_become_loyalty_tt }
	GRE_political_instability_update_effect = yes
}

GRE_fascist_become_friendly = {
	set_variable = { var = GRE_fascist_loyalty value = 1 tooltip = GRE_fascist_become_friendly_tt }
	GRE_political_instability_update_effect = yes
}

GRE_fascist_become_indifferent = {
	set_variable = { var = GRE_fascist_loyalty value = 0 tooltip = GRE_fascist_become_indifferent_tt }
	GRE_political_instability_update_effect = yes
}

GRE_fascist_become_hostile = {
	set_variable = { var = GRE_fascist_loyalty value = -1 tooltip = GRE_fascist_become_hostile_tt }
	GRE_political_instability_update_effect = yes
}

GRE_fascist_become_immaterial = {
	set_variable = { var = GRE_fascist_loyalty value = -2 tooltip = GRE_fascist_become_immaterial_tt }
	GRE_political_instability_update_effect = yes
}

GRE_remove_all_SL = {
	if = {
		limit = { has_country_flag = GRE_Euryale_SL_flag }
		clr_country_flag = GRE_Euryale_SL_flag
		if = {
			limit = { has_idea = GRE_Premier_Euryale }
			remove_ideas = GRE_Premier_Euryale
		}
	}
	if = {
		limit = { has_country_flag = GRE_Stheno_SL_flag }
		clr_country_flag = GRE_Stheno_SL_flag
		if = {
			limit = { has_idea = GRE_Premier_Stheno }
			remove_ideas = GRE_Premier_Stheno
		}
	}
	if = {
		limit = { has_country_flag = GRE_Chiron_SL_flag }
		clr_country_flag = GRE_Chiron_SL_flag
		if = {
			limit = { has_idea = GRE_Premier_Chiron }
			remove_ideas = GRE_Premier_Chiron
		}
		if = {
			limit = { has_idea = GRE_Premier_Chiron_2 }
			remove_ideas = GRE_Premier_Chiron_2
		}
	}
	if = {
		limit = { has_country_flag = GRE_Artemis_SL_flag }
		clr_country_flag = GRE_Artemis_SL_flag
		if = {
			limit = { has_idea = GRE_Premier_Artemis }
			remove_ideas = GRE_Premier_Artemis
		}
	}
}

PER_exacerbate_food_crisis = {
	custom_effect_tooltip = PER_exacerbate_food_crisis_tt
	if = {
		limit = { has_idea = PER_food_crisis_4 }
		swap_ideas = {
			remove_idea = PER_food_crisis_4
			add_idea = PER_food_crisis_3
		}
		add_stability = -0.1
	}
	else_if = {
		limit = { has_idea = PER_food_crisis_3 }
		swap_ideas = {
			remove_idea = PER_food_crisis_3
			add_idea = PER_food_crisis_2
		}
	}
	else_if = {
		limit = { has_idea = PER_food_crisis_2 }
		swap_ideas = {
			remove_idea = PER_food_crisis_2
			add_idea = PER_food_crisis_1
		}
	}
	else_if = {
		limit = { has_idea = PER_food_crisis_1 }
		swap_ideas = {
			remove_idea = PER_food_crisis_1
			add_idea = PER_food_crisis
		}
	}
	else_if = {
		limit = { has_idea = PER_food_crisis }
		add_political_power = -25
	}
	else = { add_political_power = 25 }
}

PER_recovery_food_crisis = {
	custom_effect_tooltip = PER_recovery_food_crisis_tt
	if = {
		limit = { has_idea = PER_food_crisis }
		swap_ideas = {
			remove_idea = PER_food_crisis
			add_idea = PER_food_crisis_1
		}
	}
	else_if = {
		limit = { has_idea = PER_food_crisis_1 }
		swap_ideas = {
			remove_idea = PER_food_crisis_1
			add_idea = PER_food_crisis_2
		}
	}
	else_if = {
		limit = { has_idea = PER_food_crisis_2 }
		swap_ideas = {
			remove_idea = PER_food_crisis_2
			add_idea = PER_food_crisis_3
		}
	}
	else_if = {
		limit = { has_idea = PER_food_crisis_3 }
		effect_tooltip = {
			swap_ideas = {
				remove_idea = PER_food_crisis_3
				add_idea = PER_food_crisis_4
			}
		}
		hidden_effect = {
			remove_ideas = PER_food_crisis_3
			add_timed_idea = { idea = PER_food_crisis_4 days = 180 }
		}
	}
	else_if = {
		limit = { has_idea = PER_food_crisis_4 }
		add_political_power = 25
	}
	else = { add_political_power = 25 }
}

PER_reduce_pressure = {
	custom_effect_tooltip = PER_reduce_pressure_tt
	effect_tooltip = {
		swap_ideas = {
			remove_idea = PER_expand_influence_complete
			add_idea = PER_expand_influence_complete_1
		}
	}
	hidden_effect = {
		if = {
			limit = { has_idea = PER_expand_influence_complete }
			swap_ideas = {
				remove_idea = PER_expand_influence_complete
				add_idea = PER_expand_influence_complete_1
			}
		}
		else_if = {
			limit = { has_idea = PER_expand_influence_complete_1 }
			swap_ideas = {
				remove_idea = PER_expand_influence_complete_1
				add_idea = PER_expand_influence_complete_2
			}
		}
		else_if = {
			limit = { has_idea = PER_expand_influence_complete_2 }
			swap_ideas = {
				remove_idea = PER_expand_influence_complete_2
				add_idea = PER_expand_influence_complete_3
			}
		}
		else_if = {
			limit = { has_idea = PER_expand_influence_complete_3 }
			swap_ideas = {
				remove_idea = PER_expand_influence_complete_3
				add_idea = PER_expand_influence_complete_4
			}
		}
		else_if = {
			limit = { has_idea = PER_expand_influence_complete_4 }
			remove_ideas = PER_expand_influence_complete_4
			if = {
				limit = { has_active_mission = PER_crisis_influence_mission }
				remove_mission = PER_crisis_influence_mission
			}
		}
		else = { add_political_power = 50 }
	}
}

PER_PCW_done = {
	if = {
		limit = { check_variable = { PER_opposition_victory_var > PER_government_victory_var } }
		country_event = { id = persia.16 days = 3 random = 2 }
	}
	else = {
		country_event = { id = persia.15 days = 3 random = 2 }
	}
}

OTT_invade_turkey = {#1119 1005 1122	4124 10056 11810
	#load_oob = "OTT_1936_nsb"
	if = {
		limit = { has_country_flag = OTT_state_turkey_melsin_flag }
		1108 = {
			set_demilitarized_zone = no
			add_core_of = OTT
		}
		OTT = { transfer_state = 1108 }
		1108 = {
			TUR = {
				set_province_controller = 7026
			}
		}
		1108 = {
			if = {
				limit = { OTT = { has_country_flag = OTT_crack_infantry_2502_flag } }
				create_unit = {
					division = "name = \"2502 infantry brigade\" division_template = \"Land Group\" start_experience_factor = 0.37 start_equipment_factor = 1.0 start_manpower_factor = 1.0" 
					owner = OTT
					count = 1
					prioritize_location = 4124
					allow_spawning_on_enemy_provs = yes
				}
			}
			else_if = {
				limit = { OTT = { has_country_flag = OTT_infantry_2502_flag } }
				create_unit = {
					division = "name = \"2502 infantry brigade\" division_template = \"Land Group\" start_experience_factor = 0.28 start_equipment_factor = 1.0 start_manpower_factor = 1.0" 
					owner = OTT
					count = 1
					prioritize_location = 4124
					allow_spawning_on_enemy_provs = yes
				}
			}
			if = {
				limit = { OTT = { has_country_flag = OTT_crack_infantry_2504_flag } }
				create_unit = {
					division = "name = \"2504 infantry brigade\" division_template = \"Land Group\" start_experience_factor = 0.37 start_equipment_factor = 1.0 start_manpower_factor = 1.0" 
					owner = OTT
					count = 1
					prioritize_location = 4124
					allow_spawning_on_enemy_provs = yes
				}
			}
			else_if = {
				limit = { OTT = { has_country_flag = OTT_infantry_2504_flag } }
				create_unit = {
					division = "name = \"2504 infantry brigade\" division_template = \"Land Group\" start_experience_factor = 0.28 start_equipment_factor = 1.0 start_manpower_factor = 1.0" 
					owner = OTT
					count = 1
					prioritize_location = 4124
					allow_spawning_on_enemy_provs = yes
				}
			}
			if = {
				limit = { OTT = { has_country_flag = OTT_crack_infantry_2505_flag } }
				create_unit = {
					division = "name = \"2505 infantry brigade\" division_template = \"Land Group\" start_experience_factor = 0.37 start_equipment_factor = 1.0 start_manpower_factor = 1.0" 
					owner = OTT
					count = 1
					prioritize_location = 11810
					allow_spawning_on_enemy_provs = yes
				}
			}
			else_if = {
				limit = { OTT = { has_country_flag = OTT_infantry_2505_flag } }
				create_unit = {
					division = "name = \"2505 infantry brigade\" division_template = \"Land Group\" start_experience_factor = 0.28 start_equipment_factor = 1.0 start_manpower_factor = 1.0" 
					owner = OTT
					count = 1
					prioritize_location = 11810
					allow_spawning_on_enemy_provs = yes
				}
			}
			if = {
				limit = { OTT = { has_country_flag = OTT_crack_infantry_2506_flag } }
				create_unit = {
					division = "name = \"2506 infantry brigade\" division_template = \"Land Group\" start_experience_factor = 0.37 start_equipment_factor = 1.0 start_manpower_factor = 1.0" 
					owner = OTT
					count = 1
					prioritize_location = 11810
					allow_spawning_on_enemy_provs = yes
				}
			}
			else_if = {
				limit = { OTT = { has_country_flag = OTT_infantry_2506_flag } }
				create_unit = {
					division = "name = \"2506 infantry brigade\" division_template = \"Land Group\" start_experience_factor = 0.28 start_equipment_factor = 1.0 start_manpower_factor = 1.0" 
					owner = OTT
					count = 1
					prioritize_location = 11810
					allow_spawning_on_enemy_provs = yes
				}
			}
			if = {
				limit = { OTT = { has_country_flag = OTT_crack_armor_2501_flag } }
				create_unit = {
					division = "name = \"2501 armor brigade\" division_template = \"Speed Group\" start_experience_factor = 0.37 start_equipment_factor = 0.9 start_manpower_factor = 1.0" 
					force_equipment_variants = { light_tank_chassis_0 = { owner = "OTT" version_name = "OE-1" } }
					owner = OTT
					count = 1
					prioritize_location = 10056
					allow_spawning_on_enemy_provs = yes
				}
			}
			else_if = {
				limit = { OTT = { has_country_flag = OTT_armor_2501_flag } }
				create_unit = {
					division = "name = \"2501 armor brigade\" division_template = \"Speed Group\" start_experience_factor = 0.28 start_equipment_factor = 0.9 start_manpower_factor = 1.0" 
					force_equipment_variants = { light_tank_chassis_0 = { owner = "OTT" version_name = "OE-1" } }
					owner = OTT
					count = 1
					prioritize_location = 10056
					allow_spawning_on_enemy_provs = yes
				}
			}
			if = {
				limit = { OTT = { has_country_flag = OTT_crack_armor_2503_flag } }
				create_unit = {
					division = "name = \"2503 armor brigade\" division_template = \"Speed Group\" start_experience_factor = 0.37 start_equipment_factor = 0.9 start_manpower_factor = 1.0" 
					force_equipment_variants = { light_tank_chassis_0 = { owner = "OTT" version_name = "OE-1" } }
					owner = OTT
					count = 1
					prioritize_location = 10056
					allow_spawning_on_enemy_provs = yes
				}
			}
			else_if = {
				limit = { OTT = { has_country_flag = OTT_armor_2503_flag } }
				create_unit = {
					division = "name = \"2503 armor brigade\" division_template = \"Speed Group\" start_experience_factor = 0.28 start_equipment_factor = 0.9 start_manpower_factor = 1.0" 
					force_equipment_variants = { light_tank_chassis_0 = { owner = "OTT" version_name = "OE-1" } }
					owner = OTT
					count = 1
					prioritize_location = 10056
					allow_spawning_on_enemy_provs = yes
				}
			}
		}
	}
	else_if = {
		limit = { has_country_flag = OTT_state_turkey_antalya_flag }
		1107 = {
			set_demilitarized_zone = no
			add_core_of = OTT
		}
		OTT = { transfer_state = 1107 }
		1107 = {
			TUR = {
				set_province_controller = 4127
				set_province_controller = 4008
			}
		}
		1107 = {
			if = {
				limit = { OTT = { has_country_flag = OTT_crack_infantry_2502_flag } }
				create_unit = {
					division = "name = \"2502 infantry brigade\" division_template = \"Land Group\" start_experience_factor = 0.37 start_equipment_factor = 1.0 start_manpower_factor = 1.0" 
					owner = OTT
					count = 1
					prioritize_location = 1005
					allow_spawning_on_enemy_provs = yes
				}
			}
			else_if = {
				limit = { OTT = { has_country_flag = OTT_infantry_2502_flag } }
				create_unit = {
					division = "name = \"2502 infantry brigade\" division_template = \"Land Group\" start_experience_factor = 0.28 start_equipment_factor = 1.0 start_manpower_factor = 1.0" 
					owner = OTT
					count = 1
					prioritize_location = 1005
					allow_spawning_on_enemy_provs = yes
				}
			}
			if = {
				limit = { OTT = { has_country_flag = OTT_crack_infantry_2504_flag } }
				create_unit = {
					division = "name = \"2504 infantry brigade\" division_template = \"Land Group\" start_experience_factor = 0.37 start_equipment_factor = 1.0 start_manpower_factor = 1.0" 
					owner = OTT
					count = 1
					prioritize_location = 1119
					allow_spawning_on_enemy_provs = yes
				}
			}
			else_if = {
				limit = { OTT = { has_country_flag = OTT_infantry_2504_flag } }
				create_unit = {
					division = "name = \"2504 infantry brigade\" division_template = \"Land Group\" start_experience_factor = 0.28 start_equipment_factor = 1.0 start_manpower_factor = 1.0" 
					owner = OTT
					count = 1
					prioritize_location = 1119
					allow_spawning_on_enemy_provs = yes
				}
			}
			if = {
				limit = { OTT = { has_country_flag = OTT_crack_infantry_2505_flag } }
				create_unit = {
					division = "name = \"2505 infantry brigade\" division_template = \"Land Group\" start_experience_factor = 0.37 start_equipment_factor = 1.0 start_manpower_factor = 1.0" 
					owner = OTT
					count = 1
					prioritize_location = 1119
					allow_spawning_on_enemy_provs = yes
				}
			}
			else_if = {
				limit = { OTT = { has_country_flag = OTT_infantry_2505_flag } }
				create_unit = {
					division = "name = \"2505 infantry brigade\" division_template = \"Land Group\" start_experience_factor = 0.28 start_equipment_factor = 1.0 start_manpower_factor = 1.0" 
					owner = OTT
					count = 1
					prioritize_location = 1119
					allow_spawning_on_enemy_provs = yes
				}
			}
			if = {
				limit = { OTT = { has_country_flag = OTT_crack_infantry_2506_flag } }
				create_unit = {
					division = "name = \"2506 infantry brigade\" division_template = \"Land Group\" start_experience_factor = 0.37 start_equipment_factor = 1.0 start_manpower_factor = 1.0" 
					owner = OTT
					count = 1
					prioritize_location = 1122
					allow_spawning_on_enemy_provs = yes
				}
			}
			else_if = {
				limit = { OTT = { has_country_flag = OTT_infantry_2506_flag } }
				create_unit = {
					division = "name = \"2506 infantry brigade\" division_template = \"Land Group\" start_experience_factor = 0.28 start_equipment_factor = 1.0 start_manpower_factor = 1.0" 
					owner = OTT
					count = 1
					prioritize_location = 1122
					allow_spawning_on_enemy_provs = yes
				}
			}
			if = {
				limit = { OTT = { has_country_flag = OTT_crack_armor_2501_flag } }
				create_unit = {
					division = "name = \"2501 armor brigade\" division_template = \"Speed Group\" start_experience_factor = 0.37 start_equipment_factor = 0.9 start_manpower_factor = 1.0" 
					force_equipment_variants = { light_tank_chassis_0 = { owner = "OTT" version_name = "OE-1" } }
					owner = OTT
					count = 1
					prioritize_location = 1122
					allow_spawning_on_enemy_provs = yes
				}
			}
			else_if = {
				limit = { OTT = { has_country_flag = OTT_armor_2501_flag } }
				create_unit = {
					division = "name = \"2501 armor brigade\" division_template = \"Speed Group\" start_experience_factor = 0.28 start_equipment_factor = 0.9 start_manpower_factor = 1.0" 
					force_equipment_variants = { light_tank_chassis_0 = { owner = "OTT" version_name = "OE-1" } }
					owner = OTT
					count = 1
					prioritize_location = 1122
					allow_spawning_on_enemy_provs = yes
				}
			}
			if = {
				limit = { OTT = { has_country_flag = OTT_crack_armor_2503_flag } }
				create_unit = {
					division = "name = \"2503 armor brigade\" division_template = \"Speed Group\" start_experience_factor = 0.37 start_equipment_factor = 0.9 start_manpower_factor = 1.0" 
					force_equipment_variants = { light_tank_chassis_0 = { owner = "OTT" version_name = "OE-1" } }
					owner = OTT
					count = 1
					prioritize_location = 1005
					allow_spawning_on_enemy_provs = yes
				}
			}
			else_if = {
				limit = { OTT = { has_country_flag = OTT_armor_2503_flag } }
				create_unit = {
					division = "name = \"2503 armor brigade\" division_template = \"Speed Group\" start_experience_factor = 0.28 start_equipment_factor = 0.9 start_manpower_factor = 1.0" 
					force_equipment_variants = { light_tank_chassis_0 = { owner = "OTT" version_name = "OE-1" } }
					owner = OTT
					count = 1
					prioritize_location = 1005
					allow_spawning_on_enemy_provs = yes
				}
			}
		}
	}
	
	if = {
		limit = { RIS = { has_country_flag = RIS_Blaze_as_advisor_flag } }
		OTT = { add_ideas = OTT_SC_Blaze }
	}
	
	if = {
		limit = { has_country_flag = OTT_support_from_HMS_flag }
		OTT = {
			add_timed_idea = { idea = OTT_support_from_HMS_idea days = 30 }
		}
	}
	
	if = {
		limit = { has_country_flag = OTT_support_from_RAF_flag }
		OTT = {
			add_timed_idea = { idea = OTT_support_from_RAF_idea days = 45 }
		}
	}
	### I don't know how it happens, so only thing I can do is delete them. ###
	if = {
		limit = { has_template = "Speed Group 2" }
		delete_unit_template_and_units = {
			division_template = "Speed Group 2"
			disband = no
		}
	}
	if = {
		limit = { has_template = "Land Group 2" }
		delete_unit_template_and_units = {
			division_template = "Land Group 2"
			disband = yes
		}
	}
	if = {
		limit = { has_template = "Mountain Group 2" }
		delete_unit_template_and_units = {
			division_template = "Mountain Group 2"
			disband = no
		}
	}	############################################################################
}