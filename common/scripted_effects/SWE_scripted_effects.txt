SWE_Valhalla_SET_VAR_initialize = {
	set_variable = {
		SWE_Valhalla_Odin_button_var = 2
	}
	set_variable = {
		SWE_Valhalla_Thor_button_var = 2
	}
	set_variable = {
		SWE_Valhalla_Brynhild_button_var = 2
	}
	set_variable = {
		SWE_Valhalla_Gilda_button_var = 2
	}
	set_variable = {
		SWE_Valhalla_Hela_button_var = 2
	}
	set_variable = {
		SWE_Valhalla_Valkyrie_button_var = 2
	}
}
#计算基建水平
SWE_Calculate_the_level_of_infrastructure = {
	set_variable = { total_infrastructure_level = 0 }
	every_core_state = {
		limit = { is_controlled_by = ROOT }
		add_to_variable = { ROOT.total_infrastructure_level = infrastructure_level }
	}
	set_variable = { average_infrastructure_level = total_infrastructure_level }
	divide_variable = { average_infrastructure_level = num_core_states }
}
#一五计划，启动！
SWE_Launched_the_First_Five_Year_Plan = {
	if = {
		limit = {
			NOT = {
				check_variable = { SWE_Five_year_plan_task_01 = 0 }
			}
		}
		activate_mission = SWE_Civil_industrial_construction
	}
	if = {
		limit = {
			NOT = {
				check_variable = { SWE_Five_year_plan_task_02 = 0 }
			}
		}
		activate_mission = SWE_Construction_of_public_facilities
	}
	if = {
		limit = {
			NOT = {
				check_variable = { SWE_Five_year_plan_task_03 = 0 }
			}
		}
		activate_mission = SWE_Military_industrial_construction
	}
	if = {
		limit = {
			NOT = {
				check_variable = { SWE_Five_year_plan_task_04 = 0 }
			}
		}
		activate_mission = SWE_Army_modernization
	}
	if = {
		limit = {
			NOT = {
				check_variable = { SWE_Five_year_plan_task_05 = 0 }
			}
		}
		activate_mission = SWE_Modernization_of_Navy
	}
	if = {
		limit = {
			NOT = {
				check_variable = { SWE_Five_year_plan_task_06 = 0 }
			}
		}
		activate_mission = SWE_Modernization_of_Air_Force
	}
	if = {
		limit = {
			NOT = {
				check_variable = { SWE_Five_year_plan_task_07 = 0 }
			}
		}
		activate_mission = SWE_Somi_Swedish_Railway
	}
}
#缓解大萧条
SWE_Alleviate_the_Great_Depression = {
	custom_effect_tooltip = SWE_Alleviate_the_Great_Depression_tt
	if = {
		limit = { has_idea = SWE_Great_Depression_swept_Sweden }
		swap_ideas = {
			remove_idea = SWE_Great_Depression_swept_Sweden
			add_idea = SWE_Great_Depression_swept_Sweden_1
		}
	}
	else_if = {
		limit = { has_idea = SWE_Great_Depression_swept_Sweden_1 }
		swap_ideas = {
			remove_idea = SWE_Great_Depression_swept_Sweden_1
			add_idea = SWE_Great_Depression_swept_Sweden_2
		}
	}
	else_if = {
		limit = { has_idea = SWE_Great_Depression_swept_Sweden_2 }
		swap_ideas = {
			remove_idea = SWE_Great_Depression_swept_Sweden_2
			add_idea = SWE_Great_Depression_swept_Sweden_3
		}
	}
	else_if = {
		limit = { has_idea = SWE_Great_Depression_swept_Sweden_3 }
		swap_ideas = {
			remove_idea = SWE_Great_Depression_swept_Sweden_3
			add_idea = SWE_Great_Depression_swept_Sweden_4
		}
	}
	else_if = {
		limit = { has_idea = SWE_Great_Depression_swept_Sweden_4 }
		swap_ideas = {
			remove_idea = SWE_Great_Depression_swept_Sweden_4
			add_idea = SWE_Great_Depression_swept_Sweden_5
		}
	}
	else_if = {
		limit = { has_idea = SWE_Great_Depression_swept_Sweden_5 }
		swap_ideas = {
			remove_idea = SWE_Great_Depression_swept_Sweden_5
			add_idea = SWE_Great_Depression_swept_Sweden_6
		}
	}
	else_if = {
		limit = { has_idea = SWE_Great_Depression_swept_Sweden_6 }
		remove_ideas = SWE_Great_Depression_swept_Sweden_6
	}
}
##组建内阁
SWE_Form_a_cabinet_effect = {
	if = {
		limit = {
			check_variable = { SWE_Political_struggle_LEFT_var > SWE_Political_struggle_MIDDLE_var }
		}
		if = {
			limit = {
				check_variable = { SWE_Political_struggle_LEFT_var > SWE_Political_struggle_RIGHT_var }
			}
			add_ideas = SWE_Hinamori_Amu_idea
			custom_effect_tooltip = SWE_Communist_Party_Cabinet_tt
			complete_national_focus = SWE_Communist_Party_Cabinet
		}
		else = {
			add_ideas = SWE_Karene_Eluvitias_idea
			custom_effect_tooltip = SWE_Nationalist_Cabinet_tt
			complete_national_focus = SWE_Nationalist_Cabinet
		}
	}
	else = {
		if = {
			limit = { SWE_Political_struggle_MIDDLE_var > SWE_Political_struggle_RIGHT_var }
			add_ideas = SWE_Cecilia_idea
			custom_effect_tooltip = SWE_Democratic_Cabinet_tt
			complete_national_focus = SWE_Democratic_Cabinet
		}
		else = {
			add_ideas = SWE_Karene_Eluvitias_idea
			custom_effect_tooltip = SWE_Nationalist_Cabinet_tt
			complete_national_focus = SWE_Nationalist_Cabinet
		}
	}
	set_country_leader_ideology = interim_government_subtype
}
#组建新政府(战胜)
SWE_Form_a_new_government = {
	retire_character = SWE_Sgathaich
	if = {
		limit = { has_idea = SWE_Hinamori_Amu_idea }
		add_popularity = { ideology = communism popularity = 0.25 }
		set_politics = { ruling_party = communism elections_allowed = yes }
		hidden_effect = {
			remove_ideas = SWE_Hinamori_Amu_idea
		}
		add_ideas = SWE_Tsukiyomi_Ikuto_idea
	}
}



