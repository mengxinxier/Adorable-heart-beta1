
POL_remove_all_head_of_government = {
	clr_country_flag = POL_yuri_head_of_government
	clr_country_flag = POL_Ereshkigal_head_of_government
	clr_country_flag = POL_Eucliwood_head_of_government
	clr_country_flag = POL_reneer_head_of_government
	clr_country_flag = POL_Maynar_head_of_government
	clr_country_flag = POL_Ainz_head_of_government
	clr_country_flag = POL_Yuzuru_head_of_government
}

POL_civil_war_has_begun = {
	delete_unit_template_and_units = {
		division_template = "Union Infantry Brigade"		
	}
	delete_unit_template_and_units = {
		division_template = "Union Knight Brigade"
	}
	delete_unit_template_and_units = {
		division_template = "Armored Mixed Brigade" 
	}
	delete_unit_template_and_units = {
		division_template = "Union Knight Regiment" 
	}
	if = {
		limit = {
			has_subject = ELT
		}
		end_puppet = ELT
	}
	if = {
		limit = {
			has_subject = PRE
		}
		end_puppet = PRE
	}
	if = {
		limit = {
			has_completed_focus = POL_support_the_Royalist_party
		}
		PO2 = {
			clr_country_flag = POL_royalist_organization_flag
		}
		set_politics = {
			ruling_party = fascism
		}
		set_popularities = {
			communism = 1
			democratic = 7
			neutrality = 12
			fascism = 80
		}
		set_cosmetic_tag = POL_royalist_organization_flag
		set_cosmetic_tag = POL_ROY
		load_oob = "POL_ROY"
		PO1 = {
			every_state = {
				limit = {
					OR = {
						state = 96
						state = 94
						state = 204
						state = 95
						state = 792
						state = 997
						state = 93
					}
				}
				transfer_state_to = PREV
			}
			load_oob = "POL_SSS"
		}
		PO3 = {
			every_state = {
				limit = {
					OR = {
						state = 97
						state = 1088
						state = 89
						state = 91
						state = 88
						state = 90
						state = 92
						state = 10
					}
				}
				transfer_state_to = PREV
			}
			load_oob = "POL_ORT"
			declare_war_on = {
				target = POL
				type = annex_everything
			}
			add_civil_war_target = POL
			declare_war_on = {
				target = PO1
				type = annex_everything
			}
			add_civil_war_target = PO1
		}
		declare_war_on = {
			target = PO1
			type = annex_everything
		}
		add_civil_war_target = PO1
	}
	else_if = {
		limit = {
			has_completed_focus = POL_authorize_Maynar
		}
		PO3 = {
			clr_country_flag = POL_orthodox_organization_flag
		}
		set_politics = {
			ruling_party = democratic
		}
		set_country_flag = POL_orthodox_organization_flag
		set_popularities = {
			communism = 5
			democratic = 45
			neutrality = 40
			fascism = 10
		}
		set_cosmetic_tag = POL_ORT
		load_oob = "POL_ORT"
		PO1 = {
			every_state = {
				limit = {
					OR = {
						state = 96
						state = 94
						state = 204
						state = 95
						state = 792
						state = 997
						state = 93
					}
				}
				transfer_state_to = PREV
			}
			load_oob = "POL_SSS"
		}
		PO2 = {
			every_state = {
				limit = {
					OR = {
						state = 776
						state = 86
						state = 87
						state = 98
						state = 777
					}
				}
				transfer_state_to = PREV
			}
			if = {
				limit = {
					has_completed_focus = POL_political_commitment
				}
				every_state = {
					limit = {
						OR = {
							state = 5
							state = 188
						}
					}
					transfer_state_to = PREV
				}
			}
			load_oob = "POL_ROY"
			declare_war_on = {
				target = POL
				type = annex_everything
			}
			add_civil_war_target = POL
			declare_war_on = {
				target = PO1
				type = annex_everything
			}
			add_civil_war_target = PO1
		}
		declare_war_on = {
			target = PO1
			type = annex_everything
		}
		add_civil_war_target = PO1
	}
	else_if = {
		limit = {
			has_completed_focus = POL_shinda_sekai_sensen
		}
		PO1 = {
			clr_country_flag = POL_SSS_organization_flag
		}
		set_politics = {
			ruling_party = communism
		}
		set_country_flag = POL_SSS_organization_flag
		set_popularities = {
			communism = 79
			democratic = 11
			neutrality = 5
			fascism = 5
		}
		set_cosmetic_tag = POL_SSS
		set_technology = {
			tech_irregulars = 1
		}
		load_oob = "POL_SSS"
		PO2 = {
			every_state = {
				limit = {
					OR = {
						state = 776
						state = 86
						state = 87
						state = 98
						state = 777
					}
				}
				transfer_state_to = PREV
			}
			if = {
				limit = {
					has_completed_focus = POL_political_commitment
				}
				every_state = {
					limit = {
						OR = {
							state = 5
							state = 188
						}
					}
					transfer_state_to = PREV
				}
			}
			load_oob = "POL_ROY"
		}
		PO3 = {
			every_state = {
				limit = {
					OR = {
						state = 97
						state = 1088
						state = 89
						state = 91
						state = 88
						state = 90
						state = 92
						state = 10
					}
				}
				transfer_state_to = PREV
			}
			load_oob = "POL_ORT"
			declare_war_on = {
				target = POL
				type = annex_everything
			}
			add_civil_war_target = POL
			declare_war_on = {
				target = PO2
				type = annex_everything
			}
			add_civil_war_target = PO1
		}
		declare_war_on = {
			target = PO2
			type = annex_everything
		}
		add_civil_war_target = PO1
	}
}

POL_create_character_SSS = {
	create_country_leader = {
		name = "仲村由理"
		picture = "gfx/leaders/POL/yuri.png"
		ideology = Maoist_subideology
	}
	create_field_marshal = {
		name = "仲村由理"
		picture = "gfx/leaders/POL/yuri.png"
		traits = { trait_engineer offensive_doctrine urban_assault_specialist }
		skill = 3
		attack_skill = 3
		defense_skill = 3
		planning_skill = 2
		logistics_skill = 3
	}
	create_corps_commander = {
		name = "岩泽雅美"
		portrait_path = "gfx/leaders/POL/Masami.png"
		traits = { trait_reckless }
		skill = 1
		attack_skill = 2
		defense_skill = 1
		planning_skill = 1
		logistics_skill = 2
	}
	create_corps_commander = {
		name = "POL_Ayato"
		portrait_path = "gfx/leaders/POL/Ayato.png"
		traits = { harsh_leader }
		skill = 2
		attack_skill = 2
		defense_skill = 2
		planning_skill = 2
		logistics_skill = 2
	}
	create_corps_commander = {
		name = "POL_Hisako"
		portrait_path = "gfx/leaders/POL/Hisako.png"
		traits = { career_officer trait_engineer }
		skill = 3
		attack_skill = 3
		defense_skill = 2
		planning_skill = 2
		logistics_skill = 2
	}
	create_corps_commander = {
		name = "POL_shiina"
		portrait_path = "gfx/leaders/POL/shiina.png"
		traits = { commando trait_engineer }
		skill = 3
		attack_skill = 4
		defense_skill = 1
		planning_skill = 2
		logistics_skill = 2
	}
}

POL_create_character_ROY = {
	create_country_leader = {
		name = "拉娜·凡瑟芙"
		picture = GFX_POL_reneer3
		ideology = Ainzism_subideology
	}

	create_field_marshal = {
		name = "POL_Riddle"
		picture = "gfx/leaders/POL/Riddle.png"
		traits = { career_officer chaos_mahoushojo brilliant_strategist }
		skill = 5
		attack_skill = 5
		defense_skill = 4
		planning_skill = 5
		logistics_skill = 6
	}
	create_corps_commander = {
		name = "PRE_misrun"
		portrait_path = "gfx/leaders/PRE/misrun.png"
		skill = 3
		traits = { career_officer brilliant_strategist adaptable }
		attack_skill = 4
		defense_skill = 2
		planning_skill = 3
		logistics_skill = 3
	}
	create_corps_commander = {
		name = "PRE_patadelo"
		portrait_path = "gfx/leaders/PRE/patadelo.png"
		skill = 1
		traits = { elves }
		attack_skill = 1
		defense_skill = 1
		planning_skill = 1
		logistics_skill = 1
	}
	create_corps_commander = {
		name = "PRE_leesion"
		portrait_path = "gfx/leaders/PRE/leesion.png"
		skill = 2
		traits = { elves }
		attack_skill = 2
		defense_skill = 1
		planning_skill = 2
		logistics_skill = 2
	}
	create_corps_commander = {
		name = "PRE_ferich"
		portrait_path = "gfx/leaders/PRE/ferich.png"
		skill = 3
		traits = { elves career_officer }
		attack_skill = 3
		defense_skill = 2
		planning_skill = 3
		logistics_skill = 3
	}
}

POL_create_character_ORT = {
	create_country_leader = {
		name = "玛恩纳·临光"
		picture = "gfx/leaders/POL/Młynar.png"
		ideology = conservatism
	}

	create_field_marshal = {
		name = "玛恩纳·临光"
		picture = "gfx/leaders/POL/Młynar.png"
		traits = { cavalry_officer career_officer }
		skill = 4
		attack_skill = 5
		defense_skill = 3
		planning_skill = 4
		logistics_skill = 3
	}
	create_corps_commander = {
		name = "POL_Nearl"
		portrait_path = "gfx/leaders/POL/Nearl.png"
		traits = { panzer_leader career_officer cavalry_officer trait_engineer }
		skill = 4
		attack_skill = 4
		defense_skill = 3
		planning_skill = 2
		logistics_skill = 3
	}
	create_corps_commander = {
		name = "POL_Blemishine"
		portrait_path = "gfx/leaders/POL/Blemishine.png"
		traits = { panzer_leader brilliant_strategist }
		skill = 1
		attack_skill = 2
		defense_skill = 1
		planning_skill = 1
		logistics_skill = 1
	}
	create_corps_commander = {
		name = "POL_Ashlock"
		portrait_path = "gfx/leaders/POL/Ashlock.png"
		traits = { bearer_of_artillery career_officer engineer_officer }
		skill = 2
		attack_skill = 2
		defense_skill = 1
		planning_skill = 2
		logistics_skill = 2
	}
}


	POL_check_cohesiveness_effect = {
		if = {
			limit = {
				NOT = { check_variable = { DEN_sparks_progress_var > 5 } }
			}
			custom_effect_tooltip = POL_escalate_situation_tooltip
			hidden_effect = {
				if = {
					limit = { has_country_flag = POL_and_SOV_game_fail }
					country_event = { id = pol_cw.001 days = 3 }
				}
				else = {
					country_event = { id = pol_cw.002 days = 3 }
				}
			}
		}
	}

	POL_cohesiveness_increase_effect = {
		add_to_variable = { DEN_sparks_progress_var = 5 }
		clamp_variable = { var = DEN_sparks_progress_var max = 100 }
		custom_effect_tooltip = {
			localization_key = POL_cohesiveness_increase
			cohesion = 5
		}
	}
	
	POL_cohesiveness_decrease_effect = {
		POL_check_cohesiveness_effect = yes
		add_to_variable = { DEN_sparks_progress_var = -5 }
		clamp_variable = { var = DEN_sparks_progress_var min = 0 }
		custom_effect_tooltip = {
			localization_key = POL_cohesiveness_decrease
			cohesion = -5
		}
	}

	POL_secondary_faction_the_SSS_increase = {
		if = {
			limit = {
				NOT = { check_variable = { POL_left_wing_army_var = 0 } }
			}
			add_to_variable = { POL_left_wing_army_var = 1 }
			custom_effect_tooltip = POL_secondary_faction_the_SSS_increase_tooltip
		}
		if = {
			limit = {
				check_variable = { POL_left_wing_army_var = 5 }
			}
			custom_effect_tooltip = POL_secondary_faction_the_SSS_too_powerful
			POL_cohesiveness_decrease_effect = yes
		}
		clamp_variable = { var = POL_left_wing_army_var min = 0 max = 5 }
	}

	POL_secondary_faction_the_SSS_decrease = {
		if = {
			limit = {
				NOT = { check_variable = { POL_left_wing_army_var = 0 } }
			}
			add_to_variable = { POL_left_wing_army_var = -1 }
			custom_effect_tooltip = POL_secondary_faction_the_SSS_decrease_tooltip
		}
		clamp_variable = { var = POL_left_wing_army_var min = 0 max = 5 }
	}

	POL_secondary_faction_the_NOB_increase = {
		if = {
			limit = {
				NOT = { check_variable = { POL_noble_parliament_var = 0 } }
			}
			add_to_variable = { POL_noble_parliament_var = 1 }
			custom_effect_tooltip = POL_secondary_faction_the_NOB_increase_tooltip
		}
		if = {
			limit = {
				check_variable = { POL_noble_parliament_var = 5 }
			}
			custom_effect_tooltip = POL_secondary_faction_the_NOB_increase_too_powerful
			POL_cohesiveness_decrease_effect = yes
		}
		clamp_variable = { var = POL_noble_parliament_var min = 0 max = 5 }
	}

	POL_secondary_faction_the_NOB_decrease = {
		if = {
			limit = {
				NOT = { check_variable = { POL_noble_parliament_var = 0 } }
			}
			add_to_variable = { POL_noble_parliament_var = -1 }
			custom_effect_tooltip = POL_secondary_faction_the_NOB_decrease_tooltip
		}
		clamp_variable = { var = POL_noble_parliament_var min = 0 max = 5 }
	}

	POL_obtain_small_scale_troops_support_effect = {
		if = {
			limit = { NOT = { has_template = "Militia Troops" } }
			division_template = {
				name = "Militia Troops"		
				division_names_group = POL_INF_01
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
				}
				is_locked = yes
			}
		}
		capital = {
			create_unit = {
				division = "name = \"Militia Troops\" division_template = \"Militia Troops\" start_experience_factor = 0.5"  
				owner = ROOT
			}
		}
		custom_effect_tooltip = POL_obtain_small_scale_troops_support_tt
	}
	
	POL_obtain_medium_scale_troops_support_effect = {
		if = {
			limit = { NOT = { has_template = "Militia Troops" } }
			division_template = {
				name = "Militia Troops"		
				division_names_group = POL_INF_01
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
				}
				is_locked = yes
			}
		}
		capital = {
			create_unit = {
				division = "name = \"Militia Troops\" division_template = \"Militia Troops\" start_experience_factor = 0.5"  
				owner = ROOT
			}
			create_unit = {
				division = "name = \"Militia Troops\" division_template = \"Militia Troops\" start_experience_factor = 0.5"  
				owner = ROOT
			}
		}
		custom_effect_tooltip = POL_obtain_medium_scale_troops_support_tt
	}
	
	POL_obtain_large_scale_troops_support_effect = {
		if = {
			limit = { NOT = { has_template = "Militia Troops" } }
			division_template = {
				name = "Militia Troops"		
				division_names_group = POL_INF_01
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
				}
				is_locked = yes
			}
		}
		capital = {
			create_unit = {
				division = "name = \"Militia Troops\" division_template = \"Militia Troops\" start_experience_factor = 0.5"  
				owner = ROOT
			}
			create_unit = {
				division = "name = \"Militia Troops\" division_template = \"Militia Troops\" start_experience_factor = 0.5"  
				owner = ROOT
			}
			create_unit = {
				division = "name = \"Militia Troops\" division_template = \"Militia Troops\" start_experience_factor = 0.5"  
				owner = ROOT
			}
		}
		custom_effect_tooltip = POL_obtain_large_scale_troops_support_tt
	}
	
	POL_obtain_support_for_small_weapons = {
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 500
			producer = POL
		}
		add_equipment_to_stockpile = {
			type = support_equipment
			amount = 20
			producer = POL
		}
	}

	POL_obtain_support_for_medium_weapons = {
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 1000
			producer = POL
		}
		add_equipment_to_stockpile = {
			type = artillery_equipment
			amount = 100
			producer = POL
		}
		add_equipment_to_stockpile = {
			type = support_equipment
			amount = 50
			producer = POL
		}
	}
	
	POL_obtain_support_for_large_weapons = {
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 1500
			producer = POL
		}
		add_equipment_to_stockpile = {
			type = artillery_equipment
			amount = 200
			producer = POL
		}
		add_equipment_to_stockpile = {
			type = support_equipment
			amount = 100
			producer = POL
		}
		add_equipment_to_stockpile = {
			type = motorized_equipment
			amount = 25
			producer = POL
		}
	}
