on_actions = {
	on_capitulation = {
		effect = {
			if = {
				#魔导国战胜基尔
				limit = {
					ROOT = {
						tag = SHL
						is_subject = no
						has_government = communism
						NOT = {
							any_enemy_country = {
								NOT = { tag = DVL }
							}
						}
					}
					FROM = { tag = DVL }
				}
				DVL = {
					white_peace = {
						tag = SHL
						message = WP_DVL_Win_SHL
					}
					annex_country = {
						target = SHL
						transfer_troops = no
					}
					country_event = {
						id = WizardCountry.005
					}
				}
			}
			if = {
				#魔导国战胜巴苏
				limit = {
					ROOT = {
						tag = BAY
						is_subject = no
						has_government = communism
						NOT = {
							any_enemy_country = {
								NOT = { tag = DVL }
							}
						}
					}
					FROM = { tag = DVL }
				}
				DVL = {
					white_peace = {
						tag = BAY
						message = WP_DVL_Win_BAY
					}
					annex_country = {
						target = BAY
						transfer_troops = no
					}
					country_event = {
						id = WizardCountry.006
					}
				}
			}
			if = {
				#魔导国战胜莱茵兰
				limit = {
					ROOT = {
						tag = RHI
						is_subject = no
						#has_government = communism
						NOT = {
							any_enemy_country = {
								NOT = { tag = DVL }
							}
						}
					}
					FROM = { tag = DVL }
				}
				DVL = {
					white_peace = {
						tag = RHI
						message = WP_DVL_Win_RHI
					}
					annex_country = {
						target = RHI
						transfer_troops = no
					}
					country_event = {
						id = WizardCountry.007
					}
				}
			}
		}
	}
	on_startup = {
		effect = {
			DVL = {
				country_event = {
					id = WizardCountry.008
					days = 70
				}
			}
			DVL = { SHL = { enable_country_integration_50_compliance = yes } }
			DVL = { RHI = { enable_country_integration_50_compliance = yes } }
			DVL = { BAY = { enable_country_integration_50_compliance = yes } }
			DVL = { PRE = { enable_country_integration_50_compliance = yes } }
			DVL = { KMS = { enable_country_integration_50_compliance = yes } }
			DVL = { GER = { enable_country_integration_50_compliance = yes } }
		}
	}
	on_monthly_DVL = {
		effect = {
			DVL = {
				add_to_variable = {
					var = undead_substitution_rate
					value = undead_substitution_rate_monthly
				}
				if = {
					limit = { check_variable = { undead_substitution_rate < 100 } }
					add_to_variable = {
						var = jobless_rate
						value = jobless_rate_monthly
					}
				}
				DVL_Calculate_Undead_Economy = yes
			}
		}
	}
}