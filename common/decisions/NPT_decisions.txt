
NPT_third_international_westline = {
	NPT_PROTCET = {
		visible = {
			TAG = NPT
			is_subject = no
		}
		available = {
			has_global_flag = second_weltkrieg_has_started
			NOT = {
				has_war_with = DVL
			}
			SOV = {
				has_war_with = DVL
			}
		}
		cost = 0
		days_remove = 7
		fire_only_once = yes
		remove_effect = {
			declare_war_on = {
				target = DVL
				type = puppet_wargoal_focus
			}
		}
		war_with_on_remove = DVL
		ai_will_do = {
			factor = 100
		}
	}
}

NPT_mother_gods_plan_decision_category = {
	
	NPT_dec_build_power_plant = {
		allowed = {
			always = no
		}
		icon = GFX_decision_generic_factory
		fire_only_once = yes
		priority = 99
		on_map_mode = map_and_decisions_view
		ai_will_do = {
			factor = 1000
		}
		available = {
			num_of_civilian_factories_available_for_projects > 4
			custom_trigger_tooltip = {
				tooltip = SOV_dec_build_civil_factories_tt
				check_variable = { NPT_building < 3 }
			}
		}
		state_target = yes
		days_remove = 100
		custom_cost_text = RUS_100_ubs_save_cost
		custom_cost_trigger = {
			check_variable = { ubs_save > 100 }
		}
		modifier = {
			civilian_factory_use = 5
		}
		complete_effect = {
			add_to_variable = { ubs_save = -100 }
			add_to_variable = { NPT_building = 1 }
		}
		remove_effect = {
			if = {
				limit = { check_variable = { NPT_building < 1 } }
				set_variable = { NPT_building = 0 }
			}
			else = { add_to_variable = { NPT_building = -1 } }
			FROM = {
				if = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = no
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
					}
				}
				else = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
					}
					add_building_construction = {
						type = infrastructure
						level = 2
					}
				}
			}
		}
	}

	NPT_dec_build_server = {
		allowed = {
			always = no
		}
		icon = GFX_decision_generic_operation
		fire_only_once = yes
		priority = 98
		on_map_mode = map_and_decisions_view
		ai_will_do = {
			factor = 1000
		}
		available = {
			num_of_civilian_factories_available_for_projects > 4
			custom_trigger_tooltip = {
				tooltip = SOV_dec_build_civil_factories_tt
				check_variable = { NPT_building < 3 }
			}
		}
		state_target = yes
		days_remove = 50
		custom_cost_text = RUS_50_ubs_save_cost
		custom_cost_trigger = {
			check_variable = { ubs_save > 50 }
		}
		modifier = {
			civilian_factory_use = 5
		}
		complete_effect = {
			add_to_variable = { ubs_save = -50 }
			add_to_variable = { NPT_building = 1 }
		}
		remove_effect = {
			if = {
				limit = { check_variable = { NPT_building < 1 } }
				set_variable = { NPT_building = 0 }
			}
			else = { add_to_variable = { NPT_building = -1 } }
			FROM = {
				if = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = no
						}
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
					}
				}
				else = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
					}
				}
			}
		}
	}
	
	NPT_dec_build_processing_factory = {
		allowed = {
			always = no
		}
		icon = GFX_decision_generic_consumer_goods
		fire_only_once = yes
		priority = 97
		on_map_mode = map_and_decisions_view
		ai_will_do = {
			factor = 1000
		}
		available = {
			num_of_civilian_factories_available_for_projects > 4
			custom_trigger_tooltip = {
				tooltip = SOV_dec_build_civil_factories_tt
				check_variable = { NPT_building < 3 }
			}
		}
		state_target = yes
		days_remove = 100
		custom_cost_text = RUS_150_ubs_save_cost
		custom_cost_trigger = {
			check_variable = { ubs_save > 150 }
		}
		modifier = {
			civilian_factory_use = 5
		}
		complete_effect = {
			add_to_variable = { ubs_save = -150 }
			add_to_variable = { NPT_building = 1 }
		}
		remove_effect = {
			if = {
				limit = { check_variable = { NPT_building < 1 } }
				set_variable = { NPT_building = 0 }
			}
			else = { add_to_variable = { NPT_building = -1 } }
			FROM = {
				if = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = no
						}
					}
					add_building_construction = {
						type = industrial_complex
						level = 2
					}
				}
				else = {
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
					}
				}
			}
		}
	}
		
	NPT_dec_build_steel_mill = {
		allowed = {
			always = no
		}
		icon = GFX_decision_steel
		fire_only_once = yes
		priority = 96
		on_map_mode = map_and_decisions_view
		ai_will_do = {
			factor = 1000
		}
		available = {
			num_of_civilian_factories_available_for_projects > 4
			custom_trigger_tooltip = {
				tooltip = SOV_dec_build_civil_factories_tt
				check_variable = { NPT_building < 3 }
			}
		}
		state_target = yes
		days_remove = 70
		custom_cost_text = RUS_75_ubs_save_cost
		custom_cost_trigger = {
			check_variable = { ubs_save > 75 }
		}
		modifier = {
			civilian_factory_use = 5
		}
		complete_effect = {
			add_to_variable = { ubs_save = -75 }
			add_to_variable = { NPT_building = 1 }
		}
		remove_effect = {
			if = {
				limit = { check_variable = { NPT_building < 1 } }
				set_variable = { NPT_building = 0 }
			}
			else = { add_to_variable = { NPT_building = -1 } }
			FROM = {
				if = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = no
						}
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
					}
				}
				else = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
					}
				}
				add_resource = {
					type = steel
					amount = 4
				}
			}
		}
	}
	
	NPT_dec_build_ordnance_factory = {
		allowed = {
			always = no
		}
		icon = GFX_decision_generic_industry
		fire_only_once = yes
		priority = 95
		on_map_mode = map_and_decisions_view
		ai_will_do = {
			factor = 1000
		}
		available = {
			num_of_civilian_factories_available_for_projects > 4
			custom_trigger_tooltip = {
				tooltip = SOV_dec_build_civil_factories_tt
				check_variable = { NPT_building < 3 }
			}
		}
		state_target = yes
		days_remove = 100
		custom_cost_text = RUS_75_ubs_save_cost
		custom_cost_trigger = {
			check_variable = { ubs_save > 75 }
		}
		modifier = {
			civilian_factory_use = 5
		}
		complete_effect = {
			add_to_variable = { ubs_save = -75 }
			add_to_variable = { NPT_building = 1 }
		}
		remove_effect = {
			if = {
				limit = { check_variable = { NPT_building < 1 } }
				set_variable = { NPT_building = 0 }
			}
			else = { add_to_variable = { NPT_building = -1 } }
			FROM = {
				if = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = no
						}
					}
					add_building_construction = {
						type = arms_factory
						level = 1
					}
				}
				else = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
					}
				}
			}
		}
	}
		
	NPT_dec_build_artillery_assembly_plant = {
		allowed = {
			always = no
		}
		icon = GFX_decision_generic_merge_plant_materiel
		fire_only_once = yes
		priority = 94
		on_map_mode = map_and_decisions_view
		ai_will_do = {
			factor = 1000
		}
		available = {
			num_of_civilian_factories_available_for_projects > 4
			custom_trigger_tooltip = {
				tooltip = SOV_dec_build_civil_factories_tt
				check_variable = { NPT_building < 3 }
			}
		}
		state_target = yes
		days_remove = 120
		custom_cost_text = RUS_100_ubs_save_cost
		custom_cost_trigger = {
			check_variable = { ubs_save > 100 }
		}
		modifier = {
			civilian_factory_use = 5
		}
		complete_effect = {
			add_to_variable = { ubs_save = -100 }
			add_to_variable = { NPT_building = 1 }
		}
		remove_effect = {
			if = {
				limit = { check_variable = { NPT_building < 1 } }
				set_variable = { NPT_building = 0 }
			}
			else = { add_to_variable = { NPT_building = -1 } }
			FROM = {
				if = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = no
						}
					}
					add_building_construction = {
						type = arms_factory
						level = 2
					}
				}
				else = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 2
					}
				}
			}
		}
	}
			
	NPT_dec_build_anti_aircraft_guns = {
		allowed = {
			always = no
		}
		icon = GFX_decision_generic_fortification
		fire_only_once = yes
		priority = 93
		on_map_mode = map_and_decisions_view
		ai_will_do = {
			factor = 1000
		}
		available = {
			num_of_civilian_factories_available_for_projects > 4
			custom_trigger_tooltip = {
				tooltip = SOV_dec_build_civil_factories_tt
				check_variable = { NPT_building < 3 }
			}
		}
		state_target = yes
		days_remove = 70
		custom_cost_text = RUS_50_ubs_save_cost
		custom_cost_trigger = {
			check_variable = { ubs_save > 50 }
		}
		modifier = {
			civilian_factory_use = 5
		}
		complete_effect = {
			add_to_variable = { ubs_save = -50 }
			add_to_variable = { NPT_building = 1 }
		}
		remove_effect = {
			if = {
				limit = { check_variable = { NPT_building < 1 } }
				set_variable = { NPT_building = 0 }
			}
			else = { add_to_variable = { NPT_building = -1 } }
			FROM = {
				add_building_construction = {
					type = anti_air_building
					level = 3
				}
			}
		}
	}

	NPT_dec_investment_puppet_state = {
		icon = GFX_decision_hol_attract_foreign_investors
		priority = 92
		visible = {
			tag = ARF
			has_completed_focus = NPT_arfoire_grace_of_mother
		}
		target_trigger = {
			FROM = {
				is_subject_of = ROOT
			}
		}
		ai_will_do = {
			factor = 1000
		}
		days_remove = 14
		days_re_enable = 365
		fire_only_once = no
		custom_cost_text = RUS_100_ubs_save_cost
		custom_cost_trigger = {
			check_variable = { ubs_save > 100 }
		}
		complete_effect = {
			add_to_variable = { ubs_save = -100 }
		}
		remove_effect = {
			FROM = {
				random_owned_controlled_state = {
					limit = { is_core_of = PREV }  
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
					}
				}
				add_timed_idea = {
					idea = NPT_theory_of_arfoire_investment
					days = 120
				}
			}
		}
	}
	
	NPT_dec_call_up_puppet_state_industry = {
		icon = GFX_decision_generic_fundraising
		priority = 92
		allowed = {
			tag = ARF
		}
		visible = {
			has_completed_focus = NPT_arfoire_worship_of_mother
		}
		target_trigger = {
			FROM = {
				is_subject_of = ROOT
				NOT = { has_idea = NPT_call_up_puppet_state_industry }
			}
		}
		ai_will_do = {
			factor = 100
		}
		days_remove = 14
		fire_only_once = no
		cost = 10
		remove_effect = {
			FROM = {
				add_ideas = NPT_call_up_puppet_state_industry
			}
		}
	}
		
	NPT_dec_stop_call_up_puppet_state_industry = {
		icon = GFX_decision_generic_fundraising
		priority = 91
		allowed = {
			tag = ARF
		}
		visible = {
			NOT = { has_country_flag = NPT_stop_call_up_puppet_state_industry_flag }
			has_completed_focus = NPT_arfoire_worship_of_mother
		}
		target_trigger = {
			FROM = {
				is_subject_of = ROOT
				has_idea = NPT_call_up_puppet_state_industry
			}
		}
		ai_will_do = {
			factor = 0
		}
		days_remove = 14
		fire_only_once = no
		cost = 10
		remove_effect = {
			FROM = {
				remove_ideas = NPT_call_up_puppet_state_industry
			}
		}
	}

	NPT_dont_visible_stop_call_up_puppet_state_industry = {
		priority = 90
		visible = {
			has_completed_focus = NPT_arfoire_worship_of_mother
			any_subject_country = {
				has_idea = NPT_call_up_puppet_state_industry
			}
			NOT = { has_country_flag = NPT_stop_call_up_puppet_state_industry_flag }
		}
		cost = 0
		fire_only_once = no
		complete_effect = {
			set_country_flag = NPT_stop_call_up_puppet_state_industry_flag
		}
	}
	
	NPT_please_visible_stop_call_up_puppet_state_industry = {
		priority = 90
		visible = {
			has_completed_focus = NPT_arfoire_worship_of_mother
			has_country_flag = NPT_stop_call_up_puppet_state_industry_flag
		}
		cost = 0
		fire_only_once = no
		complete_effect = {
			clr_country_flag = NPT_stop_call_up_puppet_state_industry_flag
		}
	}
}