PRC_Central_Committee_of_the_Communist_Party_of_China = {
	#支持毛润芝派
	PRC_Support_the_Li_Desheng_faction = {
		visible = {
		}
		available = {
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = support_of_li_smaller_than_100
				check_variable = {
					ROOT.support_of_li < 100
				}
			}
			not = {
				has_country_flag = PRC_is_supporting
			}
			not = {
				has_country_flag = PRC_over_the_road_fight
			}
		}
		cost = 50
		#cancel_if_invalid = yes
		ai_will_do = {
			factor = 1
			modifier = {
				has_country_flag = PRC_GAME_RULE_1
				factor = 0
			}
			modifier = {
				has_country_flag = PRC_GAME_RULE_3
				factor = 0
			}
		}
		fire_only_once = no
		days_remove = 30
		complete_effect = {
			set_country_flag = PRC_is_supporting
		}
		remove_effect = {
			clr_country_flag = PRC_is_supporting
			support_of_li_add_10 = yes
		}
	}
	#打压毛润芝派
	PRC_Suppress_the_Li_Desheng_faction = {
		visible = {
		}
		available = {
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = support_of_li_bigger_than_0
				check_variable = {
					ROOT.support_of_li > 0
				}
			}
			not = {
				has_country_flag = PRC_is_supporting
			}
			not = {
				has_country_flag = PRC_over_the_road_fight
			}
		}
		cost = 50
		#cancel_if_invalid = yes
		ai_will_do = {
			factor = 0
		}
		fire_only_once = no
		days_remove = 30
		complete_effect = {
			set_country_flag = PRC_is_supporting
		}
		remove_effect = {
			clr_country_flag = PRC_is_supporting
			support_of_li_lose_10 = yes
		}
	}
	#支持
	PRC_Support_the_Chen_faction = {
		visible = {
		}
		available = {
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = support_of_Chen_smaller_than_100
				check_variable = {
					ROOT.support_of_chen < 100
				}
			}
			not = {
				has_country_flag = PRC_is_supporting
			}
			not = {
				has_country_flag = PRC_over_the_road_fight
			}
		}
		cost = 50
		#cancel_if_invalid = yes
		ai_will_do = {
			factor = 1
			modifier = {
				has_country_flag = PRC_GAME_RULE_1
				factor = 0
			}
			modifier = {
				has_country_flag = PRC_GAME_RULE_2
				factor = 0
			}
		}
		fire_only_once = no
		days_remove = 30
		complete_effect = {
			set_country_flag = PRC_is_supporting
		}
		remove_effect = {
			clr_country_flag = PRC_is_supporting
			support_of_chen_add_10 = yes
		}
	}
	#打压
	PRC_Suppress_the_Chen_faction = {
		visible = {
		}
		available = {
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = support_of_Chen_bigger_than_0
				check_variable = {
					ROOT.support_of_chen > 0
				}
			}
			not = {
				has_country_flag = PRC_is_supporting
			}
			not = {
				has_country_flag = PRC_over_the_road_fight
			}
		}
		cost = 50
		#cancel_if_invalid = yes
		ai_will_do = {
			factor = 0
		}
		fire_only_once = no
		days_remove = 30
		complete_effect = {
			set_country_flag = PRC_is_supporting
		}
		remove_effect = {
			clr_country_flag = PRC_is_supporting
			support_of_chen_lose_10 = yes
		}
	}
	#支持
	PRC_Support_the_Zhang_faction = {
		visible = {
		}
		available = {
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = support_of_Zhang_smaller_than_100
				check_variable = {
					ROOT.support_of_zhang < 100
				}
			}
			not = {
				has_country_flag = PRC_is_supporting
			}
			not = {
				has_country_flag = PRC_over_the_road_fight
			}
		}
		cost = 50
		#cancel_if_invalid = yes
		ai_will_do = {
			factor = 1
			modifier = {
				has_country_flag = PRC_GAME_RULE_2
				factor = 0
			}
			modifier = {
				has_country_flag = PRC_GAME_RULE_3
				factor = 0
			}
		}
		fire_only_once = no
		days_remove = 30
		complete_effect = {
			set_country_flag = PRC_is_supporting
		}
		remove_effect = {
			clr_country_flag = PRC_is_supporting
			support_of_zhang_add_10 = yes
		}
	}
	#打压
	PRC_Suppress_the_Zhang_faction = {
		visible = {
		}
		available = {
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = support_of_Zhang_bigger_than_0
				check_variable = {
					ROOT.support_of_zhang > 0
				}
			}
			not = {
				has_country_flag = PRC_is_supporting
			}
			not = {
				has_country_flag = PRC_over_the_road_fight
			}
		}
		cost = 50
		#cancel_if_invalid = yes
		ai_will_do = {
			factor = 0
		}
		fire_only_once = no
		days_remove = 30
		complete_effect = {
			set_country_flag = PRC_is_supporting
		}
		remove_effect = {
			clr_country_flag = PRC_is_supporting
			support_of_zhang_lose_10 = yes
		}
	}
}

PRC_Revolutionary_issues = {
	PRC_Capital_question = {
		visible = {
		}
		available = {
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = not_other_competiter_for_China_reunification
				not = {
					any_other_country = {
						has_country_flag = Participate_in_the_competition_for_China_reunification
						is_subject = no
					}
				}
			}
			or = {
				controls_state = 650
				controls_state = 608
				controls_state = 613
				controls_state = 592
				controls_state = 743
				controls_state = 1048
			}
		}
		cost = 0
		#cancel_if_invalid = yes
		fire_only_once = yes
		ai_will_do = {
			factor = 1
		}
		complete_effect = {
			set_country_flag = PRC_complete_PRC_Capital_question
			custom_effect_tooltip = PRC_Capital_question_tt
			country_event = {
				id = PRC_add.16
			}
		}
	}
	PRC_attck_FROM = {
		icon = GFX_decision_generic_ignite_civil_war
		target_trigger = {
			FROM = {
				has_country_flag = can_be_attack_by_PRC
				not = {
					or = {
						has_war_with = ROOT
						is_in_faction_with = ROOT
						is_subject_of = ROOT
					}
				}
			}
			ROOT = {
				is_subject = no
			}
		}
		available = {
			not = {
				has_country_flag = PRC_war_plan_going_on
			}
			not = {
				is_in_faction_with = FROM
			}
			any_home_area_neighbor_country = {
				tag = FROM
			}
		}
		cost = 10
		days_remove = 15
		war_with_target_on_remove = yes
		complete_effect = {
			set_country_flag = PRC_war_plan_going_on
			FROM = {
				country_event = {
					id = generic.2010
				}
			}
		}
		remove_effect = {
			clr_country_flag = PRC_war_plan_going_on
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}
		ai_will_do = {
			base = 1000
			modifier = {
				any_home_area_neighbor_country = {
					has_war_with = ROOT
				}
				factor = 0
			}
			modifier = {
				FROM = {
					is_stronger_than_ROOT_and_not_vulnerable = yes
				}
				factor = 0
			}
		}
	}
	PRC_attck_FROM_2 = {
		icon = GFX_decision_generic_ignite_civil_war
		target_trigger = {
			FROM = {
				has_country_flag = Participate_in_the_competition_for_China_reunification
				is_subject = no
			}
			ROOT = {
				is_subject = no
			}
		}
		visible = {
			CHI = {
				exists = no
			}
			ROC = {
				exists = no
			}
		}
		available = {
			not = {
				has_country_flag = PRC_war_plan_going_on
			}
			not = {
				is_in_faction_with = FROM
			}
			any_home_area_neighbor_country = {
				tag = FROM
			}
		}
		cost = 10
		days_remove = 15
		war_with_target_on_remove = yes
		complete_effect = {
			set_country_flag = PRC_war_plan_going_on
			FROM = {
				country_event = {
					id = generic.2010
				}
			}
		}
		remove_effect = {
			clr_country_flag = PRC_war_plan_going_on
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}
		ai_will_do = {
			factor = 30
			modifier = {
				any_home_area_neighbor_country = {
					has_war_with = ROOT
				}
				factor = 0
			}
			modifier = {
				FROM = {
					is_stronger_than_ROOT_and_not_vulnerable = yes
				}
				factor = 0
			}
		}
	}
}

PRC_rebuild_SOV = {
	PRC_declare_rebuil_SOV = {
		icon = GFX_decision_category_SOV_permanent_revolution
		visible = {
		}
		available = {
			is_subject = no
			has_war = no
			EAM = {
				is_subject = no
				has_war = no
				is_in_faction_with = ROOT
				custom_trigger_tooltip = {
					tooltip = ALL_CONTROL_need_state
					NOT = {
						any_state = {
							has_state_flag = Soviet_union_state_area
							NOT = {
								is_controlled_by = PREV
							}
						}
					}
				}
			}
		}
		cost = 0
		#cancel_if_invalid = yes
		fire_only_once = yes
		ai_will_do = {
			factor = 1
		}
		complete_effect = {
			transfer_state = 561
			transfer_state = 657
			transfer_state = 560
			transfer_state = 409
			transfer_state = 408
			if = {
				limit = {
					EAM = {
						controls_state = 537
					}
				}
				transfer_state = 537
			}
			EAM = {
				set_cosmetic_tag = EAM_Soviet_union
				set_capital = {
					state = 219
					remember_old_capital = no
				}
			}
			set_country_flag = PRC_declare_rebuil_SOV
			hidden_effect = {
			}
		}
	}
	PRC_rebuild_SOV_target_decision_declare_war = {
		icon = GFX_decision_generic_ignite_civil_war
		target_trigger = {
			FROM = {
				any_controlled_state = {
					has_state_flag = Soviet_union_state_area
				}
				NOT = {
					is_in_faction_with = ROOT
				}
			}
			ROOT = {
				is_subject = no
			}
		}
		available = {
			is_subject = no
			has_war = no
			EAM = {
				is_subject = no
				is_in_faction_with = ROOT
			}
		}
		cost = 10
		days_remove = 30
		war_with_target_on_remove = yes
		complete_effect = {
			FROM = {
				country_event = {
					id = generic.2010
				}
			}
		}
		remove_effect = {
			EAM = {
				declare_war_on = {
					target = FROM
					type = take_state
				}
			}
			declare_war_on = {
				target = FROM
				type = take_state
			}
		}
		ai_will_do = {
			factor = 0
			modifier = {
				NOT = {
					any_home_area_neighbor_country = {
						has_war_with = ROOT
					}
				}
				add = 30
			}
			modifier = {
				has_country_flag = GER_war_plan_going_on
				add = -30
			}
		}
	}
}

PRC_Three_major_transformations = {
	man_dec_nongyegaizao = {
		allowed = {
			tag = PRC
		}
		visible = {
			has_completed_focus = PRC_Three_major_transformations
		}
		cost = 100
		days_remove = 100
		#cancel_if_invalid = yes
		ai_will_do = {
			factor = 100
		}
		fire_only_once = yes
		remove_effect = {
			add_ideas = MAN_nongyegaizao_idea
		}
	}
	man_dec_shougongyegaizao = {
		allowed = {
			tag = PRC
		}
		available = {
			has_idea = MAN_nongyegaizao_idea
		}
		visible = {
			has_completed_focus = PRC_Three_major_transformations
		}
		cost = 100
		days_remove = 100
		#cancel_if_invalid = yes
		ai_will_do = {
			factor = 100
		}
		fire_only_once = yes
		remove_effect = {
			add_ideas = MAN_shougongyegaizao_idea
		}
	}
	man_dec_gongshangyegaizao = {
		allowed = {
			tag = PRC
		}
		available = {
			has_idea = MAN_nongyegaizao_idea
			has_idea = MAN_shougongyegaizao_idea
		}
		visible = {
			has_completed_focus = PRC_Three_major_transformations
		}
		cost = 100
		days_remove = 100
		#cancel_if_invalid = yes
		ai_will_do = {
			factor = 100
		}
		fire_only_once = yes
		remove_effect = {
			add_ideas = MAN_gongshangyegaizao_idea
		}
	}
}

PRC_Diplomatic_matters = {
	MAN_invite_VIN_cpc = {
		icon = generic_decision
		fire_only_once = yes
		allowed = {
			tag = PRC
		}
		visible = {
			VIN = {
				exists = yes
			}
			is_faction_leader = yes
			is_subject = no
			has_government = communism
		}
		available = {
			VIN = {
				has_government = communism
				is_in_faction = no
				is_subject = no
			}
		}
		days_remove = 7
		cost = 5
		remove_effect = {
			VIN = {
				country_event = man.133
			}
		}
	}
	MAN_invite_MAL = {
		icon = generic_decision
		fire_only_once = yes
		allowed = {
			tag = PRC
		}
		visible = {
			MAL = {
				exists = yes
			}
			is_faction_leader = yes
			is_subject = no
			has_government = communism
		}
		available = {
			MAL = {
				has_government = communism
				is_in_faction = no
				is_subject = no
			}
		}
		days_remove = 7
		cost = 5
		remove_effect = {
			MAL = {
				country_event = {
					id = generic.2008
				}
			}
		}
	}
}
#游击战
PRC_Guerrilla_warfare = {
	PRC_Partisan_infiltration_button = {
		icon = GFX_decision_category_infiltration
		allowed = {
			tag = PRC
		}
		target_trigger = {
			FROM = {
				not = {
					has_state_flag = Partisan_zone_of_PRC
				}
				NOT = {
					is_owned_and_controlled_by = PRC
				}
				has_state_flag = is_CHI_state_area
				any_neighbor_state = {
					or = {
						ROOT_or_ally_control_this_state = yes
						has_state_flag = Partisan_zone_of_PRC
					}
				}
			}
		}
		state_target = yes
		on_map_mode = map_only
		target_array = global.ah_formables_states_array
		days_remove = 30
		ai_will_do = {
			factor = 1
			modifier = {
				FROM = {
					controller = {
						has_war_with = ROOT
					}
				}
				factor = 1000
			}
		}
		custom_cost_trigger = {
			command_power > 14
		}
		available = {
			NOT = {
				has_country_flag = PRC_Partisan_infiltration_button_is_on
			}
			custom_trigger_tooltip = {
				tooltip = There_are_adjacent_guerrilla_zones
				FROM = {
					any_neighbor_state = {
						or = {
							ROOT_or_ally_control_this_state = yes
							has_state_flag = Partisan_zone_of_PRC
						}
					}
				}
			}
		}
		custom_cost_text = decision_cost_CP_15
		remove_effect = {
			clr_country_flag = PRC_Partisan_infiltration_button_is_on
			FROM = {
				set_state_flag = Partisan_zone_of_PRC
			}
			custom_effect_tooltip = PRC_Partisan_infiltration_button_desc_2
		}
		complete_effect = {
			set_country_flag = PRC_Partisan_infiltration_button_is_on
			hidden_effect = { add_command_power = -15 }
		}
	}
	PRC_People_uprising_button = {
		icon = GFX_decision_category_SOV_permanent_revolution
		allowed = {
			tag = PRC
		}
		target_trigger = {
			FROM = {
				has_state_flag = Partisan_zone_of_PRC
				NOT = {
					or = {
						is_owned_and_controlled_by = PRC
						#is_core_of = PRC
					}
				}
				NOT = {
					or = {
						is_core_of = ROOT
						owner = {
							tag = ROOT
						}
					}
				}
				has_state_flag = is_CHI_state_area
			}
		}
		state_target = yes
		on_map_mode = map_only
		target_array = global.ah_formables_states_array
		days_remove = 60
		ai_will_do = {
			factor = 1
			modifier = {
				FROM = {
					controller = {
						has_war_with = ROOT
					}
				}
				factor = 1000
			}
		}
		cost = 30
		available = {
		}
		remove_effect = {
			FROM = {
				add_core_of_ROOT = yes
			}
			custom_effect_tooltip = PRC_People_uprising_button_desc_2
			FROM = {
				if = {
					limit = {
						owner = {
							or = {
								not = {
									has_country_flag = Participate_in_the_competition_for_China_reunification
								}
								is_subject = yes
							}
						}
					}
					if = {
						limit = {
							is_fully_controlled_by = owner
							owner = {
								NOT = {
									has_war_with = ROOT
								}
							}
						}
						transfer_state_to = ROOT
					}
					else = {
						set_state_owner_to = ROOT
						set_state_province_controller = {
							controller = ROOT
							limit = {
								NOT = {
									has_war_with = ROOT
								}
							}
						}
					}
				}
			}
		}
		complete_effect = {
			#hidden_effect = { add_command_power = -15 }
		}
	}
	PRC_Sabotage_logistics_button = {
		icon = GFX_decision_category_border_conflicts
		allowed = {
			tag = PRC
		}
		target_trigger = {
			FROM = {
				has_state_flag = Partisan_zone_of_PRC
				NOT = {
					is_owned_and_controlled_by = PRC
				}
				has_state_flag = is_CHI_state_area
				controller = {
					has_war_with = ROOT
				}
				not = {
					has_state_flag = PRC_Sabotage_logistics_button
				}
			}
		}
		state_target = yes
		on_map_mode = map_only
		target_array = global.ah_formables_states_array
		days_remove = 7
		ai_will_do = {
			factor = 1
			modifier = {
				FROM = {
					controller = {
						has_war_with = ROOT
					}
				}
				factor = 1000
			}
			modifier = {
				FROM = {
					NOT = {
						any_neighbor_state = {
							ROOT_or_ally_control_this_state = yes
						}
					}
				}
				factor = 0
			}
		}
		custom_cost_trigger = {
			command_power > 14
		}
		available = {
		}
		custom_cost_text = decision_cost_CP_15
		remove_effect = {
			FROM = {
				set_state_flag = {
					flag = PRC_Sabotage_logistics_button
					value = 1
					days = 30
				}
				if = {
					limit = {
						check_variable = {
							building_level@infrastructure > 0
						}
					}
					damage_building = {
						type = infrastructure
						damage = 1
					}
				}
				if = {
					limit = {
						check_variable = {
							building_level@arms_factory > 0
						}
					}
					damage_building = {
						type = arms_factory
						damage = 1
					}
				}
				if = {
					limit = {
						check_variable = {
							building_level@industrial_complex > 0
						}
					}
					damage_building = {
						type = industrial_complex
						damage = 1
					}
				}
				if = {
					limit = {
						check_variable = {
							building_level@air_base > 0
						}
					}
					damage_building = {
						type = air_base
						damage = 1
					}
				}
				if = {
					limit = {
						check_variable = {
							building_level@supply_node > 0
						}
					}
					damage_building = {
						type = supply_node
						damage = 1
					}
				}
				if = {
					limit = {
						check_variable = {
							building_level@rail_way > 0
						}
					}
					damage_building = {
						type = rail_way
						damage = 1
					}
				}
			}
		}
		complete_effect = {
			hidden_effect = { add_command_power = -15 }
		}
	}
	PRC_Eliminate_the_bandits = {
		icon = GFX_decision_generic_assassination
		allowed = {
			is_chinese_country = yes
			not = {
				tag = PRC
			}
		}
		target_trigger = {
			FROM = {
				has_state_flag = Partisan_zone_of_PRC
				is_controlled_by = ROOT
				has_state_flag = is_CHI_state_area
			}
		}
		state_target = yes
		on_map_mode = map_and_decisions_view
		target_array = controlled_states
		#cost = 20
		days_remove = 15
		custom_cost_trigger = {
			command_power > 9
			has_equipment = { infantry_equipment > 99  }
		}
		available = {
		}
		custom_cost_text = decision_cost_CP_10_and_100_gun
		ai_will_do = {
			factor = 1000
			modifier = {
				has_war = yes
				factor = 0.0001
			}
			modifier = {
				has_equipment = { infantry_equipment > 2000  }
				factor = 100
			}
		}
		remove_effect = {
			FROM = {
				clr_state_flag = Partisan_zone_of_PRC
			}
			custom_effect_tooltip = PRC_Eliminate_the_bandits_TT
		}
		complete_effect = {
			hidden_effect = {
				add_command_power = -10
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -100
				}
			}
		}
	}
}