L_DVL_GER = {
	L_DVL_GER_target_decision = {
		target_trigger = {
			FROM = {
				NOT = {
					is_core_of = ROOT
				}
				has_state_flag = L_GER
			}
		}
		state_target = yes
		on_map_mode = map_and_decisions_view
		name = L_DVL_GER_target_decision
		icon = generic_nationalism
		target_array = controlled_states
		cost = 20
		days_remove = 30
		ai_will_do = {
			factor = 10
		}
		remove_effect = {
			FROM = {
				add_core_of = ROOT
			}
		}
	}
	L_DVL_GER_target_decision_2 = {
		target_trigger = {
			any_country = {
				AND = {
					is_subject_of = DVL
					NOT = {
						tag = HSF
					}
					FROM = {
						has_state_flag = L_GER
						NOT = {
							is_owned_and_controlled_by = DVL
						}
						is_owned_and_controlled_by = PREV
					}
				}
			}
		}
		state_target = yes
		on_map_mode = map_and_decisions_view
		name = L_DVL_GER_target_decision_2
		icon = decision_infiltrate_state
		cost = 5
		days_remove = 7
		ai_will_do = {
			factor = 10
		}
		remove_effect = {
			ROOT = {
				transfer_state = FROM
			}
		}
	}
}

G_DVL_GER = {
	G_DVL_GER_target_decision = {
		target_trigger = {
			FROM = {
				NOT = {
					is_core_of = ROOT
					has_state_flag = L_GER
				}
				has_state_flag = G_GER
			}
		}
		state_target = yes
		on_map_mode = map_and_decisions_view
		name = G_DVL_GER_target_decision
		icon = generic_nationalism
		target_array = controlled_states
		cost = 50
		days_remove = 60
		ai_will_do = {
			factor = 10
		}
		remove_effect = {
			FROM = {
				add_core_of = ROOT
			}
		}
	}
	G_DVL_GER_target_decision_2 = {
		target_trigger = {
			any_country = {
				AND = {
					is_subject_of = DVL
					NOT = {
						tag = HSF
					}
					FROM = {
						has_state_flag = G_GER
						NOT = {
							is_owned_and_controlled_by = DVL
							has_state_flag = L_GER
						}
						is_owned_and_controlled_by = PREV
					}
				}
			}
		}
		state_target = yes
		on_map_mode = map_and_decisions_view
		name = G_DVL_GER_target_decision_2
		icon = decision_infiltrate_state
		cost = 5
		days_remove = 7
		ai_will_do = {
			factor = 10
		}
		remove_effect = {
			ROOT = {
				transfer_state = FROM
			}
		}
	}
}

DVL_war_plan_d_c = {
	DVL_war_plan_FRA = {
		visible = {
			tag = DVL
		}
		allowed = {
			TAG = DVL
		}
		available = {
			or = {
				and = {
					has_war_with = FRA
					FRA = {
						has_capitulated = no
					}
				}
				and = {
					has_war_with = KMK
					KMK = {
						has_capitulated = no
					}
				}
			}
			is_subject = no
		}
		#icon = decision_infiltrate_state
		cost = 50
		days_remove = 10
		days_re_enable = 300
		ai_will_do = {
			factor = 100
		}
		remove_effect = {
			if = {
				limit = {
					has_war_with = FRA
				}
				add_timed_idea = {
					idea = DVL_attack_FRA
					days = 180
				}
			}
			if = {
				limit = {
					has_war_with = KMK
				}
				add_timed_idea = {
					idea = DVL_attack_KMK
					days = 180
				}
			}
		}
	}
	DVL_war_plan_ENG = {
		visible = {
			tag = DVL
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war_with = ENG
			ENG = {
				has_capitulated = no
			}
			is_subject = no
		}
		#icon = decision_infiltrate_state
		cost = 50
		days_remove = 10
		days_re_enable = 300
		ai_will_do = {
			factor = 10
		}
		remove_effect = {
			add_timed_idea = {
				idea = DVL_attack_ENG
				days = 100
			}
		}
	}
	DVL_war_plan_NPT = {
		visible = {
			tag = DVL
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war_with = NPT
			NPT = {
				has_capitulated = no
			}
			is_subject = no
		}
		#icon = decision_infiltrate_state
		cost = 50
		days_remove = 10
		days_re_enable = 300
		ai_will_do = {
			factor = 10
		}
		remove_effect = {
			add_timed_idea = {
				idea = DVL_attack_NPT
				days = 100
			}
		}
	}
	DVL_war_plan_SOV = {
		visible = {
			tag = DVL
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war_with = SOV
			SOV = {
				has_capitulated = no
			}
			is_subject = no
		}
		#icon = decision_infiltrate_state
		cost = 50
		days_remove = 10
		days_re_enable = 300
		ai_will_do = {
			factor = 10
		}
		remove_effect = {
			add_timed_idea = {
				idea = DVL_attack_SOV
				days = 100
			}
		}
	}
	DVL_war_plan_GER = {
		visible = {
			tag = DVL
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war_with = GER
			GER = {
				has_capitulated = no
			}
			is_subject = no
		}
		#icon = decision_infiltrate_state
		cost = 50
		days_remove = 10
		days_re_enable = 300
		ai_will_do = {
			factor = 10
		}
		remove_effect = {
			add_timed_idea = {
				idea = DVL_attack_GER
				days = 100
			}
		}
	}
	DVL_war_plan_ITA = {
		visible = {
			tag = DVL
		}
		allowed = {
			TAG = DVL
		}
		available = {
			or = {
				ITA = {
					has_war_with = ROOT
					has_capitulated = no
				}
				ALS = {
					has_war_with = ROOT
					has_capitulated = no
				}
			}
			is_subject = no
		}
		#icon = decision_infiltrate_state
		cost = 50
		days_remove = 10
		days_re_enable = 300
		ai_will_do = {
			factor = 10
		}
		remove_effect = {
			add_timed_idea = {
				idea = DVL_attack_ITA
				days = 100
			}
		}
	}
	DVL_Bombing_Sicily = {
		visible = {
			tag = DVL
		}
		allowed = {
			TAG = DVL
		}
		available = {
			controls_state = 117
			controls_state = 837
			115 = {
				owner = {
					has_full_control_of_state = 115
					has_war_with = ROOT
				}
			}
			is_subject = no
		}
		#icon = decision_infiltrate_state
		cost = 50
		days_remove = 60
		days_re_enable = 300
		ai_will_do = {
			factor = 10
		}
		remove_effect = {
			115 = {
				owner = {
					add_timed_idea = {
						idea = DVL_Orbital_bombing
						days = 100
					}
				}
			}
			launch_nuke = {
				province = 4159
				use_nuke = no
			}
		}
	}
}

DVL_ZDXQ = {
	FRA_DVL = {
		visible = {
			tag = DVL
			any_state = {
				or = {
					has_state_flag = FRAZDQ
					region = 5
				}
				not = {
					has_state_flag = G_GER
				}
				not = {
					is_core_of = ROOT
				}
				or = {
					is_owned_and_controlled_by = ROOT
					any_country = {
						is_subject_of = ROOT
						has_full_control_of_state = PREV
						not = {
							tag = DVF
						}
					}
				}
			}
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war = no
		}
		icon = decision_infiltrate_state
		cost = 0
		days_remove = 0
		ai_will_do = {
			factor = 10
		}
		complete_effect = {
			every_state = {
				limit = {
					or = {
						has_state_flag = FRAZDQ
						region = 5
					}
					not = {
						has_state_flag = G_GER
					}
					not = {
						is_core_of = ROOT
					}
					or = {
						is_owned_and_controlled_by = ROOT
						any_country = {
							is_subject_of = ROOT
							has_full_control_of_state = PREV
							not = {
								tag = DVF
							}
						}
					}
				}
				DVF = {
					transfer_state = PREV
					add_state_core = PREV
				}
			}
			if = {
				limit = {
					NOT = {
						DVF = {
							is_subject_of = DVL
						}
					}
				}
				DVL = {
					set_autonomy = {
						target = DVF
						autonomy_state = autonomy_DVL_reichskommissariat
					}
					if = {
						limit = {
							has_completed_focus = DVL_51
						}
						DVF = {
							set_cosmetic_tag = DVF_emperor
						}
					}
					else_if = {
						limit = {
							has_completed_focus = DVL_39
						}
						DVF = {
							set_cosmetic_tag = DVF_queen
						}
					}
				}
			}
		}
	}
	NPT_DVL = {
		visible = {
			tag = DVL
			any_state = {
				has_state_flag = NPTZDQ
				not = {
					is_core_of = ROOT
				}
				or = {
					is_owned_and_controlled_by = ROOT
					any_country = {
						is_subject_of = ROOT
						has_full_control_of_state = PREV
						not = {
							tag = DVN
						}
					}
				}
			}
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war = no
		}
		icon = decision_infiltrate_state
		cost = 0
		days_remove = 0
		ai_will_do = {
			factor = 10
		}
		complete_effect = {
			every_state = {
				limit = {
					has_state_flag = NPTZDQ
					not = {
						is_core_of = ROOT
					}
					or = {
						is_owned_and_controlled_by = ROOT
						any_country = {
							is_subject_of = ROOT
							has_full_control_of_state = PREV
							not = {
								tag = DVN
							}
						}
					}
				}
				DVN = {
					transfer_state = PREV
					add_state_core = PREV
				}
			}
			if = {
				limit = {
					NOT = {
						DVN = {
							is_subject_of = DVL
						}
					}
				}
				DVL = {
					set_autonomy = {
						target = DVN
						autonomy_state = autonomy_DVL_reichskommissariat
					}
					if = {
						limit = {
							has_completed_focus = DVL_51
						}
						DVN = {
							set_cosmetic_tag = DVN_emperor
						}
					}
					else_if = {
						limit = {
							has_completed_focus = DVL_39
						}
						DVN = {
							set_cosmetic_tag = DVN_queen
						}
					}
				}
			}
		}
	}
	POL_DVL = {
		visible = {
			tag = DVL
			any_state = {
				has_state_flag = POLZDQ
				not = {
					is_core_of = ROOT
				}
				or = {
					is_owned_and_controlled_by = ROOT
					any_country = {
						is_subject_of = ROOT
						has_full_control_of_state = PREV
						not = {
							tag = DVP
						}
					}
				}
			}
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war = no
		}
		icon = decision_infiltrate_state
		cost = 0
		days_remove = 0
		ai_will_do = {
			factor = 10
		}
		complete_effect = {
			every_state = {
				limit = {
					has_state_flag = POLZDQ
					not = {
						is_core_of = ROOT
					}
					or = {
						is_owned_and_controlled_by = ROOT
						any_country = {
							is_subject_of = ROOT
							has_full_control_of_state = PREV
							not = {
								tag = DVP
							}
						}
					}
				}
				DVP = {
					transfer_state = PREV
					add_state_core = PREV
				}
			}
			if = {
				limit = {
					NOT = {
						DVP = {
							is_subject_of = DVL
						}
					}
				}
				DVL = {
					set_autonomy = {
						target = DVP
						autonomy_state = autonomy_DVL_reichskommissariat
					}
					if = {
						limit = {
							has_completed_focus = DVL_51
						}
						DVP = {
							set_cosmetic_tag = DVP_emperor
						}
					}
					else_if = {
						limit = {
							has_completed_focus = DVL_39
						}
						DVP = {
							set_cosmetic_tag = DVP_queen
						}
					}
				}
			}
		}
	}
	ENG_DVL = {
		visible = {
			tag = DVL
			any_state = {
				has_state_flag = ENGZDQ
				not = {
					is_core_of = ROOT
				}
				or = {
					is_owned_and_controlled_by = ROOT
					any_country = {
						is_subject_of = ROOT
						has_full_control_of_state = PREV
						not = {
							tag = DVE
						}
					}
				}
			}
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war = no
		}
		icon = decision_infiltrate_state
		cost = 0
		days_remove = 0
		ai_will_do = {
			factor = 10
		}
		complete_effect = {
			every_state = {
				limit = {
					has_state_flag = ENGZDQ
					not = {
						is_core_of = ROOT
					}
					or = {
						is_owned_and_controlled_by = ROOT
						any_country = {
							is_subject_of = ROOT
							has_full_control_of_state = PREV
							not = {
								tag = DVE
							}
						}
					}
				}
				DVE = {
					transfer_state = PREV
					add_state_core = PREV
				}
			}
			if = {
				limit = {
					NOT = {
						DVE = {
							is_subject_of = DVL
						}
					}
				}
				DVL = {
					set_autonomy = {
						target = DVE
						autonomy_state = autonomy_DVL_reichskommissariat
					}
					if = {
						limit = {
							has_completed_focus = DVL_51
						}
						DVE = {
							set_cosmetic_tag = DVE_emperor
						}
					}
					else_if = {
						limit = {
							has_completed_focus = DVL_39
						}
						DVE = {
							set_cosmetic_tag = DVE_queen
						}
					}
				}
			}
		}
	}
	ITA_DVL = {
		visible = {
			tag = DVL
			any_state = {
				has_state_flag = ITAZDQ
				not = {
					is_core_of = ROOT
				}
				or = {
					is_owned_and_controlled_by = ROOT
					any_country = {
						is_subject_of = ROOT
						has_full_control_of_state = PREV
						not = {
							tag = DVI
						}
					}
				}
			}
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war = no
		}
		icon = decision_infiltrate_state
		cost = 0
		days_remove = 0
		ai_will_do = {
			factor = 10
		}
		complete_effect = {
			every_state = {
				limit = {
					has_state_flag = ITAZDQ
					not = {
						is_core_of = ROOT
					}
					or = {
						is_owned_and_controlled_by = ROOT
						any_country = {
							is_subject_of = ROOT
							has_full_control_of_state = PREV
							not = {
								tag = DVI
							}
						}
					}
				}
				DVI = {
					transfer_state = PREV
					add_state_core = PREV
				}
			}
			if = {
				limit = {
					NOT = {
						DVI = {
							is_subject_of = DVL
						}
					}
				}
				DVL = {
					set_autonomy = {
						target = DVI
						autonomy_state = autonomy_DVL_reichskommissariat
					}
					if = {
						limit = {
							has_completed_focus = DVL_51
						}
						DVI = {
							set_cosmetic_tag = DVI_emperor
						}
					}
					else_if = {
						limit = {
							has_completed_focus = DVL_39
						}
						DVI = {
							set_cosmetic_tag = DVI_queen
						}
					}
				}
			}
		}
	}
	NOR_DVL = {
		visible = {
			tag = DVL
			any_state = {
				has_state_flag = NORZDQ
				not = {
					is_core_of = ROOT
				}
				or = {
					is_owned_and_controlled_by = ROOT
					any_country = {
						is_subject_of = ROOT
						has_full_control_of_state = PREV
						not = {
							tag = DVR
						}
					}
				}
			}
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war = no
		}
		icon = decision_infiltrate_state
		cost = 0
		days_remove = 0
		ai_will_do = {
			factor = 10
		}
		complete_effect = {
			every_state = {
				limit = {
					has_state_flag = NORZDQ
					not = {
						is_core_of = ROOT
					}
					or = {
						is_owned_and_controlled_by = ROOT
						any_country = {
							is_subject_of = ROOT
							has_full_control_of_state = PREV
							not = {
								tag = DVR
							}
						}
					}
				}
				DVR = {
					transfer_state = PREV
					add_state_core = PREV
				}
			}
			if = {
				limit = {
					NOT = {
						DVR = {
							is_subject_of = DVL
						}
					}
				}
				DVL = {
					set_autonomy = {
						target = DVR
						autonomy_state = autonomy_DVL_reichskommissariat
					}
					if = {
						limit = {
							has_completed_focus = DVL_51
						}
						DVR = {
							set_cosmetic_tag = DVR_emperor
						}
					}
					else_if = {
						limit = {
							has_completed_focus = DVL_39
						}
						DVR = {
							set_cosmetic_tag = DVR_queen
						}
					}
				}
			}
		}
	}
	BRG_DVL = {
		visible = {
			tag = DVL
			any_state = {
				has_state_flag = BRGZDQ
				not = {
					is_core_of = ROOT
				}
				or = {
					is_owned_and_controlled_by = ROOT
					any_country = {
						is_subject_of = ROOT
						has_full_control_of_state = PREV
						not = {
							tag = DVB
						}
					}
				}
			}
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war = no
		}
		icon = decision_infiltrate_state
		cost = 0
		days_remove = 0
		ai_will_do = {
			factor = 10
		}
		complete_effect = {
			every_state = {
				limit = {
					has_state_flag = BRGZDQ
					not = {
						is_core_of = ROOT
					}
					or = {
						is_owned_and_controlled_by = ROOT
						any_country = {
							is_subject_of = ROOT
							has_full_control_of_state = PREV
							not = {
								tag = DVB
							}
						}
					}
				}
				DVB = {
					transfer_state = PREV
					add_state_core = PREV
				}
			}
			if = {
				limit = {
					NOT = {
						DVB = {
							is_subject_of = DVL
						}
					}
				}
				DVL = {
					set_autonomy = {
						target = DVB
						autonomy_state = autonomy_DVL_reichskommissariat
					}
					if = {
						limit = {
							has_completed_focus = DVL_51
						}
						DVB = {
							set_cosmetic_tag = DVB_emperor
						}
					}
					else_if = {
						limit = {
							has_completed_focus = DVL_39
						}
						DVB = {
							set_cosmetic_tag = DVB_queen
						}
					}
				}
			}
		}
	}
	POD_DVL = {
		visible = {
			tag = DVL
			any_state = {
				has_state_flag = PLDZDQ
				not = {
					is_core_of = ROOT
				}
				or = {
					is_owned_and_controlled_by = ROOT
					any_country = {
						is_subject_of = ROOT
						has_full_control_of_state = PREV
						not = {
							tag = DVD
						}
					}
				}
			}
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war = no
		}
		icon = decision_infiltrate_state
		cost = 0
		days_remove = 0
		ai_will_do = {
			factor = 10
		}
		complete_effect = {
			every_state = {
				limit = {
					has_state_flag = PLDZDQ
					not = {
						is_core_of = ROOT
					}
					or = {
						is_owned_and_controlled_by = ROOT
						any_country = {
							is_subject_of = ROOT
							has_full_control_of_state = PREV
							not = {
								tag = DVD
							}
						}
					}
				}
				DVD = {
					transfer_state = PREV
					add_state_core = PREV
				}
			}
			if = {
				limit = {
					NOT = {
						DVD = {
							is_subject_of = DVL
						}
					}
				}
				DVL = {
					set_autonomy = {
						target = DVD
						autonomy_state = autonomy_DVL_reichskommissariat
					}
					if = {
						limit = {
							has_completed_focus = DVL_51
						}
						DVD = {
							set_cosmetic_tag = DVD_emperor
						}
					}
					else_if = {
						limit = {
							has_completed_focus = DVL_39
						}
						DVD = {
							set_cosmetic_tag = DVD_queen
						}
					}
				}
			}
		}
	}
	MGU_DVL = {
		visible = {
			tag = DVL
			any_state = {
				has_state_flag = MGUZDQ
				not = {
					is_core_of = ROOT
				}
				or = {
					is_owned_and_controlled_by = ROOT
					any_country = {
						is_subject_of = ROOT
						has_full_control_of_state = PREV
						not = {
							tag = DVM
						}
					}
				}
			}
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war = no
		}
		icon = decision_infiltrate_state
		cost = 0
		days_remove = 0
		ai_will_do = {
			factor = 10
		}
		complete_effect = {
			every_state = {
				limit = {
					has_state_flag = MGUZDQ
					not = {
						is_core_of = ROOT
					}
					or = {
						is_owned_and_controlled_by = ROOT
						any_country = {
							is_subject_of = ROOT
							has_full_control_of_state = PREV
							not = {
								tag = DVM
							}
						}
					}
				}
				DVM = {
					transfer_state = PREV
					add_state_core = PREV
				}
			}
			if = {
				limit = {
					NOT = {
						DVM = {
							is_subject_of = DVL
						}
					}
				}
				DVL = {
					set_autonomy = {
						target = DVM
						autonomy_state = autonomy_DVL_reichskommissariat
					}
					if = {
						limit = {
							has_completed_focus = DVL_51
						}
						DVM = {
							set_cosmetic_tag = DVM_emperor
						}
					}
					else_if = {
						limit = {
							has_completed_focus = DVL_39
						}
						DVM = {
							set_cosmetic_tag = DVM_queen
						}
					}
				}
			}
		}
	}
}

DVL_Heavenly_Soldiers = {
	DVL_Planned_launch = {
		icon = GFX_decision_generic_intelligence_operation
		visible = {
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war_with = ENG
			ENG = {
				controlled_states = 127
			}
			custom_trigger_tooltip = {
				tooltip = num_of_Heavenly_Soldiers_bigger_than_1
				check_variable = {
					num_of_Heavenly_Soldiers>0
				}
			}
		}
		cost = 10
		days_remove = 7
		ai_will_do = {
			factor = 1000
			modifier = {
				check_variable = {
					num_of_Heavenly_Soldiers<6
				}
				factor = 0
			}
		}
		fire_only_once = yes
		remove_effect = {
			set_country_flag = DVL_Planned_launch
			custom_effect_tooltip = DVL_Planned_launch_tt
			hidden_effect = {
				news_event = {
					id = news.1046
				}
				DVL = {
					division_template = {
						name = "戴比路克突击队"
						is_locked = yes
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 0 y = 3 }
							infantry = { x = 0 y = 4 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
							infantry = { x = 1 y = 3 }
							artillery_brigade = { x = 1 y = 4 }
						}
						support = {
							engineer = { x = 0 y = 0 }
							artillery = { x = 0 y = 1 }
						}
					}
					launch_nuke = {
						state = 127
						use_nuke = no
					}
				}
				DVL_Planned_launch_effect = yes
			}
		}
	}
	DVL_Train_a_division = {
		icon = GFX_decision_generic_reorganize_irregulars
		visible = {
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war_with = ENG
			not = {
				has_country_flag = DVL_an_ongoing_training_program
			}
			custom_trigger_tooltip = {
				tooltip = num_of_Heavenly_Soldiers_smaller_than_10
				check_variable = {
					num_of_Heavenly_Soldiers<11
				}
			}
			has_equipment = {
				infantry_equipment > 909
			}
			has_equipment = {
				support_equipment > 29
			}
			has_equipment = {
				artillery_equipment > 47
			}
		}
		cost = 0
		days_remove = 50
		ai_will_do = {
			factor = 1000
		}
		complete_effect = {
			set_country_flag = DVL_an_ongoing_training_program
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -910
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = -30
			}
			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = -48
			}
		}
		remove_effect = {
			custom_effect_tooltip = DVL_Train_a_division_tt
			clr_country_flag = DVL_an_ongoing_training_program
			add_to_variable = {
				num_of_Heavenly_Soldiers = 1
			}
			clamp_temp_variable = {
				var = num_of_Heavenly_Soldiers
				max = 10
			}
		}
	}
	DVL_Train_two_division = {
		icon = GFX_decision_generic_reorganize_irregulars
		visible = {
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war_with = ENG
			not = {
				has_country_flag = DVL_an_ongoing_training_program
			}
			custom_trigger_tooltip = {
				tooltip = num_of_Heavenly_Soldiers_smaller_than_10
				check_variable = {
					num_of_Heavenly_Soldiers<11
				}
			}
			has_equipment = {
				infantry_equipment > 1819
			}
			has_equipment = {
				support_equipment > 59
			}
			has_equipment = {
				artillery_equipment > 95
			}
		}
		cost = 0
		days_remove = 50
		ai_will_do = {
			factor = 1000
		}
		complete_effect = {
			set_country_flag = DVL_an_ongoing_training_program
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1820
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = -60
			}
			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = -96
			}
		}
		remove_effect = {
			custom_effect_tooltip = DVL_Train_two_division_tt
			clr_country_flag = DVL_an_ongoing_training_program
			add_to_variable = {
				num_of_Heavenly_Soldiers = 2
			}
			clamp_temp_variable = {
				var = num_of_Heavenly_Soldiers
				max = 10
			}
		}
	}
	DVL_Train_three_division = {
		icon = GFX_decision_generic_reorganize_irregulars
		visible = {
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war_with = ENG
			not = {
				has_country_flag = DVL_an_ongoing_training_program
			}
			custom_trigger_tooltip = {
				tooltip = num_of_Heavenly_Soldiers_smaller_than_10
				check_variable = {
					num_of_Heavenly_Soldiers<11
				}
			}
			has_equipment = {
				infantry_equipment > 2729
			}
			has_equipment = {
				support_equipment > 89
			}
			has_equipment = {
				artillery_equipment > 143
			}
		}
		cost = 0
		days_remove = 50
		ai_will_do = {
			factor = 1000
		}
		complete_effect = {
			set_country_flag = DVL_an_ongoing_training_program
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -2730
			}
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = -90
			}
			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = -144
			}
		}
		remove_effect = {
			custom_effect_tooltip = DVL_Train_three_division_tt
			clr_country_flag = DVL_an_ongoing_training_program
			add_to_variable = {
				num_of_Heavenly_Soldiers = 3
			}
			clamp_temp_variable = {
				var = num_of_Heavenly_Soldiers
				max = 10
			}
		}
	}
}

DVL_Unit_Germany = {
	Threat_of_Germany_Unit_Font = {
		icon = GFX_decision_generic_brainwash
		available = {
			hidden_trigger = {
				always = no
			}
		}
		priority = 20
		days_mission_timeout = 35
		activation = {
			always = no
		}
		visible = {
		}
		cancel_if_not_visible = yes
		cancel_trigger = {
			SHL = { exists = no }
			BAY = { exists = no }
			RHI = { exists = no }
			GER = { is_faction_leader = no }
		}
		timeout_effect = {
			if = {
				limit = { SHL = { is_subject = no } }
				GER = { add_to_faction = SHL }
			}
			if = {
				limit = { BAY = { is_subject = no } }
				GER = { add_to_faction = BAY }
			}
			if = {
				limit = { RHI = { is_subject = no } }
				GER = { add_to_faction = RHI }
			}
			GER  = { set_faction_name = Germany_Unit_Font }
		}
	}
	DVL_War_to_Target_Country = {
		icon = GFX_decision_generic_ignite_civil_war
		visible = {
			is_subject = no
			or = {
				SHL = { exists = yes }
				BAY = { exists = yes }
				RHI = { exists = yes }
			}
		}
		target_trigger = {
			FROM = {
				or = {
					tag = SHL
					tag = BAY
					tag = RHI
				}
			}
			or = {
				event_target:DVL_Target_Country = { tag = FROM }
				FROM = { has_country_flag = DVL_War_to_Target_Country }
				is_ai = yes
			}
			ROOT = { is_subject = no }
		}
		available = {
			not = { has_war_with = FROM }
			has_war = no
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = DVL_War_is_Ready
				check_variable = { FROM.DVL_War_Progress_Var = 100 }
			}
			FROM = { is_subject = no }
		}
		cost = 10
		days_remove = 15
		war_with_target_on_remove = yes
		complete_effect = {
			hidden_effect = {
				FROM = {
					country_event = { id = generic.2010 }
				}
				FROM = { set_country_flag = DVL_War_to_Target_Country }
			}
		}
		remove_effect = {
			FROM = { clr_country_flag = DVL_War_to_Target_Country }
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}
		ai_will_do = {
			base = 1000
		}
	}
	DVL_Subversion_to_Target_Country = {
		icon = GFX_decision_generic_assassination
		visible = {
			is_subject = no
			or = {
				SHL = { exists = yes }
				BAY = { exists = yes }
				RHI = { exists = yes }
			}
		}
		target_trigger = {
			FROM = {
				or = {
					tag = SHL
					tag = BAY
					tag = RHI
				}
			}
			or = {
				event_target:DVL_Target_Country = { tag = FROM }
				FROM = { has_country_flag = DVL_Subversion_to_Target_Country }
				is_ai = yes
			}
			ROOT = { is_subject = no }
		}
		available = {
			not = { has_war_with = FROM }
			has_war = no
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = DVL_Subversion_is_Ready
				check_variable = { FROM.DVL_Infiltrate_Progress_Var = 100 }
			}
			FROM = { is_subject = no }
		}
		cost = 10
		days_remove = 15
		war_with_target_on_remove = yes
		complete_effect = {
			FROM = { set_country_flag = DVL_Subversion_to_Target_Country }
		}
		remove_effect = {
			FROM = { clr_country_flag = DVL_Subversion_to_Target_Country }
			#annex_country = { target = FROM transfer_troops = yes }
		}
		ai_will_do = {
			base = 1000
		}
	}
	DVL_Mobilize_intelligence_agents = {
		icon = GFX_decision_generic_political_discourse
		visible = {
			is_subject = no
			or = {
				SHL = { exists = yes }
				BAY = { exists = yes }
				RHI = { exists = yes }
			}
		}
		target_trigger = {
			FROM = {
				or = {
					tag = SHL
					tag = BAY
					tag = RHI
				}
			}
			or = {
				event_target:DVL_Target_Country = { tag = FROM }
				FROM = { has_country_flag = DVL_Mobilize_intelligence_agents }
				is_ai = yes
			}
			ROOT = { is_subject = no }
		}
		available = {
			not = { has_war_with = FROM }
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = DVL_War_not_Ready
				check_variable = { FROM.DVL_War_Progress_Var < 100 }
			}
		}
		custom_cost_trigger = {
			command_power > 14
		}
		custom_cost_text = decision_cost_CP_15
		complete_effect = {
			FROM = { set_country_flag = DVL_Mobilize_intelligence_agents }
			hidden_effect = { add_command_power = -15 }
		}
		days_remove = 30
		days_re_enable = 60
		#war_with_target_on_remove = yes
		remove_effect = {
			FROM = { clr_country_flag = DVL_Mobilize_intelligence_agents }
		}
		ai_will_do = {
			base = 1000
		}
	}
	DVL_Mobilization_of_armed_forces = {
		icon = GFX_decision_generic_reorganize_irregulars
		visible = {
			is_subject = no
			or = {
				SHL = { exists = yes }
				BAY = { exists = yes }
				RHI = { exists = yes }
			}
		}
		target_trigger = {
			FROM = {
				or = {
					tag = SHL
					tag = BAY
					tag = RHI
				}
			}
			or = {
				event_target:DVL_Target_Country = { tag = FROM }
				FROM = { has_country_flag = DVL_Mobilization_of_armed_forces }
				is_ai = yes
			}
			ROOT = { is_subject = no }
		}
		available = {
			not = { has_war_with = FROM }
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = DVL_War_not_Ready
				check_variable = { FROM.DVL_War_Progress_Var < 100 }
			}
		}
		custom_cost_trigger = {
			command_power > 14
		}
		custom_cost_text = decision_cost_CP_15
		complete_effect = {
			FROM = { set_country_flag = DVL_Mobilization_of_armed_forces }
			hidden_effect = { add_command_power = -15 }
		}
		days_remove = 30
		days_re_enable = 60
		#war_with_target_on_remove = yes
		remove_effect = {
			FROM = { clr_country_flag = DVL_Mobilization_of_armed_forces }
		}
		ai_will_do = {
			base = 1000
		}
	}
	DVL_Funding_collaborators = {
		icon = GFX_decision_hol_attract_foreign_investors
		visible = {
			is_subject = no
			or = {
				SHL = { exists = yes }
				BAY = { exists = yes }
				RHI = { exists = yes }
			}
		}
		target_trigger = {
			FROM = {
				or = {
					tag = SHL
					tag = BAY
					tag = RHI
				}
			}
			or = {
				event_target:DVL_Target_Country = { tag = FROM }
				FROM = { has_country_flag = DVL_Funding_collaborators }
				is_ai = yes
			}
			ROOT = { is_subject = no }
		}
		available = {
			not = { has_war_with = FROM }
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = DVL_Subversion_not_Ready
				check_variable = { FROM.DVL_Infiltrate_Progress_Var < 100 }
			}
		}
		custom_cost_trigger = {
			check_variable = {
				var = ubs_save
				value = 100
				compare = greater_than_or_equals
			}
		}
		custom_cost_text = HCP_100
		complete_effect = {
			FROM = { set_country_flag = DVL_Funding_collaborators }
			add_to_variable = {
				var = ubs_save
				value = -100
				tooltip = UBS_SAVE_down_100
			}
			UBS_bank_icon_frames = yes
		}
		days_remove = 30
		days_re_enable = 60
		#war_with_target_on_remove = yes
		remove_effect = {
			FROM = { clr_country_flag = DVL_Funding_collaborators }
		}
		ai_will_do = {
			base = 1000
		}
	}
	DVL_Plotting_riot = {
		icon = GFX_decision_generic_civil_support
		visible = {
			is_subject = no
			or = {
				SHL = { exists = yes }
				BAY = { exists = yes }
				RHI = { exists = yes }
			}
		}
		target_trigger = {
			FROM = {
				or = {
					tag = SHL
					tag = BAY
					tag = RHI
				}
			}
			or = {
				event_target:DVL_Target_Country = { tag = FROM }
				FROM = { has_country_flag = DVL_Plotting_riot }
				is_ai = yes
			}
			ROOT = { is_subject = no }
		}
		available = {
			not = { has_war_with = FROM }
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = DVL_Subversion_not_Ready
				check_variable = { FROM.DVL_Infiltrate_Progress_Var < 100 }
			}
		}
		complete_effect = {
			FROM = { set_country_flag = DVL_Plotting_riot }
		}
		cost = 50
		days_remove = 30
		days_re_enable = 60
		#war_with_target_on_remove = yes
		remove_effect = {
			FROM = { clr_country_flag = DVL_Plotting_riot }
		}
		ai_will_do = {
			base = 1000
		}
	}
}




