L_DVL_GER = {
	L_DVL_GER_target_decision = {
		target_trigger = {
			FROM = {
				NOT = {
					is_core_of = ROOT
				}
				has_state_flag = L_GER
			}
		}
		state_target = yes
		on_map_mode = map_and_decisions_view
		name = L_DVL_GER_target_decision
		icon = generic_nationalism
		target_array = controlled_states
		cost = 20
		days_remove = 30
		ai_will_do = {
			factor = 10
		}
		remove_effect = {
			FROM = {
				add_core_of = ROOT
			}
		}
	}
	L_DVL_GER_target_decision_2 = {
		target_trigger = {
			any_country = {
				AND = {
					is_subject_of = DVL
					NOT = {
						tag = HSF
					}
					FROM = {
						has_state_flag = L_GER
						NOT = {
							is_owned_and_controlled_by = DVL
						}
						is_owned_and_controlled_by = PREV
					}
				}
			}
		}
		state_target = yes
		on_map_mode = map_and_decisions_view
		name = L_DVL_GER_target_decision_2
		icon = decision_infiltrate_state
		cost = 5
		days_remove = 7
		ai_will_do = {
			factor = 10
		}
		remove_effect = {
			ROOT = {
				transfer_state = FROM
			}
		}
	}
}

G_DVL_GER = {
	G_DVL_GER_target_decision = {
		target_trigger = {
			FROM = {
				NOT = {
					is_core_of = ROOT
					has_state_flag = L_GER
				}
				has_state_flag = G_GER
			}
		}
		state_target = yes
		on_map_mode = map_and_decisions_view
		name = G_DVL_GER_target_decision
		icon = generic_nationalism
		target_array = controlled_states
		cost = 50
		days_remove = 60
		ai_will_do = {
			factor = 10
		}
		remove_effect = {
			FROM = {
				add_core_of = ROOT
			}
		}
	}
	G_DVL_GER_target_decision_2 = {
		target_trigger = {
			any_country = {
				AND = {
					is_subject_of = DVL
					NOT = {
						tag = HSF
					}
					FROM = {
						has_state_flag = G_GER
						NOT = {
							is_owned_and_controlled_by = DVL
							has_state_flag = L_GER
						}
						is_owned_and_controlled_by = PREV
					}
				}
			}
		}
		state_target = yes
		on_map_mode = map_and_decisions_view
		name = G_DVL_GER_target_decision_2
		icon = decision_infiltrate_state
		cost = 5
		days_remove = 7
		ai_will_do = {
			factor = 10
		}
		remove_effect = {
			ROOT = {
				transfer_state = FROM
			}
		}
	}
}

DVL_war_plan_d_c = {
	DVL_war_plan_FRA = {
		visible = {
			tag = DVL
		}
		allowed = {
			TAG = DVL
		}
		available = {
			or = {
				and = {
					has_war_with = FRA
					FRA = {
						has_capitulated = no
					}
				}
				and = {
					has_war_with = KMK
					KMK = {
						has_capitulated = no
					}
				}
			}
			is_subject = no
		}
		#icon = decision_infiltrate_state
		cost = 50
		days_remove = 10
		days_re_enable = 300
		ai_will_do = {
			factor = 100
		}
		remove_effect = {
			if = {
				limit = {
					has_war_with = FRA
				}
				add_timed_idea = {
					idea = DVL_attack_FRA
					days = 180
				}
			}
			if = {
				limit = {
					has_war_with = KMK
				}
				add_timed_idea = {
					idea = DVL_attack_KMK
					days = 180
				}
			}
		}
	}
	DVL_war_plan_ENG = {
		visible = {
			tag = DVL
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war_with = ENG
			ENG = {
				has_capitulated = no
			}
			is_subject = no
		}
		#icon = decision_infiltrate_state
		cost = 50
		days_remove = 10
		days_re_enable = 300
		ai_will_do = {
			factor = 10
		}
		remove_effect = {
			add_timed_idea = {
				idea = DVL_attack_ENG
				days = 100
			}
		}
	}
	DVL_war_plan_NPT = {
		visible = {
			tag = DVL
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war_with = NPT
			NPT = {
				has_capitulated = no
			}
			is_subject = no
		}
		#icon = decision_infiltrate_state
		cost = 50
		days_remove = 10
		days_re_enable = 300
		ai_will_do = {
			factor = 10
		}
		remove_effect = {
			add_timed_idea = {
				idea = DVL_attack_NPT
				days = 100
			}
		}
	}
	DVL_war_plan_SOV = {
		visible = {
			tag = DVL
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war_with = SOV
			SOV = {
				has_capitulated = no
			}
			is_subject = no
		}
		#icon = decision_infiltrate_state
		cost = 50
		days_remove = 10
		days_re_enable = 300
		ai_will_do = {
			factor = 10
		}
		remove_effect = {
			add_timed_idea = {
				idea = DVL_attack_SOV
				days = 100
			}
		}
	}
	DVL_war_plan_GER = {
		visible = {
			tag = DVL
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war_with = GER
			GER = {
				has_capitulated = no
			}
			is_subject = no
		}
		#icon = decision_infiltrate_state
		cost = 50
		days_remove = 10
		days_re_enable = 300
		ai_will_do = {
			factor = 10
		}
		remove_effect = {
			add_timed_idea = {
				idea = DVL_attack_GER
				days = 100
			}
		}
	}
	DVL_ATTACK_ITA = {
		visible = {
			tag = DVL
		}
		allowed = {
			TAG = DVL
		}
		available = {
			controls_state = 4
			GER = {
				exists = no
			}
			any_home_area_neighbor_country = {
				or = {
					tag = ITA
					tag = ALS
					tag = MOW
					tag = RMC
				}
			}
			is_subject = no
		}
		cost = 10
		days_remove = 15
		fire_only_once = yes
		complete_effect = {
			set_country_flag = PRC_war_plan_going_on
			FROM = {
				country_event = {
					id = generic.2010
				}
			}
		}
		remove_effect = {
			every_country = {
				limit = {
					or = {
						tag = ITA
						tag = ALS
						tag = MOW
						tag = RMC
					}
					exists = yes
					not = {
						or = {
							has_war_with = ROOT
							is_in_faction_with = ROOT
						}
					}
				}
				ROOT = {
					declare_war_on = {
						target = PREV
						type = annex_everything
					}
				}
			}
		}
		war_with_on_remove = ITA
		war_with_on_remove = ALS
		war_with_on_remove = MOW
		war_with_on_remove = RMC
		ai_will_do = {
			base = 1000
			modifier = {
				any_home_area_neighbor_country = {
					has_war_with = ROOT
				}
				factor = 0
			}
			modifier = {
				FROM = {
					is_stronger_than_ROOT_and_not_vulnerable = yes
				}
				factor = 0
			}
		}
	}
}

DVL_ZDXQ = {
	FRA_DVL = {
		visible = {
			tag = DVL
			any_state = {
				has_state_flag = FRAZDQ
				not = {
					is_core_of = ROOT
				}
				or = {
					is_owned_and_controlled_by = ROOT
					any_country = {
						is_subject_of = ROOT
						has_full_control_of_state = PREV
						not = {
							tag = DVF
						}
					}
				}
			}
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war = no
		}
		icon = decision_infiltrate_state
		cost = 0
		days_remove = 0
		ai_will_do = {
			factor = 10
		}
		complete_effect = {
			every_state = {
				limit = {
					has_state_flag = FRAZDQ
					not = {
						is_core_of = ROOT
					}
					or = {
						is_owned_and_controlled_by = ROOT
						any_country = {
							is_subject_of = ROOT
							has_full_control_of_state = PREV
							not = {
								tag = DVF
							}
						}
					}
				}
				DVF = {
					transfer_state = PREV
					add_state_core = PREV
				}
			}
			if = {
				limit = {
					NOT = {
						DVF = {
							is_subject_of = DVL
						}
					}
				}
				DVL = {
					set_autonomy = {
						target = DVF
						autonomy_state = autonomy_DVL_reichskommissariat
					}
					if = {
						limit = {
							has_completed_focus = DVL_51
						}
						DVF = {
							set_cosmetic_tag = DVF_emperor
						}
					}
					else_if = {
						limit = {
							has_completed_focus = DVL_39
						}
						DVF = {
							set_cosmetic_tag = DVF_queen
						}
					}
				}
			}
		}
	}
	NPT_DVL = {
		visible = {
			tag = DVL
			any_state = {
				has_state_flag = NPTZDQ
				not = {
					is_core_of = ROOT
				}
				or = {
					is_owned_and_controlled_by = ROOT
					any_country = {
						is_subject_of = ROOT
						has_full_control_of_state = PREV
						not = {
							tag = DVN
						}
					}
				}
			}
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war = no
		}
		icon = decision_infiltrate_state
		cost = 0
		days_remove = 0
		ai_will_do = {
			factor = 10
		}
		complete_effect = {
			every_state = {
				limit = {
					has_state_flag = NPTZDQ
					not = {
						is_core_of = ROOT
					}
					or = {
						is_owned_and_controlled_by = ROOT
						any_country = {
							is_subject_of = ROOT
							has_full_control_of_state = PREV
							not = {
								tag = DVN
							}
						}
					}
				}
				DVN = {
					transfer_state = PREV
					add_state_core = PREV
				}
			}
			if = {
				limit = {
					NOT = {
						DVN = {
							is_subject_of = DVL
						}
					}
				}
				DVL = {
					set_autonomy = {
						target = DVN
						autonomy_state = autonomy_DVL_reichskommissariat
					}
					if = {
						limit = {
							has_completed_focus = DVL_51
						}
						DVN = {
							set_cosmetic_tag = DVN_emperor
						}
					}
					else_if = {
						limit = {
							has_completed_focus = DVL_39
						}
						DVN = {
							set_cosmetic_tag = DVN_queen
						}
					}
				}
			}
		}
	}
	POL_DVL = {
		visible = {
			tag = DVL
			any_state = {
				has_state_flag = POLZDQ
				not = {
					is_core_of = ROOT
				}
				or = {
					is_owned_and_controlled_by = ROOT
					any_country = {
						is_subject_of = ROOT
						has_full_control_of_state = PREV
						not = {
							tag = DVP
						}
					}
				}
			}
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war = no
		}
		icon = decision_infiltrate_state
		cost = 0
		days_remove = 0
		ai_will_do = {
			factor = 10
		}
		complete_effect = {
			every_state = {
				limit = {
					has_state_flag = POLZDQ
					not = {
						is_core_of = ROOT
					}
					or = {
						is_owned_and_controlled_by = ROOT
						any_country = {
							is_subject_of = ROOT
							has_full_control_of_state = PREV
							not = {
								tag = DVP
							}
						}
					}
				}
				DVP = {
					transfer_state = PREV
					add_state_core = PREV
				}
			}
			if = {
				limit = {
					NOT = {
						DVP = {
							is_subject_of = DVL
						}
					}
				}
				DVL = {
					set_autonomy = {
						target = DVP
						autonomy_state = autonomy_DVL_reichskommissariat
					}
					if = {
						limit = {
							has_completed_focus = DVL_51
						}
						DVP = {
							set_cosmetic_tag = DVP_emperor
						}
					}
					else_if = {
						limit = {
							has_completed_focus = DVL_39
						}
						DVP = {
							set_cosmetic_tag = DVP_queen
						}
					}
				}
			}
		}
	}
	ENG_DVL = {
		visible = {
			tag = DVL
			any_state = {
				has_state_flag = ENGZDQ
				not = {
					is_core_of = ROOT
				}
				or = {
					is_owned_and_controlled_by = ROOT
					any_country = {
						is_subject_of = ROOT
						has_full_control_of_state = PREV
						not = {
							tag = DVE
						}
					}
				}
			}
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war = no
		}
		icon = decision_infiltrate_state
		cost = 0
		days_remove = 0
		ai_will_do = {
			factor = 10
		}
		complete_effect = {
			every_state = {
				limit = {
					has_state_flag = ENGZDQ
					not = {
						is_core_of = ROOT
					}
					or = {
						is_owned_and_controlled_by = ROOT
						any_country = {
							is_subject_of = ROOT
							has_full_control_of_state = PREV
							not = {
								tag = DVE
							}
						}
					}
				}
				DVE = {
					transfer_state = PREV
					add_state_core = PREV
				}
			}
			if = {
				limit = {
					NOT = {
						DVE = {
							is_subject_of = DVL
						}
					}
				}
				DVL = {
					set_autonomy = {
						target = DVE
						autonomy_state = autonomy_DVL_reichskommissariat
					}
					if = {
						limit = {
							has_completed_focus = DVL_51
						}
						DVE = {
							set_cosmetic_tag = DVE_emperor
						}
					}
					else_if = {
						limit = {
							has_completed_focus = DVL_39
						}
						DVE = {
							set_cosmetic_tag = DVE_queen
						}
					}
				}
			}
		}
	}
	ITA_DVL = {
		visible = {
			tag = DVL
			any_state = {
				has_state_flag = ITAZDQ
				not = {
					is_core_of = ROOT
				}
				or = {
					is_owned_and_controlled_by = ROOT
					any_country = {
						is_subject_of = ROOT
						has_full_control_of_state = PREV
						not = {
							tag = DVI
						}
					}
				}
			}
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war = no
		}
		icon = decision_infiltrate_state
		cost = 0
		days_remove = 0
		ai_will_do = {
			factor = 10
		}
		complete_effect = {
			every_state = {
				limit = {
					has_state_flag = ITAZDQ
					not = {
						is_core_of = ROOT
					}
					or = {
						is_owned_and_controlled_by = ROOT
						any_country = {
							is_subject_of = ROOT
							has_full_control_of_state = PREV
							not = {
								tag = DVI
							}
						}
					}
				}
				DVI = {
					transfer_state = PREV
					add_state_core = PREV
				}
			}
			if = {
				limit = {
					NOT = {
						DVI = {
							is_subject_of = DVL
						}
					}
				}
				DVL = {
					set_autonomy = {
						target = DVI
						autonomy_state = autonomy_DVL_reichskommissariat
					}
					if = {
						limit = {
							has_completed_focus = DVL_51
						}
						DVI = {
							set_cosmetic_tag = DVI_emperor
						}
					}
					else_if = {
						limit = {
							has_completed_focus = DVL_39
						}
						DVI = {
							set_cosmetic_tag = DVI_queen
						}
					}
				}
			}
		}
	}
	NOR_DVL = {
		visible = {
			tag = DVL
			any_state = {
				has_state_flag = NORZDQ
				not = {
					is_core_of = ROOT
				}
				or = {
					is_owned_and_controlled_by = ROOT
					any_country = {
						is_subject_of = ROOT
						has_full_control_of_state = PREV
						not = {
							tag = DVR
						}
					}
				}
			}
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war = no
		}
		icon = decision_infiltrate_state
		cost = 0
		days_remove = 0
		ai_will_do = {
			factor = 10
		}
		complete_effect = {
			every_state = {
				limit = {
					has_state_flag = NORZDQ
					not = {
						is_core_of = ROOT
					}
					or = {
						is_owned_and_controlled_by = ROOT
						any_country = {
							is_subject_of = ROOT
							has_full_control_of_state = PREV
							not = {
								tag = DVR
							}
						}
					}
				}
				DVR = {
					transfer_state = PREV
					add_state_core = PREV
				}
			}
			if = {
				limit = {
					NOT = {
						DVR = {
							is_subject_of = DVL
						}
					}
				}
				DVL = {
					set_autonomy = {
						target = DVR
						autonomy_state = autonomy_DVL_reichskommissariat
					}
					if = {
						limit = {
							has_completed_focus = DVL_51
						}
						DVR = {
							set_cosmetic_tag = DVR_emperor
						}
					}
					else_if = {
						limit = {
							has_completed_focus = DVL_39
						}
						DVR = {
							set_cosmetic_tag = DVR_queen
						}
					}
				}
			}
		}
	}
	BRG_DVL = {
		visible = {
			tag = DVL
			any_state = {
				has_state_flag = BRGZDQ
				not = {
					is_core_of = ROOT
				}
				or = {
					is_owned_and_controlled_by = ROOT
					any_country = {
						is_subject_of = ROOT
						has_full_control_of_state = PREV
						not = {
							tag = DVB
						}
					}
				}
			}
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war = no
		}
		icon = decision_infiltrate_state
		cost = 0
		days_remove = 0
		ai_will_do = {
			factor = 10
		}
		complete_effect = {
			every_state = {
				limit = {
					has_state_flag = BRGZDQ
					not = {
						is_core_of = ROOT
					}
					or = {
						is_owned_and_controlled_by = ROOT
						any_country = {
							is_subject_of = ROOT
							has_full_control_of_state = PREV
							not = {
								tag = DVB
							}
						}
					}
				}
				DVB = {
					transfer_state = PREV
					add_state_core = PREV
				}
			}
			if = {
				limit = {
					NOT = {
						DVB = {
							is_subject_of = DVL
						}
					}
				}
				DVL = {
					set_autonomy = {
						target = DVB
						autonomy_state = autonomy_DVL_reichskommissariat
					}
					if = {
						limit = {
							has_completed_focus = DVL_51
						}
						DVB = {
							set_cosmetic_tag = DVB_emperor
						}
					}
					else_if = {
						limit = {
							has_completed_focus = DVL_39
						}
						DVB = {
							set_cosmetic_tag = DVB_queen
						}
					}
				}
			}
		}
	}
	POD_DVL = {
		visible = {
			tag = DVL
			any_state = {
				has_state_flag = PLDZDQ
				not = {
					is_core_of = ROOT
				}
				or = {
					is_owned_and_controlled_by = ROOT
					any_country = {
						is_subject_of = ROOT
						has_full_control_of_state = PREV
						not = {
							tag = DVD
						}
					}
				}
			}
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war = no
		}
		icon = decision_infiltrate_state
		cost = 0
		days_remove = 0
		ai_will_do = {
			factor = 10
		}
		complete_effect = {
			every_state = {
				limit = {
					has_state_flag = PLDZDQ
					not = {
						is_core_of = ROOT
					}
					or = {
						is_owned_and_controlled_by = ROOT
						any_country = {
							is_subject_of = ROOT
							has_full_control_of_state = PREV
							not = {
								tag = DVD
							}
						}
					}
				}
				DVD = {
					transfer_state = PREV
					add_state_core = PREV
				}
			}
			if = {
				limit = {
					NOT = {
						DVD = {
							is_subject_of = DVL
						}
					}
				}
				DVL = {
					set_autonomy = {
						target = DVD
						autonomy_state = autonomy_DVL_reichskommissariat
					}
					if = {
						limit = {
							has_completed_focus = DVL_51
						}
						DVD = {
							set_cosmetic_tag = DVD_emperor
						}
					}
					else_if = {
						limit = {
							has_completed_focus = DVL_39
						}
						DVD = {
							set_cosmetic_tag = DVD_queen
						}
					}
				}
			}
		}
	}
	MGU_DVL = {
		visible = {
			tag = DVL
			any_state = {
				has_state_flag = MGUZDQ
				not = {
					is_core_of = ROOT
				}
				or = {
					is_owned_and_controlled_by = ROOT
					any_country = {
						is_subject_of = ROOT
						has_full_control_of_state = PREV
						not = {
							tag = DVM
						}
					}
				}
			}
		}
		allowed = {
			TAG = DVL
		}
		available = {
			has_war = no
		}
		icon = decision_infiltrate_state
		cost = 0
		days_remove = 0
		ai_will_do = {
			factor = 10
		}
		complete_effect = {
			every_state = {
				limit = {
					has_state_flag = MGUZDQ
					not = {
						is_core_of = ROOT
					}
					or = {
						is_owned_and_controlled_by = ROOT
						any_country = {
							is_subject_of = ROOT
							has_full_control_of_state = PREV
							not = {
								tag = DVM
							}
						}
					}
				}
				DVM = {
					transfer_state = PREV
					add_state_core = PREV
				}
			}
			if = {
				limit = {
					NOT = {
						DVM = {
							is_subject_of = DVL
						}
					}
				}
				DVL = {
					set_autonomy = {
						target = DVM
						autonomy_state = autonomy_DVL_reichskommissariat
					}
					if = {
						limit = {
							has_completed_focus = DVL_51
						}
						DVM = {
							set_cosmetic_tag = DVM_emperor
						}
					}
					else_if = {
						limit = {
							has_completed_focus = DVL_39
						}
						DVM = {
							set_cosmetic_tag = DVM_queen
						}
					}
				}
			}
		}
	}
}
