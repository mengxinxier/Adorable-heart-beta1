scripted_gui = {
	#超事件
	Adorable_heart_super_event = {
		context_type = player_context
		window_name = "adorable_heart_super_event"
		visible = {
			has_country_flag = adorable_heart_Super_Event_Visible
			is_ai = no
		}
		properties = {
			adorable_heart_Super_Event_Image = {
				image = "[adorable_heart_Get_Super_Event_Image]"
			}
		}
		effects = {
			Super_Event_Close_click = {
				adorable_heart_clr_super_event_flag = yes
			}
		}
	}
	#国家历史
	show_national_splash_container = {
		context_type = player_context
		window_name = "show_national_splash_container"
		ai_enabled = {
		}
		visible = {
			has_country_flag = show_welcome_splash
			not = {
				has_country_flag = need_sprcial_welcome_splash
			}
		}
		properties = {
			country_history_desc_picture = {
				image = "[Country_History_picture]"
			}
		}
		triggers = {
			the_fitst_desc_on_visible = {
				check_variable = {
					adorable_heart_welcome_screen = 1
				}
			}
			the_great_war_his_on_visible = {
				check_variable = {
					adorable_heart_welcome_screen = 2
				}
			}
			loca_his_on_visible = {
				check_variable = {
					adorable_heart_welcome_screen = 3
				}
			}
			route_guide_on_visible = {
				check_variable = {
					adorable_heart_welcome_screen = 4
				}
			}
			the_fitst_desc_off_visible = {
				NOT = {
					check_variable = {
						adorable_heart_welcome_screen = 1
					}
				}
			}
			the_great_war_his_off_visible = {
				NOT = {
					check_variable = {
						adorable_heart_welcome_screen = 2
					}
				}
			}
			loca_his_off_visible = {
				NOT = {
					check_variable = {
						adorable_heart_welcome_screen = 3
					}
				}
			}
			route_guide_off_visible = {
				NOT = {
					check_variable = {
						adorable_heart_welcome_screen = 4
					}
				}
			}
			next_page_visible = {
				check_variable = {
					adorable_heart_welcome_screen = 2
				}
			}
			past_page_visible = {
				check_variable = {
					adorable_heart_welcome_screen = 2
				}
			}
			page_number_visible = {
				check_variable = {
					adorable_heart_welcome_screen = 2
				}
			}
			SOV_next_page_visible = {
				tag = SOV
				check_variable = {
					adorable_heart_welcome_screen = 3
				}
			}
			SOV_past_page_visible = {
				tag = SOV
				check_variable = {
					adorable_heart_welcome_screen = 3
				}
			}
			SOV_page_number_visible = {
				tag = SOV
				check_variable = {
					adorable_heart_welcome_screen = 3
				}
			}
		}
		effects = {
			the_fitst_desc_off_click = {
				set_variable = {
					adorable_heart_welcome_screen = 1
				}
			}
			the_great_war_his_off_click = {
				set_variable = {
					adorable_heart_welcome_screen = 2
				}
				set_variable = {
					adorable_heart_WWI_page = 1
				}
			}
			loca_his_off_click = {
				set_variable = {
					adorable_heart_welcome_screen = 3
				}
			}
			route_guide_off_click = {
				set_variable = {
					adorable_heart_welcome_screen = 4
				}
			}
			next_page_click = {
				add_to_variable = {
					adorable_heart_WWI_page = 1
				}
				clamp_variable = {
					var = adorable_heart_WWI_page
					min = 1
					max = 6
				}
			}
			past_page_click = {
				add_to_variable = {
					adorable_heart_WWI_page = -1
				}
				clamp_variable = {
					var = adorable_heart_WWI_page
					min = 1
					max = 6
				}
			}
			SOV_next_page_click = {
				add_to_variable = {
					adorable_heart_SOV_his_page = 1
				}
				clamp_variable = {
					var = adorable_heart_SOV_his_page
					min = 1
					max = 9
				}
			}
			SOV_past_page_click = {
				add_to_variable = {
					adorable_heart_SOV_his_page = -1
				}
				clamp_variable = {
					var = adorable_heart_SOV_his_page
					min = 1
					max = 9
				}
			}
			close_button_click = {
				clr_country_flag = show_welcome_splash
				hidden_effect = {
					ah_music_start = yes
					if = {
						limit = {
							NOT = {
								has_global_flag = magic_start
							}
						}
						set_global_flag = magic_start
						country_event = {
							id = generic.2013
						}
					}
				}
			}
		}
	}
	#阵营
	faction_joining_window = {
		window_name = "faction_joining_window"
		context_type = player_context
		visible = {
			has_global_flag = faction_joining_window_visible
            is_ai = no
		}
		effects = {
			faction_joining_alert_close_button_click = {
				sound_effect = "click_close"
				clr_global_flag = faction_joining_window_visible
				clear_global_event_target = Adorable_heart_faction_member
				clear_global_event_target = Adorable_heart_faction_leader
            }
		}
		triggers = {
		}
		dynamic_lists = {
		}
		properties = {
		}
		ai_enabled = {
			always = no
		}
		ai_check = {
		}
		ai_weights = {
		}
	}
	#核心
	Get_core_window = {
		window_name = "Get_core_window"
		context_type = player_context
		visible = {
			has_country_flag = Get_core_window_visible
            is_ai = no
			check_variable = { ROOT.num_GetCroeState > 0 }
		}
		effects = {
			Get_core_window_close_button_click = {
				sound_effect = "click_close"
				clr_country_flag = Get_core_window_visible
				clear_array = ROOT.GetCroeState_array
				set_variable = { ROOT.num_GetCroeState = 0 }
            }
		}
		triggers = {
		}
		dynamic_lists = {
		}
		properties = {
		}
		ai_enabled = {
			always = no
		}
		ai_check = {
		}
		ai_weights = {
		}
	}
	#结语
	Adorable_Heart_End_window = {
		window_name = "Adorable_Heart_End_window"
		context_type = player_context
		visible = {
			has_country_flag = Adorable_Heart_End_window_view
		}
		effects = {
			close_button_click = { clr_country_flag = Adorable_Heart_End_window_view }
		}
		triggers = {
		}
		dynamic_lists = {
		}
		properties = {
			Adorable_Heart_End_Icon = {
				image = "[GET_Adorable_Heart_End_Icon]"
			}
		}
	}
}

scripted_gui = {
    Adorable_heart_city_story_button_container = {
        context_type = selected_state_context
        parent_window_token = selected_state_view
        window_name = "Adorable_heart_city_story_button_container"
        visible = {
            THIS = { has_state_flag = has_city_story }
        }
        properties = {
        }
        triggers = {
        }
        effects = {
			Adorable_heart_city_story_button_click = {
                if = {
                    limit = {
                        check_variable = { ROOT.Adorable_heart_city_story_var = 1 }
                    }
                    set_variable = { ROOT.Adorable_heart_city_story_var = 0 }
                }
                else = {
                    set_variable = { ROOT.Adorable_heart_city_story_var = 1 }
                }
            }
        }
    }
    Adorable_heart_city_story_container = {
        window_name = "Adorable_heart_city_story_container"
        context_type = selected_state_context
        parent_window_token = selected_state_view
        visible = {
            THIS = { has_state_flag = has_city_story }
            check_variable = { ROOT.Adorable_heart_city_story_var = 1 }
        }
        properties = {
			Adorable_heart_city_pic = {
				image = "[Adorable_heart_city_pic]"
			}
        }
        triggers = {
        }
        effects = {
			close_button_click = {
                set_variable = { ROOT.Adorable_heart_city_story_var = 0 }
            }
        }
    }
}

