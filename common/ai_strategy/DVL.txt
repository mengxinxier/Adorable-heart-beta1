# befriend
# conquer
# antagonize
# build_ship
# build_army
# unit_ratio
# build_building
# research_tech
# garrison
# protect
# influence
# contain
# area_priority
# building_target

#生产制造
	DVL_unit_production = {

		allowed = {
			original_tag = DVL
		}

		enable = {
			always = yes
		}

		ai_strategy = {
			type = role_ratio
			id = garrison
			value = 0
		}

		ai_strategy = {
			type = role_ratio
			id = paratroopers
			value = 0
		}

		ai_strategy = {
			type = role_ratio
			id = mountaineers
			value = 5
		}

		ai_strategy = {
			type = role_ratio
			id = marines
			value = 0
		}

		ai_strategy = {
			type = role_ratio
			id = cavalry
			value = 0
		}
		ai_strategy = {
			type = role_ratio
			id = motorized
			value = 0		#because doctrine this = 2
		}

		ai_strategy = {
			type = role_ratio
			id = mechanized
			value = 0		#because doctrine this = 0
		}

		ai_strategy = {
			type = role_ratio
			id = armor
			value = 100 	#because doctrine this = 15
		}
		
		ai_strategy = {
			type = template_prio
			id = armor
			value = 100
		}
		
		ai_strategy = {
			type = template_prio
			id = infantry
			value = 40
		}
		
		ai_strategy = {
			type = role_ratio
			id = infantry
			value = 40	#88 to 70
		}
		
		ai_strategy = { 
			type = railway_gun_divisions_ratio
			value = 3
		}
	}

	DVL_air_production = {

		allowed = {
			original_tag = DVL
		}

		enable = {
			always = yes
		}

		ai_strategy = {
			type = unit_ratio
			id = fighter
			value = 100
		}

		ai_strategy = {
			type = equipment_production_factor
			id = fighter
			value = 25
		}

		ai_strategy = {
			type = equipment_production_min_factories
			id = fighter
			value = 3
		}

		ai_strategy = {
			type = unit_ratio
			id = cas
			value = 25
		}

		ai_strategy = {
			type = equipment_production_factor
			id = cas
			value = 15
		}

		ai_strategy = {
			type = equipment_production_min_factories
			id = cas
			value = 3
		}

		ai_strategy = {
			type = unit_ratio
			id = naval_bomber
			value = 5
		}

		ai_strategy = {
			type = equipment_variant_production_factor
			id = small_plane_airframe
			value = 10
		}

		ai_strategy = {
			type = equipment_variant_production_factor
			id = small_plane_cas_airframe
			value = 10
		}

		ai_strategy = {
			type = equipment_variant_production_factor
			id = medium_plane_fighter_airframe
			value = 5
		}

		ai_strategy = {
			type = equipment_variant_production_factor
			id = large_plane_airframe
			value = 5
		}
	}

	DVL_equipment_production = {

		allowed = {
			original_tag = DVL
		}

		enable = {
			always = yes
		}

		#air
		ai_strategy = {
			type = equipment_production_factor
			id = fighter
			value = 30
		}

		ai_strategy = {
			type = equipment_production_factor
			id = cas
			value = 45
		}

		ai_strategy = {
			type = equipment_production_factor
			id = tactical_bomber
			value = -80
		}

		ai_strategy = {
			type = equipment_production_factor
			id = naval_bomber
			value = 1
		}

		ai_strategy = {
			type = equipment_production_factor
			id = strategic_bomber
			value = -200
		}

		#land
		ai_strategy = {
			type = equipment_production_factor
			id = infantry
			value = 40		#30 to 50
		}
		ai_strategy = {
			type = equipment_production_factor
			id = artillery
			value = 60		#20 to 40
		}

		ai_strategy = {
			type = equipment_production_factor
			id = armor
			value = 40
		}
		
	}

	DVL_highered_armored_production = {

		allowed = {
			original_tag = DVL
		}

		enable = {
			num_of_military_factories > 59
		}

		abort_when_not_enabled = yes

		ai_strategy = {
			type = equipment_production_min_factories
			id = armor
			value = 5
		}

		ai_strategy = {
			type = equipment_production_factor
			id = armor
			value = 60
		}
	}

	DVL_infantry_expedited_production = {

		allowed = {
			original_tag = DVL
		}

		enable = {
			has_equipment = {
				infantry_equipment < 0
			}
		}

		abort_when_not_enabled = yes

		ai_strategy = {
			type = equipment_production_min_factories
			id = infantry
			value = 15
		}

		ai_strategy = {
			type = equipment_production_factor
			id = infantry
			value = 50
		}
	}

	DVL_fast_military_expansion = {

		allowed = {
			original_tag = DVL
		}
		
		enable = {
			has_manpower > 500000
			has_equipment = {
				infantry_equipment > 5000
			}
		}

		abort_when_not_enabled = yes

		ai_strategy = {
			type = build_army
			id = infantry
			value = 400
		}

	}

	DVL_template_design = {

		allowed = {
			original_tag = DVL
		}

		enable = {
			always = yes
		}
		
		abort_when_not_enabled = yes

		ai_strategy = {
			type = template_prio
			id = cavalry
			value = -100
		}

		ai_strategy = {
			type = template_prio
			id = heavy_armor
			value = -50
		}

		ai_strategy = {
			type = template_prio
			id = paratroopers
			value = -50
		}
	}

DVL_wants_civ = {
	allowed = {
		original_tag = DVL
	}
	enable = {
		date < 1937.10.1
		has_war = no
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = building_target
		id = industrial_complex
		value = 10000
	}
}

DVL_prio_military_even_at_peace = {
    allowed = {
		original_tag = DVL
	}
	enable = {
		date > 1937.10.1
		date < 1941.8.1
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = building_target
		id = arms_factory
		value = 10000
	}
}

	DVL_like_cannon_ship = {

		allowed = {
			original_tag = DVL
		}

		enable = {
			always = yes
		}

		ai_strategy = {
			type = role_ratio
			id = naval_submarine
			value = 10
		}
	
		ai_strategy = {
			type = role_ratio
			id = naval_screen
			value = 75
		}
	
		ai_strategy = {
			type = role_ratio
			id = naval_cruiser_light
			value = 50
		}

		ai_strategy = {
			type = role_ratio
			id = naval_capital_bb
			value = 10
		}

	}

	DVL_need_troops = {

		allowed = {
			original_tag = DVL
		}

		enable = {
			num_divisions < 200
		}

		abort_when_not_enabled = yes

		ai_strategy = {
			type = ignore_army_incompetence
			value = 100
		}

	}


#军队行为

	DVL_attack_to_FRA = {

		allowed = {
			original_tag = DVL
		}

		enable = {
			has_offensive_war_with = FRA
			FRA = {
				has_capitulated = no
			}
		}

		abort_when_not_enabled = yes

		ai_strategy = {
			type = front_control
			tag = FRA
			ratio = 0.5
			priority = 75
			ordertype = front
			execution_type = rush_weak
			execute_order = yes
		}

		ai_strategy = {
			type = front_armor_score
			id = FRA
			value = 100
		}

		ai_strategy = {
			type = front_control
			state_trigger = {
				is_controlled_by = FRA
				OR = {
					is_coastal = yes
					is_core_of = KMK
				}
			}
			ratio = 0.9
			priority = 120
			ordertype = front
			execution_type = rush
			manual_attack = no
			execute_order  = yes
		}
	}	

	DVL_attack_to_NPT = {

		allowed = {
			original_tag = DVL
		}

		enable = {
			has_offensive_war_with = NPT
			NPT = {
				has_capitulated = no
			}
		}

		abort_when_not_enabled = yes

		ai_strategy = {
			type = front_armor_score
			id = NPT
			value = 100
		}

		ai_strategy = {
			type = front_control
			tag = NPT
			ratio = 0.5
			priority = 75
			ordertype = front
			execution_type = rush_weak
			execute_order = yes
		}
	}	

	DVL_attack_to_axis_powers = {

		allowed = {
			original_tag = DVL
		}

		enable = {
			has_offensive_war_with = GER
			if = {
				limit = {
					has_war_with = FRA
				}
				FRA = {
					has_capitulated = yes
				}
			}
			if = {
				limit = {
					has_war_with = NPT
				}
				NPT = {
					has_capitulated = yes
				}
			}
		}

		abort_when_not_enabled = yes

		ai_strategy = {
			type = front_control
			country_trigger = {
				OR = {
					tag = GER
					is_in_faction_with = GER
				}
			}
			ratio = 0.5
			priority = 75
			ordertype = front
			execution_type = rush_weak
			execute_order = yes
		}

		ai_strategy = {
			type = front_armor_score
			id = GER
			value = 100
		}
	}	

	DVL_invasion_ENG = {

		allowed = {
			original_tag = DVL
		}

		enable = {
			if = {
				limit = {
					has_war_with = FRA
				}
				FRA = {
					has_capitulated = yes
				}
			}
			has_war_with = ENG
			naval_strength_ratio = {
				tag = ENG
				ratio > 0.6
			}
		}

		abort_when_not_enabled = yes

		ai_strategy = {
			type = invasion_unit_request
			tag = ENG
			value = 100
		}
	}	

	DVL_civil_war_for_DV1 = {

		allowed = {
			tag = DV1
		}

		enable = {
			has_war_with = DV2
		}

		ai_strategy = {
			type = front_control
			tag = DV2
			ratio = 1.0
			priority = 100
			ordertype = front
			execution_type = rush_weak
			execute_order = yes
		}

		ai_strategy = {
			type = garrison
			value = -1000
		}
	}

	DVL_civil_war_for_DV2 = {

		allowed = {
			tag = DV2
		}

		enable = {
			has_war_with = DV1
		}

		ai_strategy = {
			type = front_control
			tag = DV1
			ratio = 1.0
			priority = 100
			ordertype = front
			execution_type = rush_weak
			execute_order = yes
		}

		ai_strategy = {
			type = garrison
			value = -1000
		}
	}

	DVL_prepare_for_axis_powers = {

		allowed = {
			original_tag = DVL
		}

		enable = {
			date > 1940.6.1
			country_exists = GER
			GER = { is_neighbor_of = DVL }
		}

		abort_when_not_enabled = yes

		ai_strategy = {
			type = prepare_for_war
			id = GER
			value = 100
		}
	}	

	DVL_not_waste_troops = {

		reversed = yes

		allowed = {
			original_tag = DVL
		}

		enable = {
			NOT = {
				AND = {
					has_war_with = DVL
					is_justifying_wargoal_against = DVL
					has_wargoal_against = DVL
				}
			}
		}

		ai_strategy = {
			type = prepare_for_war
			id = "DVL"
			value = -10
		}

		ai_strategy = {
			type = front_armor_score
			id = "DVL"
			value = -10
		}
	}

#情报机构

	DVL_the_more_powerful_decryption_mechanism = {

		allowed = {
			original_tag = DVL
		}

		enable = {
			always = yes
		}

		ai_strategy = {
			type = intelligence_agency_usable_factories
			value = 1000
		}

		ai_strategy = {
			type = intelligence_agency_branch_desire_factor
			id = branch_crypto
			value = 1000
		}

	}

	DVL_infiltrate_FRA = {
		
		allowed = {
			original_tag = DVL
		}

		enable = {
			FRA = {
				exists = yes
				NOT = { is_in_faction_with = DVL }
			}
		}

		ai_strategy = {
			type = operative_mission
			value = 100
			mission = build_intel_network
			mission_target = FRA
		}

		ai_strategy = {
			type = operative_mission
			value = 100
			mission = build_intel_network
			state_trigger = {
				is_core_of = KMK
			}
			mission_target = FRA
		}
	}

#外交

	DVL_diplomacy_with_SOV = {

		allowed = {
			original_tag = DVL
		}

		enable = {
			NOT = { has_government = communism }
		}

		ai_strategy = {
			type = antagonize
			id = SOV
			value = 100
		}

		ai_strategy = {
			type = conquer
			id = SOV
			value = 50
		}
	}

	DVL_diplomacy_with_GER = {

		allowed = {
			original_tag = DVL
		}

		enable = {
			always = yes
		}

		ai_strategy = {
			type = antagonize
			id = GER
			value = 100
		}

		ai_strategy = {
			type = conquer
			id = GER
			value = 50
		}
	}

	DVL_diplomacy_with_SHY = {

		allowed = {
			original_tag = DVL
		}

		enable = {
			SHY = { has_government = fascism }
		}

		ai_strategy = {
			type = befriend
			id = SHY
			value = 100
		}

		ai_strategy = {
			type = send_lend_lease_desire
			id = SHY
			value = 1000
		}

		ai_strategy = {
			type = send_volunteers_desire
			id = SHY
			value = 1000
		}
	}

	SHY_diplomacy_with_DVL = {

		allowed = {
			original_tag = SHY
		}

		enable = {
			has_government = fascism
			DVL = {
				has_government = fascism
			}
		}

		ai_strategy = {
			type = befriend
			id = DVL
			value = 100
		}

		ai_strategy = {
			type = send_lend_lease_desire
			id = DVL
			value = 1000
		}

		ai_strategy = {
			type = send_volunteers_desire
			id = DVL
			value = 1000
		}
	}

	DVL_support_fascism = {

		reversed = yes

		allowed = {
			original_tag = DVL
		}

		enable = {
			NOT = {
				tag = GER
				is_in_faction_with = GER
			}
			has_government = fascism
		}

		ai_strategy = {
			type = send_volunteers_desire
			id = "DVL"
			value = 1000
		}

	}

	DVL_diplomacy_with_CHI = {

		allowed = {
			original_tag = DVL
		}

		enable = {
			NOT = { has_war_with = CHI }
		}

		ai_strategy = {
			type = befriend
			id = CHI
			value = 100
		}
	}

	CHI_diplomacy_with_DVL = {

		allowed = {
			original_tag = CHI
		}

		enable = {
			NOT = { has_war_with = DVL }
		}

		ai_strategy = {
			type = befriend
			id = DVL
			value = 100
		}
	}

#防止军通杀

	DVL_no_military_access = {

		reversed = yes

		allowed = {
			original_tag = DVL
		}

		enable = {
			is_ai = no
			NOT = {
				has_non_aggression_pact_with = DVL
			}
		}

		ai_strategy = {
			type = diplo_action_acceptance
			id = "DVL"
			target = military_access
			value = -1000
		}

	}
	
#专注欧洲

DVL_area_priority = {
	enable = {
		original_tag = DVL
	}

	ai_strategy = {
		type = area_priority
		id = europe
		value = 2000 #more focus here
	}

	ai_strategy = {
		type = area_priority
		id = scandinavia
		value = 50
	}
	
	ai_strategy = {
		type = area_priority
		id = north_america
		value = -1000
	}
	
	ai_strategy = {
		type = area_priority
		id = south_america
		value = -1000
	}
	
	ai_strategy = {
		type = area_priority
		id = asia
		value = -500
	}
	
	ai_strategy = {
		type = area_priority
		id = middle_east
		value = -1000
	}
	
	ai_strategy = {
		type = area_priority
		id = africa
		value = -200
	}
	ai_strategy = {
        type = area_priority
        id = suez
        value = -100
    }
	
	ai_strategy = {
		type = area_priority
		id = pacific
		value = -2000 #less focus here
	}
	
	ai_strategy = {
		type = area_priority
		id = oceania
		value = -2000
	}
}

#多下部队

DVL_you_should_be_prepared_for_war = {
	allowed = { 
		tag = DVL
	}
	enable = {
		always = yes
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
        type = force_build_armies
        value = 100
    }
	ai_strategy = {
		type = build_army
		id = armor
		value = 200
	}
}

#优先升级编制

DVL_xp_upgrade_spending_land = {
	allowed = {
		original_tag = DVL
	}

	enable = {
		date < 1942.6.1
	}
	abort_when_not_enabled = yes

	ai_strategy = {
		type = land_xp_spend_priority
		id = upgrade_xp_cutoff
		value = 150
	}
}	