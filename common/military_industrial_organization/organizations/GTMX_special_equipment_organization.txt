GTMX_magic_equipment_organization = {
	icon = GFX_idea_magic_equipment

	allowed = {
		always = no  #在相应国家的企业中引用
	}

	ai_will_do = {
		base = 1000
	}

	equipment_type = { magic_assault_equipment magic_artillery_equipment }
	research_categories = { mio_cat_tech_all_magic_and_modules }

	tree_header_text = {
		text = mio_material_and_purification
		x = 1
	}

	tree_header_text = {
		text = mio_production_improvement
		x = 5
	}

	
	initial_trait = {
		name = GTMX_magic_equipment_organization
		
		organization_modifier = {
			military_industrial_organization_research_bonus = 0.1
		}
	}

	
	trait = {
		token = GTMX_mio_trait_improving_purification_technology
		name = GTMX_mio_trait_improving_purification_technology
		icon = GFX_generic_mio_trait_icon_detection
		
		position = { x=1 y=0 }

		production_bonus = {
			production_cost_factor = -0.05
		}
	}

	
	trait = {
		token = GTMX_mio_trait_energy_circuit
		name = GTMX_mio_trait_energy_circuit
		icon = GFX_generic_mio_trait_icon_air_agility
		
		position = { x=5 y=0 }

		equipment_bonus = {
			soft_attack = 0.05
		}
	}

	trait = {
		token = GTMX_mio_trait_production_outsource
		name = GTMX_mio_trait_production_outsource
		icon = GFX_generic_mio_department_icon_facilities

		relative_position_id = GTMX_mio_trait_improving_purification_technology
		all_parents = { GTMX_mio_trait_improving_purification_technology }
		position = { x=-1 y=1 }

		production_bonus = {
			production_efficiency_gain_factor = 0.10
		}
	}
	
	trait = {
		token = GTMX_mio_trait_crystal_block_form
		name = GTMX_mio_trait_crystal_block_form
		icon = GFX_generic_mio_trait_icon_fuel_consumption

		relative_position_id = GTMX_mio_trait_improving_purification_technology
		all_parents = { GTMX_mio_trait_improving_purification_technology }
		position = { x=1 y=1 }

		equipment_bonus = {
			reliability = 0.05
		}
	}
		
	trait = {
		token = GTMX_mio_trait_rune_burn
		name = GTMX_mio_trait_rune_burn
		icon = GFX_generic_mio_trait_icon_ap_attack

		relative_position_id = GTMX_mio_trait_energy_circuit
		all_parents = { GTMX_mio_trait_energy_circuit }
		position = { x=0 y=1 }

		production_bonus = {
			production_capacity_factor = 0.05
		}
	}
			
	trait = {
		token = GTMX_mio_trait_high_encapsulation_magazine
		name = GTMX_mio_trait_high_encapsulation_magazine
		icon = GFX_generic_mio_trait_icon_defense

		relative_position_id = GTMX_mio_trait_production_outsource
		all_parents = { GTMX_mio_trait_production_outsource }
		all_parents = { GTMX_mio_trait_crystal_block_form }
		position = { x=1 y=1 }

		equipment_bonus = {
			defense = 0.05
		}

		production_bonus = {
			production_cost_factor = 0.05
		}
	}
				
	trait = {
		token = GTMX_mio_trait_cast_efficiency
		name = GTMX_mio_trait_cast_efficiency
		icon = GFX_generic_mio_department_icon_infantry_line_efficiency

		relative_position_id = GTMX_mio_trait_rune_burn
		all_parents = { GTMX_mio_trait_rune_burn }
		position = { x=-1 y=1 }

		equipment_bonus = {
			breakthrough = 0.05
		}
	}
					
	trait = {
		token = GTMX_mio_trait_quality_control
		name = GTMX_mio_trait_quality_control
		icon = GFX_generic_mio_trait_icon_production_capacity

		relative_position_id = GTMX_mio_trait_rune_burn
		all_parents = { GTMX_mio_trait_rune_burn }
		position = { x=1 y=1 }

		equipment_bonus = {
			reliability = 0.05
		}

		production_bonus = {
			production_cost_factor = 0.05
			production_efficiency_cap_factor = 0.05
		}
	}
						
	trait = {
		token = GTMX_mio_trait_chaotic_element_separation
		name = GTMX_mio_trait_chaotic_element_separation
		icon = GFX_generic_mio_trait_icon_max_strength

		relative_position_id = GTMX_mio_trait_high_encapsulation_magazine
		all_parents = { GTMX_mio_trait_high_encapsulation_magazine }
		position = { x=0 y=1 }

		equipment_bonus = {
			soft_attack = 0.05
		}
	}
							
	trait = {
		token = GTMX_mio_trait_waste_recycle
		name = GTMX_mio_trait_waste_recycle
		icon = GFX_generic_mio_trait_icon_resources

		relative_position_id = GTMX_mio_trait_high_encapsulation_magazine
		all_parents = { GTMX_mio_trait_high_encapsulation_magazine }
		all_parents = { GTMX_mio_trait_cast_efficiency }
		position = { x=2 y=1 }

		production_bonus = {
			production_resource_need_factor = -0.10
		}
	}
								
	trait = {
		token = GTMX_mio_trait_fire_delivery_calibration
		name = GTMX_mio_trait_fire_delivery_calibration
		icon = GFX_generic_mio_trait_icon_naval_range

		relative_position_id = GTMX_mio_trait_high_encapsulation_magazine
		all_parents = { GTMX_mio_trait_cast_efficiency }
		all_parents = { GTMX_mio_trait_quality_control }
		position = { x=4 y=1 }

		equipment_bonus = {
			hard_attack = 0.10
		}
	}
									
	trait = {
		token = GTMX_mio_trait_environment_facility
		name = GTMX_mio_trait_environment_facility
		icon = GFX_generic_mio_trait_icon_efficiency_gain

		relative_position_id = GTMX_mio_trait_quality_control
		all_parents = { GTMX_mio_trait_quality_control }
		position = { x=1 y=1 }

		production_bonus = {
			production_capacity_factor = 0.05
			production_efficiency_cap_factor = 0.05
		}
	}
										
	trait = {
		token = GTMX_mio_trait_order_priority
		name = GTMX_mio_trait_order_priority
		icon = GFX_generic_mio_trait_icon_soft_attack

		relative_position_id = GTMX_mio_trait_chaotic_element_separation
		all_parents = { GTMX_mio_trait_chaotic_element_separation }
		mutually_exclusive = { GTMX_mio_trait_chaos_worship }
		position = { x=-1 y=1 }

		equipment_bonus = {
			soft_attack = 0.10
			breakthrough = -0.05
		}
	}
											
	trait = {
		token = GTMX_mio_trait_chaos_worship
		name = GTMX_mio_trait_chaos_worship
		icon = GFX_generic_mio_trait_icon_breakthrough

		relative_position_id = GTMX_mio_trait_chaotic_element_separation
		all_parents = { GTMX_mio_trait_chaotic_element_separation }
		mutually_exclusive = { GTMX_mio_trait_order_priority }
		position = { x=1 y=1 }

		equipment_bonus = {
			ap_attack = 0.15
			defense = -0.05
		}
	}
	
}


SOV_space_and_time_management_bureau_organization = {
	include = GTMX_magic_equipment_organization
	icon = GFX_idea_SOV_space_and_time_management_bureau
	
	allowed = {	
		is_russia_tag = yes
	}
}

DEN_ocean_of_star_organization = {
    include = GTMX_magic_equipment_organization
    icon = GFX_idea_DEN_ocean_of_star
    allowed = { 
        tag = DEN
        has_dlc = "Arms Against Tyranny"
    }
}