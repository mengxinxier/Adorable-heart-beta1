#!gfx:interface\generic_goals.gfx
#!gfx:interface\GTMX_goals.gfx
#!gfx:interface\ICON_NPT.gfx
#!gfx:interface\ICON_SOV.gfx

focus_tree = {
	id = MOR_focus_tree
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = MOR
		}
	}
	default = no

	shared_focus = NPT_defense_command

			
	focus = {
		id = MOR_desert_railway
		icon = GFX_goal_generic_train
		x = 34
		y = 0
		offset = {
			x = -28
			trigger = {
				has_country_flag = MOR_Morocco_subject
			}
		}
		cost = 5
 
		ai_will_do = {
			factor = 15
		}

		completion_reward = {
			build_railway = {
				path = { 12857 7203 4108 10107 8046 4933 4154 7116 989 12100 }
				build_only_on_allied = yes
			}
			every_owned_state = {
				limit = {
					OR = { state = 462 state = 461 }
				}
				hidden_effect = { SOV_promote_regional_development = yes }
				custom_effect_tooltip = SOV_upgrading_area_type_tt
			}
		}
	}
				
	focus = {
		id = MOR_light_up_lighthouse
		icon = GFX_focus_MOR_light_up_lighthouse
		relative_position_id = MOR_desert_railway
		prerequisite = {
			focus = MOR_desert_railway
		}
		x = -4
		y = 1
		cost = 5
 
		available = {
			has_global_flag = Iberian_civil_war_start
			hidden_trigger = {
				always = no
			}
		}

		ai_will_do = {
			factor = 15
		}

		completion_reward = {
			
		}
	}
					
	focus = {
		id = MOR_obey_church_rule
		icon = GFX_focus_CZE_german_puppet
		relative_position_id = MOR_light_up_lighthouse
		prerequisite = {
			focus = MOR_light_up_lighthouse
		}
		mutually_exclusive = {
			focus = MOR_expel_church_followers
		}
		x = -1
		y = 1
		cost = 5
		available = {
			has_global_flag = Iberian_civil_war_start
			hidden_trigger = {
				always = no
			}
		}
		ai_will_do = {
			factor = 15
		}

		completion_reward = {
			
		}
	}
					
	focus = {
		id = MOR_expel_church_followers
		icon = GFX_goal_generic_crisis
		relative_position_id = MOR_light_up_lighthouse
		prerequisite = {
			focus = MOR_light_up_lighthouse
		}
		mutually_exclusive = {
			focus = MOR_obey_church_rule
		}
		x = 1
		y = 1
		cost = 5
		available = {
			has_global_flag = Iberian_civil_war_start
			hidden_trigger = {
				always = no
			}
		}
		ai_will_do = {
			factor = 15
		}

		completion_reward = {
			
		}
	}
						
	focus = {
		id = MOR_establish_punitive_army
		icon = GFX_goal_small_infantry
		relative_position_id = MOR_obey_church_rule
		prerequisite = {
			focus = MOR_obey_church_rule
			focus = MOR_expel_church_followers
		}
		x = 1
		y = 1
		cost = 5
 
		ai_will_do = {
			factor = 15
		}

		completion_reward = {
			army_experience = 25
			add_ideas = MOR_punitive_army
		}
	}
							
	focus = {
		id = MOR_sail_with_the_wind
		icon = GFX_goal_generic_navy_cruiser
		relative_position_id = MOR_establish_punitive_army
		prerequisite = {
			focus = MOR_establish_punitive_army
		}
		x = 0
		y = 1
		cost = 5
 
		ai_will_do = {
			factor = 15
		}

		available = {
			has_country_flag = MOR_Morocco_pol_end
		}

		completion_reward = {
			
		}
	}
								
	focus = {
		id = MOR_self_sufficient_movement
		icon = GFX_goal_generic_banking
		relative_position_id = MOR_desert_railway
		prerequisite = {
			focus = MOR_desert_railway
		}
		x = 0
		y = 1
		cost = 5
 
		ai_will_do = {
			factor = 15
		}

		completion_reward = {
			hidden_effect = {
				add_to_variable = {
					ubs_save = 200
				}
			}
			custom_effect_tooltip = SOV_get_200_add_to_reserve
			461 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
				}
			}
		}
	}
								
	focus = {
		id = MOR_accelerated_industrial_development_plan
		icon = GFX_goal_SOV_bulgar_history
		relative_position_id = MOR_desert_railway
		prerequisite = {
			focus = MOR_desert_railway
		}
		x = 5
		y = 1
		cost = 5
 
		ai_will_do = {
			factor = 15
		}

		completion_reward = {
			add_tech_bonus = {
				name = MOR_accelerated_industrial_development_plan
				category = industry
				bonus = 0.5
				uses = 1
			}
			add_ideas = MOR_accelerated_industrial_development_plan_focus
		}
	}
								
	focus = {
		id = MOR_fishery_modernization
		icon = GFX_focus_generic_refit_civilian_ships
		relative_position_id = MOR_self_sufficient_movement
		prerequisite = {
			focus = MOR_self_sufficient_movement
		}
		x = -1
		y = 1
		cost = 5
 
		ai_will_do = {
			factor = 15
		}

		completion_reward = {
			add_tech_bonus = {
				name = MOR_fishery_modernization
				category = naval_equipment
				bonus = 0.25
				uses = 2
			}
			add_ideas = MOR_fishery_modernization_focus
		}
	}
								
	focus = {
		id = MOR_developing_agricultural_technology
		icon = GFX_focus_generic_agricultural_subsidies
		relative_position_id = MOR_self_sufficient_movement
		prerequisite = {
			focus = MOR_self_sufficient_movement
		}
		x = 1
		y = 1
		cost = 5
 
		ai_will_do = {
			factor = 15
		}

		completion_reward = {
			add_tech_bonus = {
				name = MOR_developing_agricultural_technology
				category = construction_tech
				bonus = 0.5
				uses = 1
			}
			every_owned_state = {
				hidden_effect = { SOV_promote_regional_development = yes }
				custom_effect_tooltip = SOV_upgrading_area_type_tt
			}
		}
	}
								
	focus = {
		id = MOR_automotive_industry
		icon = GFX_goal_generic_automobile
		relative_position_id = MOR_self_sufficient_movement
		prerequisite = {
			focus = MOR_self_sufficient_movement
		}
		prerequisite = {
			focus = MOR_accelerated_industrial_development_plan
		}
		x = 3
		y = 1
		cost = 5
 
		ai_will_do = {
			factor = 15
		}

		completion_reward = {
			if = {
				limit = { NOT = { has_tech = motorised_infantry } }
				set_technology = {
					motorised_infantry = 1
				}
			}
			else = {
				add_tech_bonus = {
					name = MOR_automotive_industry
					category = motorized_equipment
					bonus = 0.5
					uses = 1
				}
			}
			mio:NPT_irizar_organisation = {
				add_mio_funds_gain_factor = 0.15
			}
		}
	}
								
	focus = {
		id = MOR_improve_power_facilities
		icon = GFX_goal_generic_lightbulb
		relative_position_id = MOR_accelerated_industrial_development_plan
		prerequisite = {
			focus = MOR_accelerated_industrial_development_plan
		}
		x = 0
		y = 1
		cost = 5
 
		ai_will_do = {
			factor = 15
		}

		completion_reward = {
			every_owned_state = {
				limit = { OR = { state = 461 state = 290 } }
				add_building_construction = {
					type = infrastructure
					level = 2
				}
			}
			swap_ideas = {
				remove_idea = MOR_accelerated_industrial_development_plan_focus
				add_idea = MOR_accelerated_industrial_development_plan_focus2
			}
			custom_effect_tooltip = extra_income_of_20_per_month
		}
	}
								
	focus = {
		id = MOR_mining_exploration
		icon = GFX_goal_generic_mining_iron
		relative_position_id = MOR_accelerated_industrial_development_plan
		prerequisite = {
			focus = MOR_accelerated_industrial_development_plan
		}
		x = 2
		y = 1
		cost = 5
 
		ai_will_do = {
			factor = 15
		}

		completion_reward = {
			add_tech_bonus = {
				name = MOR_mining_exploration
				category = excavation_tech
				bonus = 0.5
				uses = 2
			}
			add_resource = {
				type = steel
				amount = 28
				state = 461
			}
			add_resource = {
				type = aluminium
				amount = 24
				state = 462
			}
		}
	}
								
	focus = {
		id = MOR_large_scale_fishing_boats
		icon = GFX_focus_generic_merchant_fleet
		relative_position_id = MOR_fishery_modernization
		prerequisite = {
			focus = MOR_fishery_modernization
		}
		x = -1
		y = 1
		cost = 5
 
		ai_will_do = {
			factor = 15
		}

		completion_reward = {
			add_equipment_to_stockpile = {
				type = convoy_1
				amount = 100
				producer = ROOT
			}
			swap_ideas = {
				remove_idea = MOR_fishery_modernization_focus
				add_idea = MOR_fishery_modernization_focus2
			}
		}
	}
								
	focus = {
		id = MOR_expand_warehousing
		icon = GFX_focus_SWE_hygienic_housing
		relative_position_id = MOR_fishery_modernization
		prerequisite = {
			focus = MOR_fishery_modernization
		}
		prerequisite = {
			focus = MOR_developing_agricultural_technology
		}
		x = 1
		y = 1
		cost = 5
 
		ai_will_do = {
			factor = 15
		}

		completion_reward = {
			968 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
				}
			}
			290 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
				}
			}
		}
	}
								
	focus = {
		id = MOR_agricultural_mechanization
		icon = GFX_goal_generic_mechanisation
		relative_position_id = MOR_developing_agricultural_technology
		prerequisite = {
			focus = MOR_automotive_industry
		}
		prerequisite = {
			focus = MOR_developing_agricultural_technology
		}
		x = 1
		y = 1
		cost = 6
 
		ai_will_do = {
			factor = 15
		}

		completion_reward = {
			add_ideas = MOR_agricultural_mechanization_focus
			mio:NPT_irizar_organisation = {
				add_mio_size = 1
			}
		}
	}
								
	focus = {
		id = MOR_Verda_parts_order
		icon = GFX_goal_generic_positive_trade_relations_gold
		relative_position_id = MOR_automotive_industry
		prerequisite = {
			focus = MOR_automotive_industry
		}
		prerequisite = {
			focus = MOR_improve_power_facilities
		}
		x = 1
		y = 1
		cost = 5
 
		ai_will_do = {
			factor = 15
		}

		completion_reward = {
			41 = {
				controller = {
					country_event = { id = iberia.001 days = 1 }
				}
			}
			290 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
				}
				add_building_construction = {
					type = arms_factory
					level = 1
				}
			}
		}
	}
								
	focus = {
		id = MOR_export_phosphate
		icon = GFX_focus_SWE_rations
		relative_position_id = MOR_mining_exploration
		prerequisite = {
			focus = MOR_mining_exploration
		}
		x = 0
		y = 1
		cost = 5
 
		ai_will_do = {
			factor = 15
		}

		completion_reward = {
			add_ideas = MOR_export_phosphate_focus
		}
	}
								
	focus = {
		id = MOR_can_processing_factory
		icon = GFX_goal_generic_construct_civ_factory
		relative_position_id = MOR_expand_warehousing
		prerequisite = {
			focus = MOR_expand_warehousing
		}
		x = 0
		y = 1
		cost = 5
 
		ai_will_do = {
			factor = 15
		}

		completion_reward = {
			461 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
				}
				add_building_construction = {
					type = dockyard
					level = 1
				}
			}
			290 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
				}
			}
		}
	}
								
	focus = {
		id = MOR_water_conservancy_and_fertilizer_plants
		icon = GFX_focus_generic_hydroelectric_energy
		relative_position_id = MOR_agricultural_mechanization
		prerequisite = {
			focus = MOR_agricultural_mechanization
		}
		x = 0
		y = 1
		cost = 5
 
		ai_will_do = {
			factor = 15
		}

		completion_reward = {
			462 = {
				hidden_effect = { SOV_promote_regional_development = yes }
				custom_effect_tooltip = SOV_upgrading_area_type_tt
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 2
				}
			}
		}
	}
								
	focus = {
		id = MOR_promote_the_North_African_free_trade_zone
		icon = GFX_goal_generic_aristocratic_cooperation
		relative_position_id = MOR_Verda_parts_order
		prerequisite = {
			focus = MOR_Verda_parts_order
		}
		prerequisite = {
			focus = MOR_export_phosphate
		}
		x = 1
		y = 1
		cost = 5
 
		ai_will_do = {
			factor = 15
		}

		completion_reward = {
			every_other_country = {
				limit = {
					OR = {
						tag = LIB
						tag = LBA 
						tag = EGY 
						tag = SAF
					}
				}
				country_event = iberia.002
			}
		}
	}
								
	focus = {
		id = MOR_canned_fish_export
		icon = GFX_goal_navy_funding
		relative_position_id = MOR_can_processing_factory
		prerequisite = {
			focus = MOR_can_processing_factory
		}
		prerequisite = {
			focus = MOR_large_scale_fishing_boats
		}
		x = -1
		y = 1
		cost = 5
 
		ai_will_do = {
			factor = 15
		}

		completion_reward = {
			swap_ideas = {
				remove_idea = MOR_fishery_modernization_focus2
				add_idea = MOR_fishery_modernization_focus3
			}
		}
	}
}