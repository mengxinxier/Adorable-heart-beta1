focus_tree = {
	id = ITA_focus

	country = {
		factor = 0
		
		modifier = {
			add = 200
			tag = ITA
		}
	}
	
	default = no

	continuous_focus_position = { x = 1500 y = 1500 }

	initial_show_position = { focus = ITA_1 }

	focus = {
		id = ITA_italian_highways_bba
		icon = GFX_focus_generic_truck
		x = 6
		y = 0
		relative_position_id = ITA_ethiopian_war_logistics_bba
		cost = 5
		allow_branch = {
			not = { is_subject_of = GER }
		}
		available = {
			OR = {
				controls_state = 2
				controls_state = 117
				controls_state = 162
				controls_state = 158
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			2 = { #ROME
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			117 = { #CAMPANIA
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			162 = { #TUSCANY
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			158 = { #PIEDMONT
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			every_owned_state = {
				limit = {
					is_core_of = ROOT
					is_fully_controlled_by = ROOT
				}
				add_dynamic_modifier = {
					modifier = ITA_italian_highways_modifier
					scope = ITA
					days = 365
				}
			}		
		}
	}

	focus = {
		id = ITA_ministry_of_italian_africa
		icon = GFX_focus_ITA_ministry_of_italian_africa
		prerequisite = { focus = ITA_italian_highways_bba }
		prerequisite = { focus = ITA_ethiopian_war_logistics_bba }

		x = -5
		y = 1
		relative_position_id = ITA_italian_highways_bba
		cost = 5
		available = {
			OR = {
				any_owned_state = { is_on_continent = africa }
				any_subject_country = { capital_scope = { is_on_continent = africa } }
			}
		}

		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			add_political_power = 75
			custom_effect_tooltip = ITA_ministry_of_italian_africa_occupation_law_tt
			show_ideas_tooltip = ITA_fake_colonial_police_law

			unlock_decision_category_tooltip = ITA_colonial_management_dec_cat

			hidden_effect = {
				country_event = BBA_italy_colonial_management.1
			}
		}
	}

	focus = {
		id = ITA_develop_ethiopia
		icon = GFX_focus_generic_develop_ethiopia
		prerequisite = { focus = ITA_ministry_of_italian_africa }

		x = -3
		y = 1
		relative_position_id = ITA_ministry_of_italian_africa
		cost = 5
		available = {
			OR = {
				any_controlled_state = {
					is_core_of = ETH
					is_fully_controlled_by = ROOT
				}
				any_subject_country = { #FOR PUPPETS
					any_controlled_state = {
						is_core_of = ETH
						is_fully_controlled_by = PREV
					}
				}
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = {
				limit = {
					NOT = {
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = ROOT
						}
						any_subject_country = { #FOR PUPPETS
							any_controlled_state = {
								is_core_of = ETH
								is_fully_controlled_by = PREV
							}
						}
					}
				}
				custom_effect_tooltip = ITA_develop_ethiopia_tt
			}

			if = {
				limit = {
					271 = { #SHEWA (Addis Ababa)
						OR = {
							is_fully_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
								has_full_control_of_state = PREV
							}
						}
						NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
					}
				}
				271 = { #SHEWA (Addis Ababa)
					set_state_flag = ITA_improved_infrastructure_in_state_flag
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			else_if = {
				limit = {
					ROOT = {
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				ROOT = {
					random_controlled_state = {
						prioritize = { 835 } #HARARGHE
						limit = {
							is_core_of = ETH
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = { #FOR PUPPETS
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
						}
					}
					random_controlled_state = {
						prioritize = { 835 } #HARARGHE
						limit = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
			if = {
				limit = {
					843 = { #WELLO
						OR = {
							is_fully_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
								has_full_control_of_state = PREV
							}
						}
						NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
					}
				}
				843 = { #WELLO
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			else_if = {
				limit = {
					ROOT = {
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				ROOT = {
					random_controlled_state = {
						prioritize = { 837 } #SIDAMO
						limit = {
							is_core_of = ETH
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = { #FOR PUPPETS
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
					random_controlled_state = {
						prioritize = { 837 } #SIDAMO
						limit = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}

			if = {
				limit = {
					842 = { #TIGRAY
						OR = {
							is_fully_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
								has_full_control_of_state = PREV
							}
						}
						NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
					}
				}
				842 = { #TIGRAY
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
			else_if = {
				limit = {
					ROOT = {
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				ROOT = {
					random_controlled_state = {
						prioritize = { 841 } #BEGEMDER
						limit = {
							is_core_of = ETH
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = { #FOR PUPPETS
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
					random_controlled_state = {
						prioritize = { 841 } #BEGEMDER
						limit = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}

			every_controlled_state = {
				limit = {
					state_is_fully_controlled_by_ROOT_or_subject = yes
					is_core_of = ETH
					has_resistance = yes
				}
				add_compliance = 5
			}
		}
	}

	focus = {
		id = ITA_develop_libya
		icon = GFX_focus_generic_develop_libya
		prerequisite = { focus = ITA_ministry_of_italian_africa }

		x = -1
		y = 1
		relative_position_id = ITA_ministry_of_italian_africa
		cost = 5
		available = {
			OR = {
				any_controlled_state = {
					is_core_of = LBA
					is_fully_controlled_by = ROOT
				}
				any_subject_country = { #FOR PUPPETS
					any_controlled_state = {
						is_core_of = LBA
						is_fully_controlled_by = PREV
					}
				}
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = {
				limit = {
					NOT = {
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
						}
						any_subject_country = { #FOR PUPPETS
							any_controlled_state = {
								is_core_of = LBA
								is_fully_controlled_by = PREV
							}
						}
					}
				}
				custom_effect_tooltip = ITA_develop_libya_tt
			}

			if = {
				limit = {
					448 = { #TRIPOLI
						OR = {
							is_fully_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
								has_full_control_of_state = PREV
							}
						}
						NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
					}
				}
				448 = { #TRIPOLI
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					set_state_flag = ITA_improved_infrastructure_in_state_flag
				}
			}
			else_if = {
				limit = {
					ROOT = {
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				ROOT = {
					random_controlled_state = {
						limit = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = { #FOR PUPPETS
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
						}
					}
					random_controlled_state = {
						prioritize = { 841 } #HARARGHE
						limit = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}

			if = {
				limit = {
					450 = { #BENGHALI
						OR = {
							is_fully_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
								has_full_control_of_state = PREV
							}
						}
						NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
					}
				}
				450 = { #BENGHALI
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					set_state_flag = ITA_improved_infrastructure_in_state_flag
				}
			}
			else_if = {
				limit = {
					ROOT = {
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				ROOT = {
					random_controlled_state = {
						limit = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = { #FOR PUPPETS
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = ETH
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
					random_controlled_state = {
						prioritize = { 841 } #HARARGHE
						limit = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}

			if = {
				limit = {
					451 = { #DERNA
						OR = {
							is_fully_controlled_by = ROOT
							controller = {
								is_subject_of = ROOT
								has_full_control_of_state = PREV
							}
						}
						NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
					}
				}
				451 = { #DERNA
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					set_state_flag = ITA_improved_infrastructure_in_state_flag
				}
			}
			else_if = {
				limit = {
					ROOT = {
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				ROOT = {
					random_controlled_state = {
						limit = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = { #FOR PUPPETS
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
				}
				random_other_country = {
					limit = {
						is_subject_of = ROOT
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
					}
					random_controlled_state = {
						prioritize = { 841 } #HARARGHE
						limit = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
							NOT = { has_state_flag = ITA_improved_infrastructure_in_state_flag }
						}
						set_state_flag = ITA_improved_infrastructure_in_state_flag
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
		}
	}

	focus = {
		id = ITA_develop_eritrea
		icon = GFX_focus_generic_develop_eritrea
		prerequisite = { focus = ITA_ministry_of_italian_africa }

		x = 1
		y = 1
		relative_position_id = ITA_ministry_of_italian_africa
		cost = 5
		available = {
			OR = {
				550 = {	is_fully_controlled_by = ROOT }
				any_subject_country = {
					has_full_control_of_state = 550
				}
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			550 = { #ERITREA
				set_state_flag = ITA_improved_infrastructure_in_state_flag
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
		}
	}

	focus = {
		id = ITA_develop_somaliland
		icon = GFX_focus_generic_develop_somaliland
		prerequisite = { focus = ITA_ministry_of_italian_africa }

		x = 3
		y = 1
		relative_position_id = ITA_ministry_of_italian_africa
		cost = 5
		available = {
			OR = {
				559 = { is_fully_controlled_by = ROOT }
				any_subject_country = {
					has_full_control_of_state = 559
				}
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			559 = { #SOMALILAND
				set_state_flag = ITA_improved_infrastructure_in_state_flag
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			if = {
				limit = {
					844 = { #JUBALAND
						OR = {
							is_fully_controlled_by = ROOT
							any_other_country = {
								is_subject_of = ROOT
								has_full_control_of_state = 559
							}
						}
					}
				}
				844 = { #JUBALAND
					set_state_flag = ITA_improved_infrastructure_in_state_flag
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
				}
			}
		}
	}

	focus = {
		id = ITA_regional_development
		icon = GFX_goal_generic_construction
		prerequisite = { focus = ITA_develop_eritrea focus = ITA_develop_libya focus = ITA_develop_somaliland focus = ITA_develop_ethiopia }

		x = 1
		y = 1
		relative_position_id = ITA_develop_libya
		cost = 10
		available = {
			OR = {
				any_controlled_state = {
					is_fully_controlled_by = ROOT
					has_state_flag = ITA_improved_infrastructure_in_state_flag
				}
				any_subject_country = {
					any_controlled_state = {
						is_fully_controlled_by = PREV
						has_state_flag = ITA_improved_infrastructure_in_state_flag
					}
				}
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			#Makes previous Colonial Police law hidden (Both old and new version need to cohexist so that the previous can fallback to the next one)
			set_country_flag = ITA_colonial_police_improved_flag

			custom_effect_tooltip = ITA_regional_development_occupation_law_tt

			custom_effect_tooltip = ITA_regional_development_buildings_tt

			#BDYIOPIA
			if = {
				limit = {
					has_completed_focus = ITA_develop_ethiopia
				}
				if = {
					limit = {
						any_controlled_state = {
							is_fully_controlled_by = ROOT
							has_state_flag = ITA_improved_infrastructure_in_state_flag
						}
					}
					random_controlled_state = {
						limit = {
							has_state_flag = ITA_improved_infrastructure_in_state_flag
							is_core_of = ETH
						}
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
						clr_state_flag = ITA_improved_infrastructure_in_state_flag
					}
				}
				else_if = {
					limit = {
						any_subject_country = {
							any_controlled_state = {
								is_fully_controlled_by = PREV
								has_state_flag = ITA_improved_infrastructure_in_state_flag
							}
						}
					}
					random_other_country = {
						limit = {
							is_subject_of = ROOT
							any_controlled_state = {
								is_core_of = ETH
								is_fully_controlled_by = PREV
							}
						}
						random_controlled_state = {
							limit = {
								has_state_flag = ITA_improved_infrastructure_in_state_flag
								is_core_of = ETH
							}
							add_building_construction = {
								type = industrial_complex
								level = 1
								instant_build = yes
							}
							add_extra_state_shared_building_slots = 1
							clr_state_flag = ITA_improved_infrastructure_in_state_flag
						}
					}
				}
				random_controlled_state = {
					limit = {
						has_state_flag = ITA_improved_infrastructure_in_state_flag
						is_core_of = ETH
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					clr_state_flag = ITA_improved_infrastructure_in_state_flag
				}
			}

			#LIBYA
			if = {
				limit = {
					has_completed_focus = ITA_develop_libya
				}
				random_controlled_state = {
					limit = {
						has_state_flag = ITA_improved_infrastructure_in_state_flag
						is_core_of = LBA
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_naval_base = yes
						}
					}
					clr_state_flag = ITA_improved_infrastructure_in_state_flag
				}
				random_controlled_state = {
					limit = {
						has_state_flag = ITA_improved_infrastructure_in_state_flag
						is_core_of = LBA
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = {
							all_provinces = yes
							limit_to_naval_base = yes
						}
					}
					clr_state_flag = ITA_improved_infrastructure_in_state_flag
				}
			}
		
			#ERITREA
			if = {
				limit = {
					has_completed_focus = ITA_develop_eritrea
				}
				550 = {
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 12766
					}
					clr_state_flag = ITA_improved_infrastructure_in_state_flag
				}
			}
			
			#JUBALAND
			if = {
				limit = {
					has_completed_focus = ITA_develop_somaliland
				}
				559 = {
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 12991
					}
					clr_state_flag = ITA_improved_infrastructure_in_state_flag
				}
				844 = {
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 12941
					}
				}
			}

			hidden_effect = {
				every_controlled_state = {
					limit = {
						has_state_flag = ITA_improved_infrastructure_in_state_flag
					}
					clr_state_flag = ITA_improved_infrastructure_in_state_flag
				}
				every_subject_country = {
					limit = {
						any_controlled_state = {
							has_state_flag = ITA_improved_infrastructure_in_state_flag
						}
					}
					every_controlled_state = {
						limit = {
							has_state_flag = ITA_improved_infrastructure_in_state_flag
						}
						clr_state_flag = ITA_improved_infrastructure_in_state_flag
					}
				}
			}

			custom_effect_tooltip = ITA_regional_development_decision_unlocked_tt
		}
	}



	focus = {
		id = ITA_via_della_vittoria
		icon = GFX_goal_reichsautobahn
		prerequisite = { focus = ITA_regional_development }

		x = -3
		y = 1
		relative_position_id = ITA_regional_development
		cost = 10
		available = {
			451 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
			452 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			451 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				if = {
					limit = {
						has_resistance = yes
					}
					add_compliance = 5
				}
			}
			452 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				if = {
					limit = {
						has_resistance = yes
					}
					add_compliance = 5
				}
			}

			# EXTRA STATES 

			custom_effect_tooltip = ITA_via_della_vittoria_extra_states_tt

			#LIBYA
			if = {
				limit = {
					450 = { #BENGHASI
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				450 = { #BENGHASI
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					449 = { #EL AGHELIA
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				449 = { #EL AGHELIA
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					448 = { #TRIPOLI
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				448 = { #TRIPOLI
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}

			#TUNISIA
			if = {
				limit = {
					665 = { #GABES
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				665 = { #GABES
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					458 = { #TUNISIA
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				458 = { #TUNISIA
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			#ALGERIA
			if = {
				limit = {
					460 = { #CONSTANTINE
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				460 = { #CONSTANTINE
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					459 = { #ALGIERS
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				459 = { #ALGIERS
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}

			#MOROCCO
			if = {
				limit = {
					461 = { #CASABLANCA
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				461 = { #CASABLANCA
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					290 = { #SPANISH AFRICA (Mediterranean coast of Morocco)
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				290 = { #SPANISH AFRICA (Mediterranean coast of Morocco)
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}

			#EGYPT
			if = {
				limit = {
					447 = { #ALEXANDRIA
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				447 = { #ALEXANDRIA
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					446 = { #CAIRO
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				446 = { #CAIRO
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
			if = {
				limit = {
					453 = { #SINAI
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				453 = { #SINAI
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							has_resistance = yes
						}
						add_compliance = 5
					}
				}
			}
		}
	}


	focus = {
		id = ITA_prospect_for_oil
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = ITA_regional_development }

		x = -1
		y = 1
		relative_position_id = ITA_regional_development
		cost = 5

		bypass = {
			662 = {
				has_state_flag = sirte_oil_developed
			}
		}

		available = {
			662 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_resource = {
				type = oil
				amount = 8
				state = 662
			}	

			662 = {
				ITA_check_for_cooperatives_and_add_dm = yes #If appropriate, apply dm from Cooperatives for Intensive Exploitation 
				set_state_flag = sirte_oil_developed
			}
			if = {
				limit = {
					449 = {
						state_is_fully_controlled_by_ROOT_or_subject = yes
					}
				}
				449 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = fuel_silo
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_libyan_refineries
		icon = GFX_focus_generic_rubber
		prerequisite = { focus = ITA_regional_development }

		x = 3
		y = 1
		relative_position_id = ITA_regional_development
		cost = 5

		available = {
			450 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
				NOT = {
					has_state_flag = benghazi_oil_developed
				}
			}
			has_tech = synth_oil_experiments
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_resource = {
				type = oil
				amount = 4
				state = 450
			}
			450 = {
				ITA_check_for_cooperatives_and_add_dm = yes #If appropriate, apply dm from Cooperatives for Intensive Exploitation 
				set_state_flag = benghazi_oil_developed
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = synthetic_refinery
					level = 2
					instant_build = yes
				}
			}	
		
		}
	}

	focus = {
		id = ITA_polizia_dell_africa_italiana
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = ITA_regional_development }
		x = 1
		y = 1
		relative_position_id = ITA_regional_development
		cost = 10
		available = {
			any_controlled_state = {
				is_on_continent = africa
			}
		}

		search_filters = {FOCUS_FILTER_MANPOWER}

		completion_reward = {
			custom_effect_tooltip = ITA_polizia_dell_africa_italiana_occupation_law_tt

			set_country_flag = ITA_colonial_police_final_flag
		}
	}

	
	focus = {
		id = ITA_steel_industry_in_terni
		icon = GFX_focus_generic_steel
		prerequisite = { focus = ITA_italian_highways_bba }
		mutually_exclusive = { focus = ITA_power_plants_in_terni }
		x = -1
		y = 1
		relative_position_id = ITA_italian_highways_bba
		cost = 5
		available = {
			has_full_control_of_state = 2
		}
		ai_will_do = {
			factor = 100
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			swap_ideas = {
			remove_idea = ITA_buchengshudefatuanjingji
			add_idea = ITA_buchengshudefatuanjingji2
			}
			2 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_resource = {
					type = steel
					amount = 8
				}
			}
		}
	}

	focus = {
		id = ITA_power_plants_in_terni
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = ITA_italian_highways_bba }
		mutually_exclusive = { focus = ITA_steel_industry_in_terni }
		x = 1
		y = 1
		relative_position_id = ITA_italian_highways_bba
		cost = 5
		available = {
			has_full_control_of_state = 2
		}
		ai_will_do = {
			factor = 0
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			swap_ideas = {
			remove_idea = ITA_buchengshudefatuanjingji
			add_idea = ITA_buchengshudefatuanjingji2
			}
			2 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_industria_della_gomma_sintetica
		icon = GFX_focus_generic_rubber
		prerequisite = { focus = ITA_steel_industry_in_terni focus = ITA_power_plants_in_terni }

		x = 1
		y = 1
		relative_position_id = ITA_steel_industry_in_terni
		cost = 5
		available = {
			has_tech = synth_oil_experiments
		}
		ai_will_do = {
			factor = 50
		}
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			swap_ideas = {
			remove_idea = ITA_buchengshudefatuanjingji2
			add_idea = ITA_buchengshudefatuanjingji3
			}
			add_tech_bonus = {
				name = ITA_industria_della_gomma_sintetica
				bonus = 0.75
				uses = 2
				category = synth_resources
			}

			if = {
				limit = {
					2 = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = synthetic_refinery
							size > 0
							include_locked = yes
						}
					}
				}
				2 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = synthetic_refinery
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = synthetic_refinery
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 157 849 117 } #ABRUZZO as main fallback
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = synthetic_refinery
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_strengthen_northern_industry
		icon = GFX_focus_ITA_northern_industry
		prerequisite = { focus = ITA_industria_della_gomma_sintetica }
		mutually_exclusive = { focus = ITA_modernize_the_mezzogiorno }
		x = -1
		y = 1
		relative_position_id = ITA_industria_della_gomma_sintetica
		cost = 10
		available = {
			
		}
		ai_will_do = {
			factor = 50
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = {
				limit = {
					has_full_control_of_state = 158
					158 = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
				}
				158 = { #PIEDMONT (Torino, Genoa)
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 736 852 } #LITORALE as main fallback
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 159
					159 = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
				}
				159 = { #LOMBARDY (Milano, Brescia)
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 850 30 } #TRENTINO as main fallback
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 161
					161 = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
				}
				161 = { #EMILIA ROMAGNA (Bologna)
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 30 850 } #ALTO ADIGE as main fallback
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 160
					160 = {
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
				}
				160 = { #VENETO (Venice )
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 852 736 } #ISTRIA as main fallback
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_modernize_the_mezzogiorno
		icon = GFX_focus_ITA_southern_industry
		prerequisite = { focus = ITA_industria_della_gomma_sintetica }
		mutually_exclusive = { focus = ITA_strengthen_northern_industry }
		x = 1
		y = 1
		relative_position_id = ITA_industria_della_gomma_sintetica
		cost = 10
		available = {
			controls_state = 117
			controls_state = 837
			controls_state = 156
			controls_state = 115
		}
		ai_will_do = {
			factor = 0
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = {
				limit = {
					has_full_control_of_state = 117
					117 = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				117 = { #CAMPAGNA (Napoli)
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes						
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 3
						instant_build = yes
						province = 819					
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 156 2 162 } #CALABRIA as main fallback
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes						
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 849
				}
				849 = { #PUGLIA (Taranto, Bari, Foggia)
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes						
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 3
						instant_build = yes
						province = 9784					
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 115
				}

				115 = { #SICILY (Palermo, Messina, Catania)
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes						
						}
					}
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = 4159					
					}
					add_building_construction = {
						type = naval_base
						level = 2
						instant_build = yes
						province = 7059					
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 114
				}
				114 = { #SARDINIA (Cagliari)
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes						
						}
						add_building_construction = {
							type = naval_base
							level = 3
							instant_build = yes
							province = 11773					
						}
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 162 #TOSCANA
				}
				162 = {
					add_resource = {
						type = steel
						amount = 12
					}
				}
			}
		}
	}

	focus = {
		id = ITA_new_industrialization_program
		icon = GFX_focus_generic_industry_3
		prerequisite = { focus = ITA_strengthen_northern_industry focus = ITA_modernize_the_mezzogiorno }
		prerequisite = { focus = ITA_expand_national_universities }

		x = 1
		y = 2
		relative_position_id = ITA_strengthen_northern_industry
		cost = 10
		available = {
			num_of_factories > 99
		}
		ai_will_do = {
			factor = 100
		}
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			remove_ideas = ITA_jungongchanyehunluan
			remove_ideas = ITA_buchengshudefatuanjingji3
			add_ideas = ita_factory
			if = {
				limit = {
					has_completed_focus = ITA_strengthen_northern_industry
				}
				custom_effect_tooltip = ITA_new_industrialization_program_north_tt
				ITA_replace_designers_by_improved_version_north = yes 
			}
			else_if = {
				limit = {
					has_completed_focus = ITA_modernize_the_mezzogiorno
				}
				custom_effect_tooltip = ITA_new_industrialization_program_south_tt
				ITA_replace_designers_by_improved_version_south = yes
			}
			else = {
				custom_effect_tooltip = ITA_new_industrialization_program_generic_tt
			}
		}
	}

	focus = {
		id = ITA_railway_innovations
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = ITA_italian_highways_bba }

		x = 3
		y = 1
		relative_position_id = ITA_italian_highways_bba
		cost = 5
		available = {
			controls_state = 2
			controls_state = 161
			controls_state = 162
		}
		ai_will_do = {
			factor = 1
			modifier = {
			has_completed_focus = ITA_14
			add = 100
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = ITA_railway_innovations
				ahead_reduction = 1.5
				bonus = 0.5
				uses = 1
				category = train_tech
			}

			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

			#Roma - La Spezia
			build_railway = {
				path = { 9904 11751 6862 6875 11833 6946 6973 }
			}

			#Roma - Bologna
			build_railway = {
				path = { 11751 6862 9750 9879 9907 1616 6985 6606 }
			}
			add_ideas = ita_train
		}
	}

	focus = {
		id = ITA_expand_foggia_farm_fields
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = ITA_railway_innovations }

		x = -1
		y = 1
		relative_position_id = ITA_railway_innovations
		cost = 5
		available = {
		}
		ai_will_do = {
			factor = 0
			modifier = {
			has_completed_focus = ITA_14
			add = 10
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_timed_idea = { idea = ITA_foggia_farm_fields days = 730 }
		}
	}

	focus = {
		id = ITA_investments_in_edison
		icon = GFX_focus_generic_hydroelectric_energy
		prerequisite = { focus = ITA_railway_innovations }

		x = 0
		y = 2
		relative_position_id = ITA_railway_innovations
		cost = 5
		available = {
			has_full_control_of_state = 159
		}
		ai_will_do = {
			factor = 1
			modifier = {
			has_completed_focus = ITA_14
			add = 100
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			
			add_ideas = ITA_chanyechongzu
			
			if = {
				limit = {
					159 = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				159 = { #LOMBARDY (Milano)
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
					prioritize = { 161 850 } #EMILIA ROMAGNA as main fallback
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_expand_national_universities
		icon = GFX_focus_research
		prerequisite = { focus = ITA_investments_in_edison }

		x = 0
		y = 1
		relative_position_id = ITA_investments_in_edison
		cost = 10
		available = {
		}
		ai_will_do = {
			factor = 1
			modifier = {
			has_completed_focus = ITA_14
			add = 100
			}
		}
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_research_slot = 1
			add_ideas = ita_expower
		}
	}

	focus = {
		id = ITA_fiocchi_munizioni
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = ITA_italian_highways_bba }

		x = 5
		y = 1
		relative_position_id = ITA_italian_highways_bba
		cost = 5
		available = {
			has_full_control_of_state = 159
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			if = {
				limit = {
					159 = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
				}
				159 = { #LOMBARDY (Milano)
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					prioritize = { 736 852 } #LITORALE as main fallback
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_brescia_small_arms_industry
		icon = GFX_focus_focus_fra_maquis
		prerequisite = { focus = ITA_fiocchi_munizioni }

		x = -1
		y = 1
		relative_position_id = ITA_fiocchi_munizioni
		cost = 5
		available = {
			has_full_control_of_state = 159
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			if = {
				limit = {
					159 = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
				}
				159 = { #LOMBARDY
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 160 852 736 } #VENETO as main fallback
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}

			add_tech_bonus = {
				name = ITA_brescia_small_arms_industry
				bonus = 0.75
				uses = 1
				category = infantry_weapons
			}
		}
	}

	focus = {
		id = ITA_milan_comms_industry
		icon = GFX_goal_generic_radar
		prerequisite = { focus = ITA_fiocchi_munizioni }

		x = 1
		y = 1
		relative_position_id = ITA_fiocchi_munizioni
		cost = 5
		available = {
			has_tech = radio_detection
			has_full_control_of_state = 159
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			159 = { #LOMBARDY (Milano)
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
			2 = { #LATIUM (Rome)
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
			115 = { #SICILY
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = ITA_milan_comms_industry
				bonus = 1
				uses = 1
				category = radar_tech
			}
		}
	}

	focus = {
		id = ITA_redirect_alfa_romeo_production
		icon = GFX_focus_ITA_redirect_alfa_romeo_production
		prerequisite = { focus = ITA_brescia_small_arms_industry focus = ITA_milan_comms_industry }

		x = 1
		y = 1
		relative_position_id = ITA_brescia_small_arms_industry
		cost = 5
		available = {
			has_full_control_of_state = 159
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			if = {
				limit = {
					159 = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
				}
				159 = { #LOMBARDY (Milano)
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					prioritize = { 158 160 852 736 39 } #PIEMONTE as main fallback
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}

			add_tech_bonus = {
				name = ITA_redirect_alfa_romeo_production
				bonus = 0.50
				uses = 2
				category = motorized_equipment
				category = light_air
			}
		}
	}

	focus = {
		id = ITA_increase_production
		icon = GFX_focus_generic_combined_arms
		prerequisite = { focus = ITA_expand_national_universities }
		prerequisite = { focus = ITA_redirect_alfa_romeo_production }
		mutually_exclusive = { focus = ITA_keep_specialization }
		x = -1
		y = 2
		relative_position_id = ITA_redirect_alfa_romeo_production
		cost = 8
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			swap_ideas = {
			remove_idea = ITA_chanyechongzu
			add_idea = ITA_chanyechongzu2
			}
		}
	}

	focus = {
		id = ITA_keep_specialization
		icon = GFX_goal_generic_production
		prerequisite = { focus = ITA_expand_national_universities }
		prerequisite = { focus = ITA_redirect_alfa_romeo_production }
		mutually_exclusive = { focus = ITA_increase_production }
		x = 1
		y = 2
		relative_position_id = ITA_redirect_alfa_romeo_production
		cost = 8
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			swap_ideas = {
			remove_idea = ITA_chanyechongzu
			add_idea = ITA_chanyechongzu3
			}
		}
	}

	focus = {
		id = ITA_thermojet_research
		icon = GFX_focus_rocketry
		prerequisite = { focus = ITA_increase_production focus = ITA_keep_specialization }

		x = 1
		y = 1
		relative_position_id = ITA_increase_production
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = ITA_thermojet_research
				bonus = 1
				uses = 1
				category = air_equipment
			}
			add_tech_bonus = {
				name = ITA_thermojet_research
				ahead_reduction = 1
				bonus = 1.0
				category = jet_technology
				category = rocketry
			}
		}
	}
	
	focus = {
		id = ITA_feizhouhexinhua
		icon = GFX_focus_ITA_blackshirts
		prerequisite = { focus = ITA_via_della_vittoria }
		prerequisite = { focus = ITA_prospect_for_oil }
		prerequisite = { focus = ITA_libyan_refineries }
		prerequisite = { focus = ITA_polizia_dell_africa_italiana }
		x = 0
		y = 2
		relative_position_id = ITA_regional_development
		cost = 10
		available = {
			any_owned_state = { is_on_continent = africa }
		}

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			every_state = {
			limit = {
			is_core_of = LBA
			is_owned_and_controlled_by = ROOT
			}
			add_core_of = ITA
			}
			every_state = {
			limit = {
			is_core_of = LIB
			is_owned_and_controlled_by = ROOT
			}
			add_core_of = ITA
			}
		}
	}
	
	focus = {
		id = ITA_army_primacy_bba
		icon = GFX_goal_generic_axis_build_infantry

		x = 13
		y = 0
		relative_position_id = ITA_italian_highways_bba
		cost = 7
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ARMY_XP}
		ai_will_do = {
			factor = 0
			modifier = {
			has_completed_focus = ITA_14
			add = 40
			}
		}
		completion_reward = {
			swap_ideas = {
			remove_idea = ita_shaonvguofangjun
			add_idea = ita_shaonvguofangjun2
			}
			army_experience = 25

			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					arms_factory > 0
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					arms_factory > 0
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			#Fallback
			if = {
				limit = {
					NOT = {
						any_owned_state = {
							arms_factory > 0
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = ROOT
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}				
			}

			add_doctrine_cost_reduction = {
				name = ITA_army_primacy_bba #land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = ITA_preserve_army_traditions
		icon = GFX_ITA_bastico
		prerequisite = { focus = ITA_army_primacy_bba }
		mutually_exclusive = { focus = ITA_a_bandits_war }
		x = -3
		y = 1
		relative_position_id = ITA_army_primacy_bba
		cost = 7
		available = {
		}
		ai_will_do = {
			factor = 50
		}
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			add_ideas = ita_aqua_army1
			
			swap_ideas = {
			remove_idea = ita_shaonvguofangjun2
			add_idea = ita_shaonvguofangjun3
			}

			army_experience = 25

			add_doctrine_cost_reduction = {
				name = ITA_preserve_army_traditions
				cost_reduction = 0.75
				uses = 1
				category = cat_grand_battle_plan
			}
		}
	}

	focus = {
		id = ITA_increase_artillery_production
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = ITA_fiocchi_munizioni }
		prerequisite = { focus = ITA_army_primacy_bba }

		x = 3
		y = 1
		relative_position_id = ITA_fiocchi_munizioni
		cost = 7
		available = {
		}
		ai_will_do = {
			factor = 30
		}
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_ideas = ITA_hidden_arty_production_ns
			
			add_tech_bonus = {
				name = ITA_increase_artillery_production
				bonus = 0.75
				uses = 2
				category = artillery
			}

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_vallo_alpino_del_littorio
		icon = GFX_goal_fortify_the_westwall
		prerequisite = { focus = ITA_milan_comms_industry }
		prerequisite = { focus = ITA_increase_artillery_production }

		x = 1
		y = 1
		relative_position_id = ITA_milan_comms_industry
		cost = 5
		
		available = {
			OR = {
				has_full_control_of_state = 158 #PIEDMONT
				has_full_control_of_state = 159 #LOMBARDY
				has_full_control_of_state = 850 #TRENTINO
				has_full_control_of_state = 39 #ALTO ADIGE
				has_full_control_of_state = 160 #VENETO
				has_full_control_of_state = 736 #LITORALE
				has_full_control_of_state = 852 #FIUME
			}
		}

		search_filters = {}

		completion_reward = {

			### VALLO ALPINO OCCIDENTALE ###
			if = { #PIEDMONT
				limit = {
					158 = { is_fully_controlled_by = ROOT }
				}
				158 = {
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 6780
						}
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 6635
						}
						instant_build = yes
					}
				}
			}

			### VALLO ALPINO SETTENTRIONALE ###
			if = { #LOMBARDY
				limit = {
					159 = { is_fully_controlled_by = ROOT }
				}
				159 = {
					add_building_construction = { #Two separate effects for stupid tt reasons :)
						type = bunker
						level = 2
						province = {
							id = 9584
						}
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 6661
						}
						instant_build = yes
					}
				}
			}
			if = { #ALTO ADIGE
				limit = {
					39 = { is_fully_controlled_by = ROOT }
				}
				39 = {
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 11615
						}
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 11598
						}
						instant_build = yes
					}
				}
			}
			if = { #TRENTINO
				limit = {
					850 = { is_fully_controlled_by = ROOT }
				}
				850 = {
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 9598
						}
						instant_build = yes
					}
				}
			}
			if = { #VENETO
				limit = {
					160 = { is_fully_controlled_by = ROOT }
				}
				160 = {
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 3657
						}
						instant_build = yes
					}
				}
			}

			### VALLO ALPINO ORIENTALE ###
			if = { #LITORALE
				limit = {
					736 = { is_fully_controlled_by = ROOT }
				}
				736 = {
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 11595
						}
						instant_build = yes
					}
				}
			}
			if = { #ISTRIA
				limit = {
					852 = { is_fully_controlled_by = ROOT }
				}
				852 = {
					add_building_construction = {
						type = bunker
						level = 2
						province = {
							id = 11564
						}
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_moschettieri_del_duce1
		icon = GFX_focus_ITA_moschettieri_del_duce
		prerequisite = { focus = ITA_preserve_army_traditions }

		x = 0
		y = 2
		relative_position_id = ITA_preserve_army_traditions
		cost = 7
		available = {
			has_completed_focus = ITA_army_leaders
		}
		ai_will_do = {
			factor = 50
		}
		search_filters = {}

		completion_reward = {
			swap_ideas = {
			remove_idea = ita_aqua_army2
			add_idea = ita_aqua_army3
			}
			swap_ideas = {
			remove_idea = ita_shaonvguofangjun3
			add_idea = ita_shaonvguofangjun4
			}
		}
	}

	focus = {
		id = ITA_a_bandits_war
		icon = GFX_ITA_graziani
		prerequisite = { focus = ITA_army_primacy_bba }
		mutually_exclusive = { focus = ITA_preserve_army_traditions }
		x = 3
		y = 1
		relative_position_id = ITA_army_primacy_bba
		cost = 10
		available = {
		}
		ai_will_do = {
			factor = 0
		}
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			add_ideas = ita_anqiaonvzixueyuan1
			
			swap_ideas = {
			remove_idea = ita_shaonvguofangjun2
			add_idea = ita_shaonvguofangjun3
			}
			
			add_doctrine_cost_reduction = {
				name = ITA_a_bandits_war
				cost_reduction = 0.75
				uses = 2
				category = cat_mobile_warfare
			}

			add_tech_bonus = {
				name = ITA_a_bandits_war
				uses = 2
				bonus = 0.75
				category = motorized_equipment
				category = recon_tech
			}

			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				add_tech_bonus = {
					name = ITA_a_bandits_war
					bonus = 1.5
					uses = 1
					category = cat_armored_cars
				}
				add_ideas = ITA_bandits_war
			}
			else = {
				add_ideas = ITA_bandits_war_no_lar
			}

			# AI will never swap to another doctrine tree once they have started one, regardless of the AI weights, so AI needs to have it replaced manually
			hidden_effect = {
				if = {
					limit = {
						is_ai = yes
					}
					set_technology = {
						trench_warfare = 0
						mobile_warfare = 1
					}
				}
			}
		}
	}

	focus = {
		id = ITA_carica_di_isbuscenskij
		icon = GFX_focus_ITA_cavalry_charge
		prerequisite = { focus = ITA_a_bandits_war }

		x = 0
		y = 2
		relative_position_id = ITA_a_bandits_war
		cost = 7
		available = {
			has_completed_focus = ITA_italian_tankettes
		}

		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			swap_ideas = {
			remove_idea = ita_anqiaonvzixueyuan2
			add_idea = ita_anqiaonvzixueyuan3
			}
			swap_ideas = {
			remove_idea = ita_shaonvguofangjun2
			add_idea = ita_shaonvguofangjun3
			}
			army_experience = 25
		}
	}

	focus = {
		id = ITA_army_leaders
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = ITA_preserve_army_traditions }

		x = 1
		y = 1
		relative_position_id = ITA_preserve_army_traditions
		cost = 5
		available = {
			
		}
		ai_will_do = {
			factor = 50
		}
		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			
			swap_ideas = {
			remove_idea = ita_aqua_army1
			add_idea = ita_aqua_army2
			}

			army_experience = 25
		}
	}

	focus = {
		id = ITA_superesercito
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = ITA_preserve_army_traditions focus = ITA_a_bandits_war }

		x = 3
		y = 1
		relative_position_id = ITA_preserve_army_traditions
		cost = 5
		allow_branch = {
			not = { is_subject_of = GER }
		}
		available = {
			or = {
			date > 1940.6.1
			any_enemy_country = {
				is_major_not_original_tag_root = yes
			}
			}
			or = {
			has_completed_focus = ITA_moschettieri_del_duce1
			has_completed_focus = ITA_carica_di_isbuscenskij
			}
		}
		ai_will_do = {
			factor = 80
		}
		search_filters = {FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			if = {
			limit = {
			has_idea = ita_aqua_army3
			}
			swap_ideas = {
			remove_idea = ita_aqua_army3
			add_idea = ita_aqua_army4
			}
			}
			if = {
			limit = {
			has_idea = ita_anqiaonvzixueyuan3
			}
			swap_ideas = {
			remove_idea = ita_anqiaonvzixueyuan3
			add_idea = ita_anqiaonvzixueyuan4
			}
			}
			swap_ideas = {
			remove_idea = ita_shaonvguofangjun4
			add_idea = ita_shaonvguofangjun5
			}

			army_experience = 50
		}
	}

	focus = {
		id = ITA_italian_tankettes
		icon = GFX_focus_generic_tankette
		prerequisite = {  focus = ITA_a_bandits_war }

		x = 5
		y = 1
		relative_position_id = ITA_preserve_army_traditions
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			
			swap_ideas = {
			remove_idea = ita_anqiaonvzixueyuan1
			add_idea = ita_anqiaonvzixueyuan2
			}
			
			add_tech_bonus = {
				name = ITA_italian_tankettes
				bonus = 1.5
				uses = 1
				category = cat_light_armor
			}

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

		}
	}

	focus = {
		id = ITA_bersaglieri
		icon = GFX_focus_ITA_bersaglieri
		prerequisite = { focus = ITA_army_leaders focus = ITA_italian_tankettes }
		prerequisite = { focus = ITA_superesercito }

		x = 1
		y = 1
		relative_position_id = ITA_army_leaders
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_ARMY_XP FOCUS_FILTER_RESEARCH FOCUS_FILTER_MANPOWER}

		completion_reward = {
			army_experience = 15

			add_tech_bonus = {
				name = ITA_bersaglieri
				bonus = 0.75
				uses = 2
				category = cat_special_forces_generic
			}

			set_technology = { bicycle_infantry = 1 popup = no }

			division_template = { 
				name = "Reggimento Bersaglieri" 
				division_names_group = ITA_INF_01 #TODO_Manu: Namelist: 1º,2º... Reggimento Bersaglieri
				regiments = { 
					bicycle_battalion = { x = 0 y = 0 }
					bicycle_battalion = { x = 0 y = 1 }
					bicycle_battalion = { x = 1 y = 0 }
					bicycle_battalion = { x = 1 y = 1 }
				}
				support = { 
					engineer = { x = 0 y = 0 }
					artillery = { x = 0 y = 1 }
					#anti_tank = { x = 0 y = 2 }
				}
			}
			capital_scope = {
				create_unit = {
					division = "division_template = \"Reggimento Bersaglieri\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
					owner = ROOT
					count = 3
				}
			}
		}
	}

	focus = {
		id = ITA_divisioni_alpine
		icon = GFX_focus_ITA_alpine_division
		prerequisite = { focus = ITA_bersaglieri }

		x = -1
		y = 1
		relative_position_id = ITA_bersaglieri
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP}

		completion_reward = {

			army_experience = 15

			add_tech_bonus = {
				name = ITA_divisioni_alpine
				bonus = 1.5
				uses = 1
				category = mountaineers_tech
			}
			
		}
	}

	focus = {
		id = ITA_fanti_dell_aria
		icon = GFX_focus_generic_paratrooper
		prerequisite = { focus = ITA_bersaglieri }

		x = 0
		y = 2
		relative_position_id = ITA_bersaglieri
		cost = 5
		available = {
			has_tech = paratroopers
		}

		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP FOCUS_FILTER_MANPOWER}

		completion_reward = {
			
			army_experience = 15

			hidden_effect = {
				if = {
					limit = {
						NOT = { has_template = "Paratroopers" }
					}
					load_oob = "unlock_paratroopers"
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					is_fully_controlled_by = ROOT
				}
				prioritize = { 2 162 117 158 }
				custom_effect_tooltip = ITA_fanti_dell_aria_spawn_divs_tt
				hidden_effect = {
					create_unit = {
						division = "division_template = \"Paratroopers\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 3
					}
				}
			}
			#ASCARI
			if = {
				limit = {
					any_owned_state = {
						is_core_of = LBA
						is_fully_controlled_by = ROOT
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = LBA
						is_fully_controlled_by = ROOT
					}
					prioritize = { 448 450 }
					custom_effect_tooltip = ITA_fanti_dell_aria_spawn_divs_libya_tt
					hidden_effect = {
						create_unit = {
							division = "name = \"Ascari del Cielo\" division_template = \"Paratroopers\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = {
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
						}
					}
				}
				random_subject_country = {
					limit = {
						any_controlled_state = {
							is_core_of = LBA
							is_fully_controlled_by = PREV
						}
					}
					random_owned_controlled_state = {
						limit = {
							is_core_of = LBA
							is_fully_controlled_by = ROOT
						}
						prioritize = { 448 450 }
						custom_effect_tooltip = ITA_fanti_dell_aria_spawn_divs_libya_tt
						hidden_effect = {
							create_unit = {
								division = "name = \"Ascari del Cielo\" division_template = \"Paratroopers\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
								owner = ROOT
								count = 1
							}
						}
					}
				}
			}

			add_tech_bonus = {
				name = ITA_fanti_dell_aria
				bonus = 1.5
				uses = 1
				category = para_tech
			}
		}
	}

	focus = {
		id = ITA_self_propelled_guns
		icon = GFX_focus_generic_self_propelled_gun
		prerequisite = { focus = ITA_army_leaders focus = ITA_italian_tankettes }
		prerequisite = { focus = ITA_superesercito }

		x = 1
		y = 1
		relative_position_id = ITA_superesercito
		cost = 5
		available = {
			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				has_tech = basic_medium_tank_chassis
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ARMY_XP}

		completion_reward = {

			add_tech_bonus = {
				name = ITA_self_propelled_guns
				bonus = 1
				uses = 2
				category = artillery
			}

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			
			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				ITA_add_basic_medium_tank_templates = yes
			}
		}
	}

	focus = {
		id = ITA_end_fiat_ansaldo_duopoly
		icon = GFX_focus_ITA_fiat_ansaldo_duopoly
		prerequisite = { focus = ITA_self_propelled_guns }
		mutually_exclusive = { focus = ITA_modernize_ansaldo_facilities }
		x = -1
		y = 1
		relative_position_id = ITA_self_propelled_guns
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			add_ideas = ITA_jieshulongduan
		}
	}

	focus = {
		id = ITA_modernize_ansaldo_facilities
		icon = GFX_focus_ITA_modernize_ansaldo_facilities
		prerequisite = { focus = ITA_self_propelled_guns }
		mutually_exclusive = { focus = ITA_end_fiat_ansaldo_duopoly }
		x = 1
		y = 1
		relative_position_id = ITA_self_propelled_guns
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_ideas = ITA_xiandaihua
		}
	}

	focus = {
		id = ITA_ferrea_mole_ferreo_cuore
		icon = GFX_focus_ITA_ferrea_mole_ferreo_cuore
		prerequisite = { focus = ITA_end_fiat_ansaldo_duopoly focus = ITA_modernize_ansaldo_facilities }

		x = 1
		y = 1
		relative_position_id = ITA_end_fiat_ansaldo_duopoly
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			add_ideas = ITA_gjgtsx

			army_experience = 50

			add_tech_bonus = {
				name = ITA_ferrea_mole_ferreo_cuore
				bonus = 1
				uses = 2
				category = armor
			}

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = ITA_air_innovations_bba
		icon = GFX_goal_expand_the_luftwaffe

		x = 7
		y = 0
		relative_position_id = ITA_army_primacy_bba
		cost = 5
		available = {
		}
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIR_XP}
		allow_branch = {
			not = { is_subject_of = GER }
		}
		completion_reward = {
			air_experience = 25

			add_tech_bonus = {
				name = ITA_air_innovations_bba #fighter_bonus
				bonus = 0.5
				uses = 1
				category = light_fighter
			}

			add_doctrine_cost_reduction = {
				name = air_doc_bonus
				cost_reduction = 0.5
				uses = 2
				category = air_doctrine
			}
		}
	}

	focus = {
		id = ITA_citta_dell_aria
		icon = GFX_focus_generic_aircraft_production
		prerequisite = { focus = ITA_air_innovations_bba }

		x = 0
		y = 1
		relative_position_id = ITA_air_innovations_bba
		cost = 5
		available = {
			has_full_control_of_state = 2
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = ITA_citta_dell_aria
				bonus = 0.25
				uses = 2
				category = air_equipment
			}

			if = {
				limit = {
					2 = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
				}
				2 = { #LATIUM (Rome)
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 157 849 117 } #ABRUZZO as main fallback
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				ITA_add_citta_dell_aria_templates = yes
			}
		}
	}

	focus = {
		id = ITA_expand_rome_flying_school
		icon = GFX_focus_generic_military_academy
		prerequisite = { focus = ITA_air_innovations_bba }

		x = 4
		y = 1
		relative_position_id = ITA_air_innovations_bba
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_AIR_XP}

		completion_reward = {
			add_to_variable = { ITA_ra_air_ace_generation_chance_factor = 0.05 }
			add_to_variable = { ITA_ra_air_night_penalty = -0.1 }
			add_to_variable = { ITA_ra_air_weather_penalty = -0.1 }
			add_to_variable = { ITA_ra_air_training_xp_gain_factor = 0.05 }
			custom_effect_tooltip = ITA_expand_rome_flying_school_ra_tt

			air_experience = 25

			custom_effect_tooltip = ITA_reduced_chance_of_air_accidents_tt
		}
	}

	focus = {
		id = ITA_reggianes_exports
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = ITA_citta_dell_aria }

		x = -2
		y = 1
		relative_position_id = ITA_citta_dell_aria
		cost = 4
		available = {
			has_full_control_of_state = 161
		}

		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}

		completion_reward = {

			if = {
				limit = {
					161 = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
				}
				161 = { #EMILIA ROMAGNA (Reggio Emilio)
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 162 157 } #TOSCANA as main fallback
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}

			add_tech_bonus = {
				name = ITA_reggianes_exports
				bonus = 0.50
				uses = 1
				category = air_equipment #Maybe more specific stuff? (Light/Medium bombers, fighters...)
			}

			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				ITA_add_reggianes_exports_templates = yes
			}
		}
	}

	focus = {
		id = ITA_diving_bombers
		icon = GFX_goal_poland_goal
		prerequisite = { focus = ITA_citta_dell_aria }
		prerequisite = { focus = ITA_expand_rome_flying_school }

		x = 2
		y = 1
		relative_position_id = ITA_citta_dell_aria
		cost = 4
		available = {
		}

		search_filters = {FOCUS_FILTER_AIR_XP}

		completion_reward = {
			air_experience = 15
			if = {
				limit = {
					country_exists = GER
					NOT = { has_war_with = GER }
				}
				add_equipment_to_stockpile = { 
					type = small_plane_cas_airframe_1
					amount = 100
					producer = GER
					variant_name = "Ju 87"
				}
			}
			else = {
				add_tech_bonus = {
					name = ITA_diving_bombers
					bonus = 0.5
					uses = 1
					category = cas_bomber
					category = naval_bomber
				}	
			}
			#NTH_Manu: Sends a request to Germany to purchase CAS and/or licensing design templates (historically 100 Ju87)
		}
	}

	focus = {
		id = ITA_superaereo
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = ITA_citta_dell_aria }

		x = 0
		y = 1
		relative_position_id = ITA_citta_dell_aria
		cost = 5
		available = {
			or = {
			date > 1940.6.1
			any_enemy_country = {
				is_major_not_original_tag_root = yes
			}
			}
		}

		search_filters = {FOCUS_FILTER_AIR_XP}

		completion_reward = {
			add_to_variable = { ITA_ra_air_mission_efficiency = 0.05 }
			add_to_variable = { ITA_ra_air_mission_xp_gain_factor = 0.05 }
			add_to_variable = { ITA_ra_air_doctrine_cost_factor = -0.1 }
			custom_effect_tooltip = ITA_superaereo_ra_tt

			air_experience = 50
			#if = {
			#	limit = {
			#		has_dlc = "No Step Back"
			#	}
			#	custom_effect_tooltip = "TODO_Manu: Cost reduction for Airforce spirits. Code support"
			#}

			#Update NS icon
			ITA_improve_regia_aeronautica_dm_effect = yes
		}
	}

	focus = {
		id = ITA_officers_of_the_service_role
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = ITA_superaereo }
		prerequisite = { focus = ITA_expand_rome_flying_school }

		x = 3
		y = 1
		relative_position_id = ITA_superaereo
		cost = 5
		available = {
			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				has_tech = improved_small_airframe
				has_tech = improved_medium_airframe
			}
			else = {
				has_tech = fighter2
				has_tech = tactical_bomber2
			}
		}

		search_filters = {FOCUS_FILTER_AIR_XP}

		completion_reward = {
			add_to_variable = { ITA_ra_air_night_penalty = -0.05 }
			add_to_variable = { ITA_ra_air_weather_penalty = -0.05 }
			add_to_variable = { ITA_ra_air_accidents_factor = -0.1 }
			custom_effect_tooltip = ITA_officers_of_the_service_role_ra_tt

			air_experience = 25

			add_ace = {
				type = "fighter_good"
				name = "Adriano"
				surname = "Visconti"
				callsign = "Tigre" #Totally made up
			}
			add_ace = { #Ace is a fighter pilot really
				type = "bomber_unique"
				name = "Vittorio"
				surname = "Sanseverino"
				callsign = "Postino" #Totally made up
			}

			custom_effect_tooltip = ITA_reduced_chance_of_air_accidents_tt
		}
	}

	focus = {
		id = ITA_standardization
		icon = GFX_goal_generic_production2
		prerequisite = { focus = ITA_superaereo }
		mutually_exclusive = { focus = ITA_specialization }
		x = -1
		y = 1
		relative_position_id = ITA_superaereo
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_ideas = ita_speed_power
			add_tech_bonus = {
				name = ITA_standardization
				bonus = 0.75
				uses = 1
				category = tactical_bomber
				category = light_fighter
				category = cat_strategic_bomber
			}

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			#Update NS icon
			ITA_improve_regia_aeronautica_dm_effect = yes
		}
	}

	focus = {
		id = ITA_specialization
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = ITA_superaereo }
		mutually_exclusive = { focus = ITA_standardization }
		x = 1
		y = 1
		relative_position_id = ITA_superaereo
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_AIR_XP}

		completion_reward = {
			add_ideas = ita_shaonvfeixingyuan

			air_experience = 15
	
			add_tech_bonus = {
				name = ITA_specialization
				bonus = 0.5
				uses = 2
				category = air_equipment
			}

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			#Update NS icon
			ITA_improve_regia_aeronautica_dm_effect = yes
		}
	}


	focus = {
		id = ITA_long_range_aircraft
		icon = GFX_focus_generic_long_range_aircraft
		prerequisite = { focus = ITA_standardization }

		x = -2
		y = 1
		relative_position_id = ITA_standardization
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_to_variable = { ITA_ra_strategic_bomb_visibility = -0.05 }
			add_to_variable = { ITA_ra_air_strategic_bomber_bombing_factor = 0.05 }
			add_to_variable = { ITA_ra_air_range_factor = 0.05 }
			custom_effect_tooltip = ITA_long_range_aircraft_ra_tt

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				ITA_add_long_range_aircraft_templates = yes
			}
		}
	}

	focus = {
		id = ITA_bomber_designs
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = ITA_standardization focus = ITA_specialization }

		x = 2
		y = 0
		relative_position_id = ITA_long_range_aircraft
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_AIR_XP}

		completion_reward = {
			air_experience = 25

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				ITA_add_bomber_designs_templates = yes
			}
		}
	}

	focus = {
		id = ITA_fighter_designs
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = ITA_standardization focus = ITA_specialization }

		x = 4
		y = 0
		relative_position_id = ITA_long_range_aircraft
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_AIR_XP}

		completion_reward = {
			air_experience = 25
			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				ITA_add_fighter_designs_templates = yes
			}
		}
	}

	focus = {
		id = ITA_multirole_aircraft
		icon = GFX_focus_generic_multi_role_aircraft
		prerequisite = { focus = ITA_specialization }

		x = 6
		y = 0
		relative_position_id = ITA_long_range_aircraft
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_AIR_XP}

		completion_reward = {
			swap_ideas = {
			remove_idea = ita_shaonvfeixingyuan
			add_idea = ita_shaonvfeixingyuan1
			}

			add_to_variable = { ITA_ra_air_mission_xp_gain_factor = 0.1 }
			custom_effect_tooltip = ITA_multirole_aircraft_ra_tt

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}

			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				ITA_add_multirole_aircraft_templates = yes
			}
		}
	}

	focus = {
		id = ITA_supremacy_in_the_skies
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = ITA_multirole_aircraft focus = ITA_long_range_aircraft focus = ITA_fighter_designs focus = ITA_bomber_designs }

		x = 1
		y = 1
		relative_position_id = ITA_bomber_designs
		cost = 7
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_AIR_XP}

		completion_reward = {
			add_to_variable = { ITA_ra_air_superiority_bonus_in_combat = 0.05 }
			add_to_variable = { ITA_ra_air_superiority_efficiency = 0.05 }
			add_to_variable = { ITA_ra_air_intercept_efficiency = 0.05 }
			custom_effect_tooltip = ITA_supremacy_in_the_skies_ra_tt

			air_experience = 50

			random_core_state = {
				limit = {
					is_fully_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}

			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				ITA_add_supremacy_in_the_skies_templates = yes
			}
		}
	}


########  ########  ######   ####    ###       ##     ##    ###    ########  #### ##    ##    ###    
##     ## ##       ##    ##   ##    ## ##      ###   ###   ## ##   ##     ##  ##  ###   ##   ## ##   
##     ## ##       ##         ##   ##   ##     #### ####  ##   ##  ##     ##  ##  ####  ##  ##   ##  
########  ######   ##   ####  ##  ##     ##    ## ### ## ##     ## ########   ##  ## ## ## ##     ## 
##   ##   ##       ##    ##   ##  #########    ##     ## ######### ##   ##    ##  ##  #### ######### 
##    ##  ##       ##    ##   ##  ##     ##    ##     ## ##     ## ##    ##   ##  ##   ### ##     ## 
##     ## ########  ######   #### ##     ##    ##     ## ##     ## ##     ## #### ##    ## ##     ## 


	focus = {
		id = ITA_naval_power_projection
		icon = GFX_goal_generic_build_navy

		x = 11
		y = 0
		relative_position_id = ITA_air_innovations_bba
		cost = 5
		allow_branch = {
			not = { is_subject_of = GER }
		}
		available = {
		}
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			navy_experience = 25
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}

			if = {
				limit = {
					NOT = {
						any_owned_state = {
							dockyard > 0
							free_building_slots = {
								building = dockyard
								size > 0
								include_locked = yes
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = dockyard
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}				
			}

			add_doctrine_cost_reduction = {
				name = naval_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
		}
	}

	focus = {
		id = ITA_intensify_torpedo_manufacturing
		icon = GFX_focus_generic_torpedo_production
		prerequisite = { focus = ITA_naval_power_projection }

		x = -2
		y = 1
		relative_position_id = ITA_naval_power_projection
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_to_variable = { ITA_rm_convoy_raiding_efficiency_factor = 0.05 }
			add_to_variable = { ITA_rm_naval_strike_attack_factor = 0.05 }
			add_to_variable = { ITA_rm_navy_submarine_attack_factor = 0.05 }
			custom_effect_tooltip = ITA_intensify_torpedo_manufacturing_rm_tt

			add_tech_bonus = {
				name = ITA_intensify_torpedo_manufacturing
				bonus = 1.0
				uses = 2
				category = cat_torpedoes
			}
		}
	}

	focus = {
		id = ITA_expand_naval_facilities
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = ITA_naval_power_projection }

		x = 0
		y = 1
		relative_position_id = ITA_naval_power_projection
		cost = 5
		available = {
			OR = {
				has_full_control_of_state = 162
				has_full_control_of_state = 736
				has_full_control_of_state = 114
				has_full_control_of_state = 117
				has_full_control_of_state = 849
				has_full_control_of_state = 852
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = {
				limit = {
					162 = {
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
				}
				162 = { #TUSCANY (La Spezia)
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 157 161 2 } #ABRUZZO as main fallback
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					736 = {
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
				}
				736 = { #LITORALE (Trieste)
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 852 160 161 } #ISTRIA as main fallback
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}

			114 = { #SARDINIA (Cagliari, La Maddalena)
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 6891 #La Maddalena
				}
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 11773 #Cagliari
				}
			}

			117 = { #CAMPAGNA (Napoli)
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 819 #Napoli
				}
			}

			849 = { #PUGLIA (Brindisi)
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 11998
				}
			}

			852 = { #ISTRIA (Fiume)
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = 11564
				}
			}
		}
	}

	focus = {
		id = ITA_oto_naval_guns
		icon = GFX_goal_generic_occupy_states_coastal
		prerequisite = { focus = ITA_naval_power_projection }

		x = 2
		y = 1
		relative_position_id = ITA_naval_power_projection
		cost = 5
		available = {
			has_full_control_of_state = 162
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_to_variable = { ITA_rm_navy_capital_ship_attack_factor = 0.05 }
			custom_effect_tooltip = ITA_oto_naval_guns_rm_tt

			if = {
				limit = {
					162 = {
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
				}
				162 = { #TUSCANY (La Spezia)
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 157 161 160 } #ABRUZZO as main fallback
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}

			add_tech_bonus = {
				name = ITA_oto_naval_guns
				bonus = 1.0
				uses = 2
				category = cat_ship_medium_battery
				category = cat_ship_heavy_battery
			}
		}
	}

	focus = {
		id = ITA_improve_overseas_naval_bases
		icon = GFX_focus_generic_coastal_fort
		prerequisite = { focus = ITA_expand_naval_facilities }

		x = -4
		y = 1
		relative_position_id = ITA_expand_naval_facilities
		cost = 10
		available = {
			OR = {
				has_full_control_of_state = 448
				has_full_control_of_state = 451
				has_full_control_of_state = 164
				has_full_control_of_state = 550
				has_full_control_of_state = 559
				has_full_control_of_state = 844
				has_full_control_of_state = 447
				has_full_control_of_state = 458
				has_full_control_of_state = 459
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			if = {
				limit = {
					has_full_control_of_state = 448
				}
				448 = { #TRIPOLI (Tripoli)
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 1149
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						instant_build = yes
						province = 1149
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 451
				}
				451 = { #DERNA (Tobruk)
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 1130
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						instant_build = yes
						province = 1130
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 164
				}
				164 = { #DODECANESE (Rhodes)
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 10007
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						instant_build = yes
						province = 10007
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 550
				}
				550 = { #ERITREA (Massaua)
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 12766
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						instant_build = yes
						province = 12766
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 559
				}
				559 = { #SOMALILAND (Mogadishu)
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 12991
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						instant_build = yes
						province = 12991
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 844
				}
				844 = { #JUBALAND (Kismaayo)
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 12941
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						instant_build = yes
						province = 12941
					}
				}
			}

			#EXTRA STATES
			if = {
				limit = {
					has_full_control_of_state = 447
				}
				447 = { #ALEXANDRIA (Alexandria)
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 4076
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						instant_build = yes
						province = 4076
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 458
				}
				458 = { #TUNISIA (Bizerte)
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 9994
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						instant_build = yes
						province = 9994
					}
				}
			}

			if = {
				limit = {
					has_full_control_of_state = 459
				}
				459 = { #ALGIERS (Oran)
					add_building_construction = {
						type = naval_base
						level = 1
						instant_build = yes
						province = 7132
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						instant_build = yes
						province = 7132
					}
				}
			}
		}
	}

	focus = {
		id = ITA_milizia_marittima_di_artiglieria
		icon = GFX_focus_ITA_milizia_marittima_di_artiglieria
		prerequisite = { focus = ITA_expand_naval_facilities }

		x = -2
		y = 1
		relative_position_id = ITA_expand_naval_facilities
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = ITA_milizia_marittima_di_artiglieria
				bonus = 1.0
				uses = 1
				category = artillery
			}

			custom_effect_tooltip = ITA_milizia_marittima_di_artiglieria_coastal_forts_tt
			every_owned_state = {
				limit = {
					is_fully_controlled_by = ROOT
					naval_base > 0
				}
				add_building_construction = {
					type = coastal_bunker
					level = 2
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_supermarina
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = ITA_expand_naval_facilities }

		x = 0
		y = 1
		relative_position_id = ITA_expand_naval_facilities
		cost = 5
		available = {
			or = {
			date > 1940.6.1
			any_enemy_country = {
				is_major_not_original_tag_root = yes
			}
			}
		}

		search_filters = {FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			add_to_variable = { ITA_rm_naval_doctrine_cost_factor = -0.1 }
			add_to_variable = { ITA_rm_naval_morale_factor = 0.1 }
			add_to_variable = { ITA_rm_strike_force_movement_org_loss = -0.05 }
			custom_effect_tooltip = ITA_supermarina_rm_tt

			navy_experience = 50
			#if = {
			#	limit = {
			#		has_dlc = "No Step Back"
			#	}
			#	custom_effect_tooltip = "TODO_Manu: Cost reduction for Navy spirits. Code support"
			#}

			#Update NS icon
			ITA_improve_regia_marina_dm_effect = yes
		}
	}

	focus = {
		id = ITA_stockpile_fuel
		icon = GFX_focus_generic_stockpile_fuel
		prerequisite = { focus = ITA_expand_naval_facilities }

		x = 2
		y = 1
		relative_position_id = ITA_expand_naval_facilities
		cost = 5
		available = {
			is_at_peace_exiled_countries_excluded = yes
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_timed_idea = { idea = ITA_stockpiling_fuel days = 730 }

			if = {
				limit = {
					849 = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = fuel_silo
							size > 0
							include_locked = yes
						}
					}
				}
				849 = { #PUGLIA (Taranto)
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = fuel_silo
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = fuel_silo
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 852 736 } #ISTRIA as main fallback
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = fuel_silo
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					117 = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = fuel_silo
							size > 0
							include_locked = yes
						}
					}
				}
				117 = { #Campagna (Napoli)
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = fuel_silo
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = fuel_silo
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 157 162 } #ABRUZZO as main fallback
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = fuel_silo
						level = 1
						instant_build = yes
					}
				}
			}

			if = {
				limit = {
					115 = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = fuel_silo
							size > 0
							include_locked = yes
						}
					}
				}
				115 = { #SICILY (Palermo)
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = fuel_silo
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				random_core_state = {
					limit = {
						is_controlled_by = ROOT
						free_building_slots = {
							building = fuel_silo
							size > 0
							include_locked = yes
						}
					}
					prioritize = { 156 114 } #CALABRIA as main fallback
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = fuel_silo
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = ITA_forza_navale_especiale
		icon = GFX_goal_generic_amphibious_assault
		prerequisite = { focus = ITA_expand_naval_facilities }

		x = 4
		y = 1
		relative_position_id = ITA_expand_naval_facilities
		cost = 8
		available = {
			has_tech = marines
		}

		search_filters = {FOCUS_FILTER_RESEARCH FOCUS_FILTER_MANPOWER}

		completion_reward = {
			add_to_variable = { ITA_rm_special_forces_cap = 0.02 }
			add_to_variable = { ITA_rm_amphibious_invasion = 0.05 }
			add_to_variable = { ITA_rm_naval_invasion_capacity = 10 }
			add_to_variable = { ITA_rm_invasion_preparation = -0.1 }
			custom_effect_tooltip = ITA_forza_navale_especiale_rm_tt

			hidden_effect = {
				if = {
					limit = {
						NOT = { has_template = "Marines" }
					}
					load_oob = "unlock_marines"
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					is_fully_controlled_by = ROOT
				}
				prioritize = { 2 162 117 158 }
				create_unit = {
					division = "division_template = \"Marines\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
					owner = ROOT
					count = 2
				}
			}
			#ASCARI
			if = {
				limit = {
					any_owned_state = {
						is_core_of = ERI
						is_fully_controlled_by = ROOT
					}
				}
				hidden_effect = {
					if = {
						limit = {
							has_tech = improved_infantry_weapons
						}
						division_template = {
							name = "Ascari di Marina"
							override_model = ITA_marine_2_alt_0_entity
							template_counter = 34
							obsolete = yes
							regiments = {
								marine = { x = 0 y = 0 }
								marine = { x = 0 y = 1 }
								marine = { x = 1 y = 0 }
								marine = { x = 1 y = 1 }
							}
						}
					}
					else = {		
						division_template = {
							name = "Ascari di Marina"
							override_model = ITA_marine_alt_0_entity
							template_counter = 34
							obsolete = yes
							regiments = {
								marine = { x = 0 y = 0 }
								marine = { x = 0 y = 1 }
								marine = { x = 1 y = 0 }
								marine = { x = 1 y = 1 }
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = ERI
						is_fully_controlled_by = ROOT
					}
					prioritize = { 550 }
					create_unit = {
						division = "name = \"1a Divisione Ascari di Marina\" division_template = \"Ascari di Marina\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
				}
			}
			else_if = {
				limit = {
					any_subject_country = {
						any_controlled_state = {
							is_core_of = ERI
							is_fully_controlled_by = PREV
						}
					}
				}
				hidden_effect = {
					if = {
						limit = {
							has_tech = improved_infantry_weapons
						}
						division_template = {
							name = "Ascari di Marina"
							override_model = ITA_marine_2_alt_0_entity
							template_counter = 34
							obsolete = yes
							regiments = {
								marine = { x = 0 y = 0 }
								marine = { x = 0 y = 1 }
								marine = { x = 1 y = 0 }
								marine = { x = 1 y = 1 }
							}
						}
					}
					else = {		
						division_template = {
							name = "Ascari di Marina"
							override_model = ITA_marine_alt_0_entity
							template_counter = 34
							obsolete = yes
							regiments = {
								marine = { x = 0 y = 0 }
								marine = { x = 0 y = 1 }
								marine = { x = 1 y = 0 }
								marine = { x = 1 y = 1 }
							}
						}
					}
				}
				random_subject_country = {
					limit = {
						any_controlled_state = {
							is_core_of = ERI
							is_fully_controlled_by = PREV
						}
					}
					random_owned_controlled_state = {
						limit = {
							is_core_of = ERI
							is_fully_controlled_by = ROOT
						}
						prioritize = { 550 }
						create_unit = {
							division = "name = \"1a Divisione Ascari di Marina\" division_template = \"Ascari di Marina\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
							owner = ROOT
							count = 1
						}
					}
				}
			}

			add_tech_bonus = {
				name = ITA_forza_navale_especiale
				bonus = 1.0
				uses = 2
				category = marine_tech
				category = tp_tech
			}

			if = {
				limit = {
					NOT = { has_completed_focus = ITA_strengthen_ascari_corps }
					NOT = { has_completed_focus = ITA_forza_navale_especiale }
				}
				custom_effect_tooltip = ITA_strengthen_ascari_corps_ibrahim_farag_mohammed_tt
			}
			show_unit_leaders_tooltip = ITA_ibrahim_farag_mohammed
		}
	}

	focus = {
		id = ITA_naval_air_coordination
		icon = GFX_goal_generic_air_naval_bomber
		prerequisite = { focus = ITA_supermarina }
		prerequisite = { focus = ITA_expand_rome_flying_school }

		x = -6
		y = 1
		relative_position_id = ITA_supermarina
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_AIR_XP FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_to_variable = { ITA_rm_naval_coordination = 0.05 }
			add_to_variable = { ITA_rm_spotting_chance = 0.1 }
			add_to_variable = { ITA_rm_naval_strike_agility_factor = 0.05 }
			custom_effect_tooltip = ITA_naval_air_coordination_rm_tt

			air_experience = 25
			navy_experience = 25

			add_tech_bonus = {
				name = ITA_naval_air_coordination
				bonus = 1.0
				uses = 2
				category = naval_bomber
			}

			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				ITA_naval_air_coordination_templates = yes
			}

			add_ace = {
				type = "support_unique"
				name = "Giulio" #MM: Real name Giulio Cesare Graziani but art won't hook-in with double name :D
				surname = "Graziani"
				callsign = "Torpedo Twin"
			}
			add_ace = {
				type = "support_good"
				name = "Carlo"
				surname = "Faggioni"
				callsign = "Torpedo Twin"
			}
		}
	}

	focus = {
		id = ITA_decima_flottiglia_mas
		icon = GFX_focus_ITA_decima_flottiglia_mas
		prerequisite = { focus = ITA_supermarina }

		x = -4
		y = 1
		relative_position_id = ITA_supermarina
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			add_to_variable = { ITA_rm_convoy_raiding_efficiency_factor = 0.02 }
			add_to_variable = { ITA_rm_naval_critical_score_chance_factor = 0.02 }
			add_to_variable = { ITA_rm_sub_retreat_speed = 0.05 }
			custom_effect_tooltip = ITA_decima_flottiglia_mas_rm_tt

			navy_experience = 25

			show_unit_leaders_tooltip = ITA_junio_valerio_borghese

			#TODO_Manu: Nice to have -> New Operation for damaging enemy ships docked in nearby docks with human torpedoes
		}
	}

	focus = {
		id = ITA_incrociatori_leggeri
		icon = GFX_focus_generic_cruiser2
		prerequisite = { focus = ITA_supermarina }
		mutually_exclusive = { focus = ITA_incrociatori_pesanti }
		x = -2
		y = 1
		relative_position_id = ITA_supermarina
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			

			navy_experience = 25

			add_doctrine_cost_reduction = {
				name = ITA_incrociatori_leggeri
				cost_reduction = 0.75
				uses = 2
				category = cat_trade_interdiction
			}

			add_tech_bonus = {
				name = ITA_incrociatori_leggeri
				bonus = 1.5
				uses = 1
				category = cl_tech
			}

			#Update NS icon
			ITA_improve_regia_marina_dm_effect = yes
		}
	}

	focus = {
		id = ITA_incrociatori_pesanti
		icon = GFX_focus_generic_navy_battleship2
		prerequisite = { focus = ITA_supermarina }
		mutually_exclusive = { focus = ITA_incrociatori_leggeri }
		x = 2
		y = 1
		relative_position_id = ITA_supermarina
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_XP}

		completion_reward = {
					

			navy_experience = 25

			add_doctrine_cost_reduction = {
				name = ITA_incrociatori_pesanti
				cost_reduction = 0.75
				uses = 2
				category = cat_fleet_in_being
			}

			add_tech_bonus = {
				name = ITA_incrociatori_pesanti
				bonus = 1.5
				uses = 1
				category = ca_tech
			}

			#Update NS icon
			ITA_improve_regia_marina_dm_effect = yes
		}
	}

	focus = {
		id = ITA_expand_naval_intelligence
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = ITA_supermarina }

		x = 4
		y = 1
		relative_position_id = ITA_supermarina
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			add_to_variable = { ITA_rm_decryption_factor = 0.05 }
			add_to_variable = { ITA_rm_navy_intel_factor = 0.1 }
			custom_effect_tooltip = ITA_expand_naval_intelligence_rm_tt

			navy_experience = 25
		}
	}

	focus = {
		id = ITA_cooperation_programs
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = ITA_supermarina }

		x = 6
		y = 1
		relative_position_id = ITA_supermarina
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			navy_experience = 100
			
		}
	}

	focus = {
		id = ITA_cruiser_submarines
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = ITA_incrociatori_leggeri }
		mutually_exclusive = { focus = ITA_midget_submarines }
		x = -4
		y = 1
		relative_position_id = ITA_incrociatori_leggeri
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			navy_experience = 15
			add_doctrine_cost_reduction = {
				name = ITA_cruiser_submarines
				cost_reduction = 0.5
				uses = 1
				category = trade_interdiction_tree
			}

			add_tech_bonus = {
				name = ITA_cruiser_submarines
				bonus = 1.0
				uses = 1
				category = ss_tech
			}

			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				set_technology = { cruiser_submarines = 1 }

				create_equipment_variant = {
					name = "Cagni Class"
					type = ship_hull_cruiser_submarine
					allow_without_tech = yes # Display tooltip as if we have the tech.
					name_group = ITA_SS_HISTORICAL #TODO_Manu: Namelist
					parent_version = 0
					allow_without_tech = yes # Display tooltip as if we have the tech.
					modules = {
						fixed_ship_torpedo_slot = ship_torpedo_sub_1
						fixed_ship_engine_slot = sub_ship_engine_2
						front_1_custom_slot = ship_torpedo_sub_1
						mid_1_custom_slot = empty
						rear_1_custom_slot = ship_torpedo_sub_1
					}
				}
				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_cruiser_submarine
						creator = "ITA"
						version_name = "Cagni Class"
					}
					name = "Ammiraglio Cagni"
					requested_factories = 1
					progress = 0.35
					amount = 2
				}
				add_equipment_production = {
					equipment = {
						type = ship_hull_cruiser_submarine
						creator = "ITA"
						version_name = "Cagni Class"
					}
					name = "Ammiraglio Millo"
					requested_factories = 1
					progress = 0.35
					amount = 2
				}
			}
			
			random_owned_controlled_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
				}
				prioritize = { 736 160 } #TRIESTE / VENETO
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_midget_submarines
		icon = GFX_focus_generic_midget_submarines
		prerequisite = { focus = ITA_incrociatori_leggeri }
		mutually_exclusive = { focus = ITA_cruiser_submarines }
		x = -2
		y = 1
		relative_position_id = ITA_incrociatori_leggeri
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			navy_experience = 15
			add_doctrine_cost_reduction = {
				name = ITA_midget_submarines
				cost_reduction = 0.5
				uses = 1
				category = trade_interdiction_tree
			}

			add_tech_bonus = {
				name = ITA_midget_submarines
				bonus = 1.0
				uses = 1
				category = ss_tech
			}

			###########
			### MTG ###
			###########
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				set_technology = { midget_submarines = 1 }

				create_equipment_variant = {
					name = "CB Class"
					type = ship_hull_midget_submarine
					allow_without_tech = yes # Display tooltip as if we have the tech.
					name_group = ITA_SS_HISTORICAL #TODO_Manu: Namelist
					parent_version = 0
					allow_without_tech = yes # Display tooltip as if we have the tech.
					modules = {
						fixed_ship_torpedo_slot = ship_torpedo_sub_2
						fixed_ship_engine_slot = sub_ship_engine_2
					}
				}

				add_equipment_production = {
					equipment = {
						type = ship_hull_midget_submarine
						creator = "ITA"
						version_name = "CB Class"
					}
					name = "Ammiraglio Millo"
					requested_factories = 1
					progress = 0.35
					amount = 2
				}
			}

			random_owned_controlled_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
				}
				prioritize = { 158 } #PIEDMONT (Built by Caproni, potentially in Milano, so Genova due to proximity)
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}

			
		}
	}

	focus = {
		id = ITA_cacciatorpediniere_di_scorta
		icon = GFX_focus_generic_destroyer
		prerequisite = { focus = ITA_incrociatori_leggeri }

		x = 0
		y = 1
		relative_position_id = ITA_incrociatori_leggeri
		cost = 5
		available = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				has_tech = improved_ship_hull_light
				has_tech = sonar
				#has_tech = improved_ship_torpedo_launcher #Granting it anyways
				#has_tech = improved_depth_charges #Granting it anyways
			}
			else = {
				has_tech = improved_destroyer
			}
			has_tech = decimetric_radar
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			navy_experience = 15
			add_doctrine_cost_reduction = {
				name = ITA_cacciatorpediniere_di_scorta
				cost_reduction = 0.50
				uses = 2
				category = convoy_defense_tree
			}

			add_tech_bonus = {
				name = ITA_cacciatorpediniere_di_scorta
				bonus = 1.0
				uses = 1
				category = dd_tech
			}

			###########
			### MTG ###
			###########
			if = { #MTG 
				limit = {
					has_dlc = "Man the Guns"
				}
				#Equipment Variant
				if = {
					limit = {
						has_tech = basic_dp_light_battery
					}
					create_equipment_variant = {
						name = "Comandanti Medaglie d'Oro Class"
						type = ship_hull_light_3
						name_group = ITA_DD_HISTORICAL
						parent_version = 0
						allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
						modules = {
							fixed_ship_battery_slot = dp_light_battery_2
							fixed_ship_anti_air_slot = ship_anti_air_2
							fixed_ship_fire_control_system_slot = ship_sonar_1
							fixed_ship_radar_slot = ship_radar_1
							fixed_ship_engine_slot = light_ship_engine_2
							fixed_ship_torpedo_slot = ship_torpedo_2
							mid_1_custom_slot = ship_mine_layer_1
							rear_1_custom_slot = ship_depth_charge_2
							front_1_custom_slot = dp_light_battery_2
						}
					}
				}
				else = {
					create_equipment_variant = {
						name = "Comandanti Medaglie d'Oro Class"
						type = ship_hull_light_3
						name_group = ITA_DD_HISTORICAL #TODO_Manu: Name List
						parent_version = 0
						allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
						modules = {
							fixed_ship_battery_slot = ship_light_battery_2
							fixed_ship_anti_air_slot = ship_anti_air_2
							fixed_ship_fire_control_system_slot = ship_sonar_1
							fixed_ship_radar_slot = ship_radar_1
							fixed_ship_engine_slot = light_ship_engine_2
							fixed_ship_torpedo_slot = ship_torpedo_2
							mid_1_custom_slot = ship_mine_layer_1
							rear_1_custom_slot = ship_depth_charge_2
							front_1_custom_slot = ship_light_battery_2
						}
					}
				}
				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_light_3
						creator = "ITA"
						version_name = "Comandanti Medaglie d'Oro Class"
					}
					name = "Comandante Margottini"
					requested_factories = 2
					progress = 0.35
					amount = 3
				}
			}

			##############
			### NO MTG ###
			##############
			else = {
				create_equipment_variant = {
					name = "Comandanti Medaglie d'Oro Class"
					type = destroyer_3
					allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
					upgrades = {
						ship_torpedo_upgrade = 2
						destroyer_engine_upgrade = 2
						ship_ASW_upgrade = 2
						ship_anti_air_upgrade = 2
					}
				}
				add_equipment_production = {
					equipment = {
						type = destroyer_3
						creator = "ITA"
						version_name = "Comandanti Medaglie d'Oro Class"
					}
					requested_factories = 2
					progress = 0.35
					amount = 3
				}
			}

			random_owned_controlled_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
				}
				prioritize = { 162 158 } ##TUSCANY (Livorno) / PIEDMONT (Genova) (First ones built in Genova, others in Livorno, but Genova already receives a bunch of buildings)
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_ispettorato_dei_mezzi_antisommergibili
		icon = GFX_goal_generic_navy_submarine
		prerequisite = { focus = ITA_incrociatori_leggeri focus = ITA_incrociatori_pesanti }

		x = 2
		y = 1
		relative_position_id = ITA_incrociatori_leggeri
		cost = 5
		available = {
			has_tech = improved_depth_charges
			has_tech = sonar
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_to_variable = { ITA_rm_naval_detection = 0.1 }
			custom_effect_tooltip = ITA_ispettorato_dei_mezzi_antisommergibili_rm_tt

			navy_experience = 15

			add_tech_bonus = {
				name = ITA_ispettorato_dei_mezzi_antisommergibili
				ahead_reduction = 2
				uses = 1
				category = asw_tech
			}

			###########
			### MTG ###
			###########
			if = { #MTG 
				limit = {
					has_dlc = "Man the Guns"
				}
				#Equipment Variant
				if = {
					limit = {
						has_tech = improved_sonar
					}
					create_equipment_variant = {
						name = "Gabbiano Class"
						type = ship_hull_light_1
						name_group = ITA_DD_HISTORICAL
						parent_version = 0
						allow_without_tech = yes #Makes no difference since ITA already has tech, but in order to keep it consistent
						modules = {
							fixed_ship_battery_slot = ship_light_battery_1
							fixed_ship_anti_air_slot = ship_anti_air_2
							fixed_ship_fire_control_system_slot = ship_sonar_2
							fixed_ship_radar_slot = empty
							fixed_ship_engine_slot = light_ship_engine_1
							fixed_ship_torpedo_slot = ship_torpedo_1
							mid_1_custom_slot = ship_depth_charge_2
							rear_1_custom_slot = ship_depth_charge_2
							#front_1_custom_slot = ship_light_battery_2
						}
					}
				}
				else = {
					create_equipment_variant = {
						name = "Gabbiano Class"
						type = ship_hull_light_1
						name_group = ITA_DD_HISTORICAL #TODO_Manu: Name List
						parent_version = 0
						allow_without_tech = yes #Makes no difference since ITA already has tech, but in order to keep it consistent
						modules = {
							fixed_ship_battery_slot = ship_light_battery_1
							fixed_ship_anti_air_slot = ship_anti_air_2
							fixed_ship_fire_control_system_slot = ship_sonar_1
							fixed_ship_radar_slot = empty
							fixed_ship_engine_slot = light_ship_engine_1
							fixed_ship_torpedo_slot = ship_torpedo_1
							mid_1_custom_slot = ship_depth_charge_2
							rear_1_custom_slot = ship_depth_charge_2
							#front_1_custom_slot = ship_light_battery_2
						}
					}
				}
				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_light_1
						creator = "ITA"
						version_name = "Gabbiano Class"
					}
					name = "Antilope"
					requested_factories = 1
					progress = 0.35
					amount = 3
				}
				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_light_1
						creator = "ITA"
						version_name = "Gabbiano Class"
					}
					name = "Camoscio"
					requested_factories = 1
					progress = 0.35
					amount = 3
				}
			}

			##############
			### NO MTG ###
			##############
			else = {
				if = {
					limit = {
						NOT = { has_tech = improved_destroyer }
					}
					set_technology = { improved_destroyer = 1 }
				}
				create_equipment_variant = {
					name = "Gabbiano Class"
					type = destroyer_1
					upgrades = {
						ship_torpedo_upgrade = 1
						destroyer_engine_upgrade = 1
						ship_ASW_upgrade = 3
						ship_anti_air_upgrade = 2
					}
				}
				add_equipment_production = {
					equipment = {
						type = destroyer_1
						creator = "ITA"
						version_name = "Gabbiano Class"
					}
					requested_factories = 2
					progress = 0.35
					amount = 3
				}
			}

			random_owned_controlled_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
				}
				prioritize = { 162 117 } ##TUSCANY (La Spezia) / CAMPANIA (Napoli) (Napoli just to split it up a little bit)
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_navi_da_battaglia
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = ITA_incrociatori_pesanti }

		x = 0
		y = 1
		relative_position_id = ITA_incrociatori_pesanti
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			navy_experience = 15
			add_doctrine_cost_reduction = {
				name = ITA_navi_da_battaglia
				cost_reduction = 0.50
				uses = 2
				category = fleet_in_being_tree
			}

			add_tech_bonus = {
				name = ITA_navi_da_battaglia
				bonus = 1.5
				uses = 1
				category = bb_tech
			}

			###########
			### MTG ###
			###########
			if = { #MTG 
				limit = {
					has_dlc = "Man the Guns"
				}
				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "ITA"
						version_name = "Littorio Class"
					}
					name = "Roma"
					requested_factories = 1
					progress = 0.45
					amount = 1
				}

				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_heavy_2
						creator = "ITA"
						version_name = "Littorio Class"
					}
					name = "Impero"
					requested_factories = 1
					progress = 0.45
					amount = 1
				}
			}

			##############
			### NO MTG ###
			##############
			else = {
				add_equipment_production = {
					equipment = {
						type = battleship_2
						creator = "ITA"
						version_name = "Littorio Class"
					}
					requested_factories = 1
					progress = 0.45
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = battleship_2
						creator = "ITA"
						version_name = "Littorio Class"
					}
					requested_factories = 1
					progress = 0.45
					amount = 1
				}
			}

			random_owned_controlled_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
				}
				prioritize = { 736 158 } ##LITORALE (Trieste) / PIEDMONT (Genova)
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_proper_carriers
		icon = GFX_goal_generic_navy_carrier
		prerequisite = { focus = ITA_incrociatori_pesanti }
		mutually_exclusive = { focus = ITA_refit_civilian_ships }
		x = 2
		y = 1
		relative_position_id = ITA_incrociatori_pesanti
		cost = 5
		available = {
			if = { # MTG tech
				limit = {
					has_dlc = "Man the Guns"
				}
				has_tech = early_ship_hull_carrier
			}
			else = { #Non-MTG tech
				has_tech = early_carrier
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			navy_experience = 15
			add_tech_bonus = {
				name = ITA_proper_carriers
				bonus = 1.0
				uses = 1
				category = cv_tech
			}

			###########
			### MTG ###
			###########
			if = { #MTG 
				limit = {
					has_dlc = "Man the Guns"
				}
				if = {
					limit = {
						NOT = { has_tech = basic_ship_hull_carrier }
					}
					set_technology = { basic_ship_hull_carrier = 1 }
				}

				#Equipment Variant
				create_equipment_variant = {
					name = "Aquila Class"
					type = ship_hull_carrier_1
					name_group = ITA_CV_HISTORICAL
					parent_version = 0
					allow_without_tech = yes #Makes no difference since focus grants appropriate tech (above), but it improves tooltip
					modules = {
						fixed_ship_deck_slot_1 = ship_deck_space
						fixed_ship_deck_slot_2 = ship_deck_space
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = carrier_ship_engine_2
						fixed_ship_secondaries_slot = ship_secondaries_2
						front_1_custom_slot = ship_deck_space
					}
				}
				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_carrier_1
						creator = "ITA"
						version_name = "Aquila Class"
					}
					name = "Aquila"
					requested_factories = 2
					progress = 0.45
					amount = 1
				}
			}

			##############
			### NO MTG ###
			##############
			else = {
				if = {
					limit = {
						NOT = { has_tech = basic_carrier }
					}
					set_technology = { basic_carrier = 1 }
				}
				create_equipment_variant = {
					name = "Aquila Class"
					type = carrier_2
					allow_without_tech = yes #Makes no difference since focus grants appropriate tech (above), but it improves tooltip
					upgrades = {
						ship_deckspace_upgrade = 3
						carrier_armor_upgrade = 2
						ship_engine_upgrade = 2
						ship_reliability_upgrade = 2
					}
				}
				add_equipment_production = {
					equipment = {
						type = carrier_2
						creator = "ITA"
						version_name = "Aquila Class"
					}
					requested_factories = 2
					progress = 0.45
					amount = 1
				}
			}
			
			random_owned_controlled_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
				}
				prioritize = { 158 } #PIEDMONT (Genoa)
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_refit_civilian_ships
		icon = GFX_focus_generic_refit_civilian_ships
		prerequisite = { focus = ITA_incrociatori_pesanti }
		mutually_exclusive = { focus = ITA_proper_carriers }
		x = 4
		y = 1
		relative_position_id = ITA_incrociatori_pesanti
		cost = 5
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_ideas = ITA_hidden_deck_conversion_production_ns

			navy_experience = 15

			###########
			### MTG ###
			###########
			if = { #MTG
				limit = {
					has_dlc = "Man the Guns"
				}
				if = {
					limit = {
						NOT = { has_tech = early_ship_hull_carrier }
					}
					set_technology = { early_ship_hull_carrier = 1 }
				}
				#Equipment Variant
				create_equipment_variant = {
					name = "Conte di Savoia Class - Converted Liner"
					type = ship_hull_carrier_conversion_ca
					name_group = ITA_CV_HISTORICAL #TODO_Manu: Namelist (Conte di Savoia, Rex, Neptunia, Oceania, Conte Rosso, Conte Grande, Saturnia, Vulcania, Conte Biancamo, Duilio, Conte verde, Giulio Cesare, Colombo, Tel Aviv) Excluded Roma (Aquila) and Augustus (Sparviero)
					parent_version = 0
					allow_without_tech = yes #Makes no difference since focus grants appropriate tech (above), but it improves tooltip
					modules = {
						fixed_ship_deck_slot_1 = ship_deck_space
						fixed_ship_deck_slot_2 = ship_deck_space
						fixed_ship_anti_air_slot = ship_anti_air_2
						fixed_ship_radar_slot = empty
						fixed_ship_engine_slot = carrier_ship_engine_1
						fixed_ship_secondaries_slot = ship_secondaries_1
					}
				}

				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_carrier_conversion_ca
						creator = "ITA"
						version_name = "Conte di Savoia Class - Converted Liner"
					}
					name = "Conte di Savoia"
					requested_factories = 1
					progress = 0.65
					amount = 1
				}
				#Line Production
				add_equipment_production = {
					equipment = {
						type = ship_hull_carrier_conversion_ca
						creator = "ITA"
						version_name = "Conte di Savoia Class - Converted Liner"
					}
					name = "Rex"
					requested_factories = 1
					progress = 0.65
					amount = 1
				}
			}
			##############
			### NO MTG ###
			##############
			else = {
				if = {
					limit = {
						NOT = { has_tech = early_carrier }
					}
					set_technology = { early_carrier = 1 }
				}
				create_equipment_variant = {
					name = "Conte di Savoia Class - Converted Liner"
					type = carrier_1
					allow_without_tech = yes #Makes no difference since focus grants appropriate tech (above), but it improves tooltip
					upgrades = {
						ship_deckspace_upgrade = 2
						carrier_armor_upgrade = 1
						ship_engine_upgrade = 2
						ship_reliability_upgrade = 2
					}
				}
				add_equipment_production = {
					equipment = {
						type = carrier_1
						creator = "ITA"
						version_name = "Conte di Savoia Class - Converted Liner"
					}
					requested_factories = 1
					progress = 0.65
					amount = 1
				}
				add_equipment_production = {
					equipment = {
						type = carrier_1
						creator = "ITA"
						version_name = "Conte di Savoia Class - Converted Liner"
					}
					requested_factories = 1
					progress = 0.65
					amount = 1
				}
			}
			
			random_owned_controlled_state = {
				limit = {
					is_fully_controlled_by = ROOT
					is_coastal = yes
				}
				prioritize = { 158 } #PIEDMONT (Genoa)
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = ITA_flotta_d_evasione
		icon = GFX_focus_ITA_new_horizons
		prerequisite = { focus = ITA_ispettorato_dei_mezzi_antisommergibili focus = ITA_cacciatorpediniere_di_scorta focus = ITA_navi_da_battaglia }

		x = 0
		y = 1
		relative_position_id = ITA_ispettorato_dei_mezzi_antisommergibili
		cost = 10
		available = {
			
		}

		search_filters = {FOCUS_FILTER_INDUSTRY FOCUS_FILTER_NAVY_XP}

		completion_reward = {
			custom_effect_tooltip = ITA_flotta_d_evasione_admiral_traits_tt
			#Stupid tooltips oh my god I hate this game
			hidden_effect = {
				#First admiral trait
				if = { #Try to select high level admirals
					limit = {
						any_navy_leader = {
							NOT = {
								has_trait = bold
							}
							skill > 3
						}
					}
					random_navy_leader = {
						limit = {
							NOT = {
								has_trait = bold
							}
							skill > 3
						}
						add_unit_leader_trait = bold
					}
				}
				else_if = {
					limit = {
						any_navy_leader = {
							NOT = {
								has_trait = bold
							}
						}
					}
					random_navy_leader = {
						limit = {
							NOT = {
								has_trait = bold
							}
						}
						add_unit_leader_trait = bold
					}
				}

				#Second admiral trait
				if = { #Try to select high level admirals
					limit = {
						any_navy_leader = {
							NOT = {
								has_trait = bold
							}
							skill > 3
						}
					}
					random_navy_leader = {
						limit = {
							NOT = {
								has_trait = bold
							}
							skill > 3
						}
						add_unit_leader_trait = bold
					}
				}
				else_if = {
					limit = {
						any_navy_leader = {
							NOT = {
								has_trait = bold
							}
						}
					}
					random_navy_leader = {
						limit = {
							NOT = {
								has_trait = bold
							}
						}
						add_unit_leader_trait = bold
					}
				}
			}
			
			navy_experience = 50

			###########
			### MTG ###
			###########
			if = { #MTG
				limit = {
					has_dlc = "Man the Guns"
				}
				if = { #CRUISER HULL III
					limit = {
						has_tech = improved_ship_hull_cruiser
					}
					if = {
						limit = {
							has_tech = basic_dp_light_battery
						}
						#Equipment Variant
						create_equipment_variant = {
							name = "Costanzo Ciano Class"
							type = ship_hull_cruiser_3
							name_group = ITA_CL_HISTORICAL
							parent_version = 0
							allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
							modules = {
								front_1_custom_slot = ship_light_medium_battery_3
								mid_1_custom_slot = ship_torpedo_2
								mid_2_custom_slot = dp_ship_secondaries_2
								rear_1_custom_slot = ship_anti_air_3
								rear_2_custom_slot = ship_airplane_launcher_2
								fixed_ship_battery_slot = ship_light_medium_battery_3
								fixed_ship_anti_air_slot = ship_anti_air_3
								fixed_ship_fire_control_system_slot = ship_fire_control_system_1
								fixed_ship_radar_slot = ship_sonar_1
								fixed_ship_engine_slot = cruiser_ship_engine_3
								fixed_ship_secondaries_slot = dp_ship_secondaries_2
								fixed_ship_armor_slot = ship_armor_cruiser_3
							}
						}
					}
					else = {
						#Equipment Variant
						create_equipment_variant = {
							name = "Costanzo Ciano Class"
							type = ship_hull_cruiser_3
							name_group = ITA_CL_HISTORICAL
							parent_version = 0
							allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
							modules = {
								front_1_custom_slot = ship_light_medium_battery_3
								mid_1_custom_slot = ship_torpedo_2
								mid_2_custom_slot = ship_secondaries_2
								rear_1_custom_slot = ship_anti_air_3
								rear_2_custom_slot = ship_airplane_launcher_2
								fixed_ship_battery_slot = ship_light_medium_battery_3
								fixed_ship_anti_air_slot = ship_anti_air_3
								fixed_ship_fire_control_system_slot = ship_fire_control_system_1
								fixed_ship_radar_slot = ship_sonar_1
								fixed_ship_engine_slot = cruiser_ship_engine_3
								fixed_ship_secondaries_slot = ship_secondaries_2
								fixed_ship_armor_slot = ship_armor_cruiser_3
							}
						}
					}

					#Line Production
					add_equipment_production = {
						equipment = {
							type = ship_hull_cruiser_3
							creator = "ITA"
							version_name = "Costanzo Ciano Class"
						}
						name = "Constanzo Ciano"
						requested_factories = 1
						progress = 0.5
						amount = 1
					}
					#Line Production
					add_equipment_production = {
						equipment = {
							type = ship_hull_cruiser_3
							creator = "ITA"
							version_name = "Costanzo Ciano Class"
						}
						name = "Luigi Rizzo"
						requested_factories = 1
						progress = 0.35
						amount = 1
					}
				}
				else = { #CRUISER HULL II
					if = {
						limit = {
							has_tech = basic_dp_light_battery
						}
						#Equipment Variant
						create_equipment_variant = {
							name = "Costanzo Ciano Class"
							type = ship_hull_cruiser_2
							name_group = ITA_CL_HISTORICAL #TODO_Manu: Namelist (Conte di Savoia, Rex, Neptunia, Oceania, Conte Rosso, Conte Grande, Saturnia, Vulcania, Conte Biancamo, Duilio, Conte verde, Giulio Cesare, Colombo, Tel Aviv) Excluded Roma (Aquila) and Augustus (Sparviero)
							parent_version = 0
							allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
							modules = {
								front_1_custom_slot = ship_anti_air_2
								mid_1_custom_slot = ship_torpedo_1
								mid_2_custom_slot = ship_airplane_launcher_2
								rear_1_custom_slot = ship_light_medium_battery_2
								fixed_ship_battery_slot = ship_light_medium_battery_2
								fixed_ship_anti_air_slot = ship_anti_air_2
								fixed_ship_fire_control_system_slot = ship_fire_control_system_1
								fixed_ship_radar_slot = empty
								fixed_ship_engine_slot = cruiser_ship_engine_2
								fixed_ship_secondaries_slot = dp_ship_secondaries_2
								fixed_ship_armor_slot = ship_armor_cruiser_2
							}
						}
					}
					else = {
						#Equipment Variant
						create_equipment_variant = {
							name = "Costanzo Ciano Class"
							type = ship_hull_cruiser_2
							name_group = ITA_CL_HISTORICAL #TODO_Manu: Namelist (Conte di Savoia, Rex, Neptunia, Oceania, Conte Rosso, Conte Grande, Saturnia, Vulcania, Conte Biancamo, Duilio, Conte verde, Giulio Cesare, Colombo, Tel Aviv) Excluded Roma (Aquila) and Augustus (Sparviero)
							parent_version = 0
							allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
							modules = {
								front_1_custom_slot = ship_anti_air_2
								mid_1_custom_slot = ship_torpedo_1
								mid_2_custom_slot = ship_airplane_launcher_2
								rear_1_custom_slot = ship_light_medium_battery_2
								fixed_ship_battery_slot = ship_light_medium_battery_2
								fixed_ship_anti_air_slot = ship_anti_air_2
								fixed_ship_fire_control_system_slot = ship_fire_control_system_1
								fixed_ship_radar_slot = empty
								fixed_ship_engine_slot = cruiser_ship_engine_2
								fixed_ship_secondaries_slot = ship_secondaries_2
								fixed_ship_armor_slot = ship_armor_cruiser_2
							}
						}
					}

					#Line Production
					add_equipment_production = {
						equipment = {
							type = ship_hull_cruiser_2
							creator = "ITA"
							version_name = "Costanzo Ciano Class"
						}
						name = "Constanzo Ciano"
						requested_factories = 1
						progress = 0.5
						amount = 1
					}
					#Line Production
					add_equipment_production = {
						equipment = {
							type = ship_hull_cruiser_2
							creator = "ITA"
							version_name = "Costanzo Ciano Class"
						}
						name = "Luigi Rizzo"
						requested_factories = 1
						progress = 0.35
						amount = 1
					}
				}
			}
			##############
			### NO MTG ###
			##############
			else = {
				if = {
					limit = {
						has_tech = improved_light_cruiser
					}
					create_equipment_variant = {
						name = "Costanzo Ciano Class"
						type = light_cruiser_3
						allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
						upgrades = {
							ship_reliability_upgrade = 2
							ship_engine_upgrade = 3
							ship_anti_air_upgrade = 3
							ship_gun_upgrade = 3
						}
					}
					add_equipment_production = {
						equipment = {
							type = light_cruiser_3
							creator = "ITA"
							version_name = "Costanzo Ciano Class"
						}
						requested_factories = 1
						progress = 0.5
						amount = 1
					}
					add_equipment_production = {
						equipment = {
							type = light_cruiser_3
							creator = "ITA"
							version_name = "Costanzo Ciano Class"
						}
						requested_factories = 1
						progress = 0.35
						amount = 1
					}
				}
				else = {
					create_equipment_variant = {
						name = "Costanzo Ciano Class"
						type = light_cruiser_2
						allow_without_tech = yes #Makes no difference since focus requires appropriate tech (above), but it improves tooltip
						upgrades = {
							ship_reliability_upgrade = 2
							ship_engine_upgrade = 2
							ship_anti_air_upgrade = 2
							ship_gun_upgrade = 2
						}
					}
					add_equipment_production = {
						equipment = {
							type = light_cruiser_2
							creator = "ITA"
							version_name = "Costanzo Ciano Class"
						}
						requested_factories = 1
						progress = 0.5
						amount = 1
					}
					add_equipment_production = {
						equipment = {
							type = light_cruiser_2
							creator = "ITA"
							version_name = "Costanzo Ciano Class"
						}
						requested_factories = 1
						progress = 0.35
						amount = 1
					}
				}
			}

			### CORES
			#ROME
			if = {
				limit = {
					has_full_control_of_state = 2
				}
				2 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#PUGLIA
			if = {
				limit = {
					has_full_control_of_state = 849
				}
				849 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#SICILIA
			if = {
				limit = {
					has_full_control_of_state = 115
				}
				115 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}

			### COLONIES
			#TRIPOLI
			if = {
				limit = {
					has_full_control_of_state = 448
				}
				448 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#ERITREA
			if = {
				limit = {
					has_full_control_of_state = 550
				}
				550 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#SOMALILAND
			if = {
				limit = {
					has_full_control_of_state = 559
				}
				559 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}

			### EXTRA STUFF
			#GIBRALTAR
			if = {
				limit = {
					has_full_control_of_state = 118
				}
				118 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#ALGIERS
			if = {
				limit = {
					has_full_control_of_state = 459
				}
				459 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#TUNISIA
			if = {
				limit = {
					has_full_control_of_state = 458
				}
				458 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#ALEXANDRIA
			if = {
				limit = {
					has_full_control_of_state = 447
				}
				447 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#LISBON
			if = {
				limit = {
					has_full_control_of_state = 112
				}
				112 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#SEVILLA
			if = {
				limit = {
					has_full_control_of_state = 169
				}
				169 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#BORDEAUX
			if = {
				limit = {
					has_full_control_of_state = 19
				}
				19 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
			#BRITTANY
			if = {
				limit = {
					has_full_control_of_state = 14
				}
				14 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}

			custom_effect_tooltip = ITA_flotta_d_evasione_dockyards_tt #TODO_Manu: Dynamic tooltip
		}
	}
	
	
########  #######  ########  ######## ####  ######   ##    ##    ########   #######  ##       #### ######## ####  ######   ######     ########  ####  ######   ##     ## ######## 
##       ##     ## ##     ## ##        ##  ##    ##  ###   ##    ##     ## ##     ## ##        ##     ##     ##  ##    ## ##    ##    ##     ##  ##  ##    ##  ##     ##    ##    
##       ##     ## ##     ## ##        ##  ##        ####  ##    ##     ## ##     ## ##        ##     ##     ##  ##       ##          ##     ##  ##  ##        ##     ##    ##    
######   ##     ## ########  ######    ##  ##   #### ## ## ##    ########  ##     ## ##        ##     ##     ##  ##        ######     ########   ##  ##   #### #########    ##    
##       ##     ## ##   ##   ##        ##  ##    ##  ##  ####    ##        ##     ## ##        ##     ##     ##  ##             ##    ##   ##    ##  ##    ##  ##     ##    ##    
##       ##     ## ##    ##  ##        ##  ##    ##  ##   ###    ##        ##     ## ##        ##     ##     ##  ##    ## ##    ##    ##    ##   ##  ##    ##  ##     ##    ##    
##        #######  ##     ## ######## ####  ######   ##    ##    ##         #######  ######## ####    ##    ####  ######   ######     ##     ## ####  ######   ##     ##    ##    


	focus = {
		id = ITA_foreign_affairs
		icon = GFX_goal_generic_dangerous_deal
		x = 26
		y = 0
		
		relative_position_id = ITA_naval_power_projection
		cost = 3
		available = {
			is_puppet = no
			not = { country_exists = ALS }
			has_completed_focus = ITA_15
		}
		bypass = {
			is_subject_of = GER
		}
		ai_will_do = {
			factor = 100
		}
		search_filters = {FOCUS_FILTER_POLITICAL}

		completion_reward = {
			add_political_power = 50
		}
	}

	focus = {
		id = ITA_balkan_ambition
		icon = GFX_focus_generic_balkans_focus
		prerequisite = { focus = ITA_foreign_affairs }
		mutually_exclusive = { focus = ITA_potential_allies_in_the_balkans }

		x = -1
		y = 1
		relative_position_id = ITA_foreign_affairs
		cost = 3
		available = {
			is_puppet = no
		}
		ai_will_do = {
			factor = 100
		}
		search_filters = {}

		completion_reward = {
			add_ideas = ITA_itafusu
			add_state_claim = 106 #NORTH SLOVENIA
			add_state_claim = 736 #LJUBLJANA
			add_state_claim = 683 #DALMATIA
			add_state_claim = 102 #MONTENEGRO
			add_state_claim = 44
			add_state_claim = 488
			
		}
	}

	focus = {
		id = ITA_potential_allies_in_the_balkans
		icon = GFX_focus_generic_balkan_diplomacy
		prerequisite = { focus = ITA_foreign_affairs }
		mutually_exclusive = { focus = ITA_balkan_ambition }

		x = 1
		y = 1
		relative_position_id = ITA_foreign_affairs
		cost = 3
		available = {
			
		}
		ai_will_do = {
			factor = 1
		}
		search_filters = {}

		completion_reward = { #Changing stuff here will require changing stuff in History file for 1939 bookmark
			ROM = {
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				if = {
					limit = { ROOT = { has_government = fascism } }
					add_timed_idea = { idea = fascist_influence days = 180 }
				}
				if = {
					limit = { ROOT = { has_government = democratic } }
					add_timed_idea = { idea = democratic_influence days = 180 }
				}
				if = {
					limit = { ROOT = { has_government = communism } }
					add_timed_idea = { idea = communist_influence days = 180 }
				}
				if = {
					limit = { ROOT = { has_government = neutrality } }
					add_timed_idea = { idea = neutrality_influence days = 180 }
				}
				country_event = { id = generic.1 }
			}
			BUL = {
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				if = {
					limit = { ROOT = { has_government = fascism } }
					add_timed_idea = { idea = fascist_influence days = 180 }
				}
				if = {
					limit = { ROOT = { has_government = democratic } }
					add_timed_idea = { idea = democratic_influence days = 180 }
				}
				if = {
					limit = { ROOT = { has_government = communism } }
					add_timed_idea = { idea = communist_influence days = 180 }
				}
				if = {
					limit = { ROOT = { has_government = neutrality } }
					add_timed_idea = { idea = neutrality_influence days = 180 }
				}
				country_event = { id = generic.1 }
			}
		}
	}

	focus = {
		id = ITA_yuwaixingrenjiaoyi
		icon = GFX_DVL_29
		prerequisite = { focus = ITA_potential_allies_in_the_balkans focus = ITA_balkan_ambition }
		mutually_exclusive = { focus = ITA_pact_of_steel1 }
		x = -6
		y = 1
		relative_position_id = ITA_potential_allies_in_the_balkans
		cost = 5
		allow_branch = {
			not = { is_subject_of = GER }
		}
		available = {
			always = no
			country_exists = DVL
			NOT = { has_war_with = DVL }
		}		 
		ai_will_do = {
			factor = 0
		}
		search_filters = {} 

		completion_reward = {
			
		}
	}


	focus = {
		id = ITA_beici
		icon = GFX_goal_generic_execution
		prerequisite = { focus = ITA_yuwaixingrenjiaoyi }

		x = 0
		y = 1
		relative_position_id = ITA_yuwaixingrenjiaoyi
		cost = 1
		available = { 
			
		}

		bypass = {
			
		}

		search_filters = {FOCUS_FILTER_ANNEXATION}

		completion_reward = {
		
		}
	}

	focus = {
		id = ITA_xiangwaixingrenchenfu
		icon = GFX_r56_goal_GER_european_reich
		prerequisite = { focus = ITA_beici }

		x = -1
		y = 1
		relative_position_id = ITA_beici
		mutually_exclusive = { focus = ITA_mimilianluolundun }
		cost = 5
		available = {
			
		}

		bypass = {
			
		}

		search_filters = {}

		completion_reward = {
			
		}
	}

	focus = {
		id = ITA_mimilianluolundun
		icon = GFX_focus_chi_british_cooperation
		prerequisite = { focus = ITA_beici }

		x = 1
		y = 1
		relative_position_id = ITA_beici
		mutually_exclusive = { focus = ITA_xiangwaixingrenchenfu }
		cost = 5
		available = {
			
		}

		search_filters = {FOCUS_FILTER_ARMY_XP FOCUS_FILTER_AIR_XP FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			
		}
	}

	focus = {
		id = ITA_narudaibibantu
		icon = GFX_DVL_pangermanismthree
		prerequisite = { focus = ITA_xiangwaixingrenchenfu }

		x = 0
		y = 1
		relative_position_id = ITA_xiangwaixingrenchenfu
		cost = 10
		available = {
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			#add_ideas = ITA_italys_destiny_idea 
		}
	}

	focus = {
		id = ITA_chuixiangfanjihaojiao
		icon = GFX_goal_attack_DVL
		prerequisite = { focus = ITA_mimilianluolundun }

		x = 0
		y = 1
		relative_position_id = ITA_mimilianluolundun
		cost = 10
		available = {
			
		}

		search_filters = {}

		completion_reward = {
			
			#add_timed_idea = {
			#	idea = ITA_the_eastern_threat_ns
			#	days = 365
			#}
		}
	}

	focus = {
		id = ITA_pact_of_steel1
		icon = GFX_goal_support_fascism
		prerequisite = { focus = ITA_potential_allies_in_the_balkans focus = ITA_balkan_ambition }
		mutually_exclusive = { focus = ITA_yuwaixingrenjiaoyi }
		x = 1
		y = 1
		relative_position_id = ITA_potential_allies_in_the_balkans
		cost = 5
		ai_will_do = {
			factor = 100
		}
		bypass = {
			
		}

		available = {
			NOT = { has_war_with = GER }
			or = {
			custom_trigger_tooltip = {
				tooltip = ITA_germ_italy_same_tt
				GER = { has_government = ROOT }
			}
			has_government = neutrality
			}
			GER = {
				is_faction_leader = yes
				is_subject = no
				is_in_faction_with = ROOT
			}
			or = {
			is_subject = no
			is_subject_of = GER
			}
			NOT = { has_country_flag = ENG_ditched_by_the_germans_flag }
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_timed_idea = {
				idea = ITA_pact_of_steel_2
				days = 365
			}
			GER = {
				add_opinion_modifier = { target = ITA modifier = pact_of_steel_opinion }
				add_timed_idea = {
				idea = ITA_pact_of_steel_2
				days = 365
				}
			}
			
		}
	}

	focus = {
		id = ITA_german_military_cooperation
		icon = GFX_focus_ger_oppose_hitler
		prerequisite = { focus = ITA_pact_of_steel1 }

		x = -3
		y = 1
		relative_position_id = ITA_pact_of_steel1
		cost = 3
		available = {
			NOT = { has_war_with = GER }
			NOT = { has_country_flag = ENG_ditched_by_the_germans_flag }
		}

		search_filters = {FOCUS_FILTER_AIR_XP FOCUS_FILTER_ARMY_XP}

		completion_reward = {
			add_ideas = ITA_german_millitary_cooperation_focus
		}
	}

	focus = {
		id = ITA_sea_wolves_bba
		icon = GFX_goal_generic_wolf_pack
		prerequisite = { focus = ITA_german_military_cooperation }

		x = -1
		y = 1
		relative_position_id = ITA_german_military_cooperation
		cost = 5
		available = {
			NOT = { has_country_flag = ENG_ditched_by_the_germans_flag }
		}
		
		search_filters = {FOCUS_FILTER_NAVY_XP FOCUS_FILTER_RESEARCH}

		completion_reward = {
			navy_experience = 25
			add_tech_bonus = {
				name = ITA_sea_wolves_bba
				bonus = 1.0
				uses = 1
				category = ss_tech
			}
			add_doctrine_cost_reduction = {
				name = ITA_sea_wolves_bba
				cost_reduction = 0.5
				uses = 2
				category = submarine_doctrine
			}
		}
	}

	focus = {
		id = ITA_secret_weapons
		icon = GFX_goal_generic_secret_weapon
		prerequisite = { focus = ITA_german_military_cooperation }

		x = 1
		y = 1
		relative_position_id = ITA_german_military_cooperation
		cost = 5
		available = {
			NOT = { has_country_flag = ENG_ditched_by_the_germans_flag }
		}

		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_tech_bonus = {
				name = ITA_secret_weapons
				bonus = 1.0
				uses = 2
				category = electronics
				category = rocketry
				category = nuclear
			}
		}
	}

	focus = {
		id = ITA_treaty_with_germany
		icon = GFX_goal_new_generation_of_tanks
		prerequisite = { focus = ITA_pact_of_steel1 }

		x = -1
		y = 1
		relative_position_id = ITA_pact_of_steel1
		cost = 5
		ai_will_do = {
			factor = 10
		}
		available = {
			NOT = { has_country_flag = ENG_ditched_by_the_germans_flag }
		}
		
		search_filters = {FOCUS_FILTER_RESEARCH}

		completion_reward = {
			add_ideas = ita_lisha
			if = {
				limit = {
					has_dlc = "Arms Against Tyranny"
				}
				add_equipment_subsidy = {
					cic = 500
					equipment_type = light_tank_chassis
					seller_tags = { GER }
				}
				add_equipment_subsidy = {
					cic = 500
					equipment_type = medium_tank_chassis
					seller_tags = { GER }
				}
			}
			GER = {
				country_event = { id = italy.5 days = 1 }
				custom_effect_tooltip = needs_approval
				add_timed_idea ={ idea =  ita_lishaed days = 365 }
			}
			# Actual reward effects added in event if Soviets approve
			effect_tooltip = {
				add_tech_bonus = {
					name = synth_bonus
					bonus = 1.0
					uses = 1
					category = synth_resources
				}
				# Balance research bonus to 2 techs in armor, also in event
				add_tech_bonus = {
					name = armor_bonus
					bonus = 1.0
					uses = 2
					category = armor
				}
			}
		}
	}

	focus = {
		id = ITA_request_control_of_french_territories1
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = ITA_pact_of_steel1 }
		prerequisite = { focus = ITA_italian_irredentism }
		x = 0
		y = 2
		relative_position_id = ITA_pact_of_steel1
		cost = 5
		ai_will_do = {
			factor = 100
		}
		available = {
			is_puppet = no
			
		}
		bypass = {
			not = { country_exists = LBA }
		}
		search_filters = {FOCUS_FILTER_ANNEXATION}

		completion_reward = {
			create_wargoal = { target = LBA type = annex_everything } 
		}
	}

	focus = {
		id = ITA_befriend_japan
		icon = GFX_focus_chi_collaboration_with_the_japanese
		prerequisite = { focus = ITA_pact_of_steel1 }

		x = 1
		y = 1
		relative_position_id = ITA_pact_of_steel1
		cost = 5
		ai_will_do = {
			factor = 100
		}
		available = {
			country_exists = JAP
			JAP = { 
				has_government = fascism
				is_faction_leader = yes
			}
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}

		completion_reward = {
			add_relation_modifier = {
				target = JAP
				modifier = ITA_military_agreements
			}
			JAP = {
				country_event = jap.64
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				add_relation_modifier = {
					target = ROOT
					modifier = ITA_military_agreements
				}
			}
		}
	}

	focus = {
		id = ITA_italian_irredentism
		icon = GFX_focus_ITA_italian_irredentism
		prerequisite = { focus = ITA_pact_of_steel1  }

		x = 3
		y = 1
		relative_position_id = ITA_pact_of_steel1
		cost = 10
		available = {
			is_subject = no
		}
		ai_will_do = {
			factor = 0
			modifier = {
			date > 1938.3.1
			add = 100
			}
		}
		search_filters = {FOCUS_FILTER_POLITICAL FOCUS_FILTER_WAR_SUPPORT}

		completion_reward = {
			add_political_power = 50
			add_war_support = 0.03
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
			add_ideas = ITA_italian_irredentism_ns
			#TODO_Manu: Might need to remove some/all of the claims below due to overlap with other focuses
			add_named_threat = { threat = 4 name = ITA_italian_irredentism } #Comes from the old Claims in Yugoslavia focus
			if = {
				limit = {
					103 = {
						NOT = { is_claimed_by = ROOT }
					}
				}
				add_state_claim = 103 #DALMATIA
			}
			add_state_claim = 268 #DJIBUTI
			add_state_claim = 269 #BRITISH SOMALILAND
			add_state_claim = 735 #SAVOY
			add_state_claim = 182 #CORFU
			add_state_claim = 1 #CORSICA
			add_state_claim = 116 #MALTA
			add_state_claim = 761 #TICINO
			add_state_claim = 1138
			add_state_claim = 163
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				ITA_create_carmelo_borg_pisani_operative = yes
			}

			if = {
				limit = {
					has_rule = can_only_justify_war_on_threat_country
				}
				set_rule = { can_only_justify_war_on_threat_country = no }
			}
			if = {
				limit = {
					NOT = { has_rule = can_declare_war_on_same_ideology }
				}
				set_rule = { can_declare_war_on_same_ideology = yes }
			}
			if = {
				limit = {
					NOT = { has_rule = can_send_volunteers }
				}
				set_rule = { can_send_volunteers = yes }
			}
		}
	}

	focus = {
		id = ITA_war_with_france1
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = ITA_italian_irredentism }

		x = -1
		y = 1
		relative_position_id = ITA_italian_irredentism
		cost = 5
		
		bypass = {
			not = { country_exists = LIB }
		}
		ai_will_do = {
			factor = 5
		}
		available = {
			is_subject = no
			or = {
			not = { country_exists = DVL }
			DVL = { is_subject = yes }
			}
			LIB = { exists = yes }
			or = {
			FRA = { exists = no }
			FRA = { has_capitulated = yes }
			}
			or = {
			KMK = { exists = no }
			KMK = { has_capitulated = yes }
			}
			NOT = { LIB = { is_subject_of = FRA } }
			NOT = { LIB = { is_subject_of = KMK } }
		}

		will_lead_to_war_with = LIB

		search_filters = {}

		completion_reward = {
			create_wargoal = { target = LIB type = annex_everything } 
			create_wargoal = { target = TUN type = annex_everything } 
		}
	}

	focus = {
		id = ITA_demand_ticino
		icon = GFX_focus_attack_switzerland
		prerequisite = { 
			focus = ITA_war_with_france1
			focus = ITA_request_control_of_french_territories1
		}

		x = -1
		y = 1
		relative_position_id = ITA_war_with_france1
		cost = 5
		ai_will_do = {
			factor = 0
			modifier = {
			date > 1939.1.1
			add = 100
			}
		}
		available = {

			761 = {
				is_owned_and_controlled_by = TRB
			}
			1092 = {
				is_owned_and_controlled_by = TRB
			}
			is_subject = no
			159 = { 
				is_controlled_by = ITA
			}
			158 = {
				is_controlled_by = ITA
			}
		}

		will_lead_to_war_with = TRB

		search_filters = {FOCUS_FILTER_ANNEXATION}

		completion_reward = { 

			TRB = {
				country_event = {
				    id = BBA_italy_interaction_events.1
				    days = 2
				    random = 6
				}
			}

		}
	}

	focus = {
		id = ITA_war_with_the_uk1
		icon = GFX_goal_generic_attack_yugoslavia
		prerequisite = { focus = ITA_italian_irredentism }
		x = 1
		y = 1
		relative_position_id = ITA_italian_irredentism
		cost = 5
		available = {
			is_subject = no
			date > 1940.6.1
			NOT = { is_in_faction_with = KVO }
			NOT = { has_guaranteed = KVO }
			NOT = { has_non_aggression_pact_with = KVO }
		}
		ai_will_do = {
			factor = 100
		}
		will_lead_to_war_with = ABY
		will_lead_to_war_with = GEH
		will_lead_to_war_with = TRY
		will_lead_to_war_with = SHJ
		will_lead_to_war_with = KVO
		will_lead_to_war_with = RED
		will_lead_to_war_with = MIL
		will_lead_to_war_with = AKK
		will_lead_to_war_with = SCH
		search_filters = {}

		completion_reward = {
			if = {
				limit = {
					country_exists = ABY
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ABY
				}
			}
			if = {
				limit = {
					country_exists = GEH
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = GEH
				}
			}
			if = {
				limit = {
					country_exists = TRY
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = TRY
				}
			}
			if = {
				limit = {
					country_exists = SHJ
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = SHJ
				}
			}
			if = {
				limit = {
					country_exists = KVO
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = KVO
				}
			}
			if = {
				limit = {
					country_exists = RED
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = RED
				}
			}
			if = {
				limit = {
					country_exists = MIL
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = MIL
				}
			}
			if = {
				limit = {
					country_exists = AKK
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = AKK
				}
			}
			if = {
				limit = {
					country_exists = SCH
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = SCH
				}
			}
			every_state = {
			limit = {
			is_core_of = KVO
			}
			add_claim_by = ITA
			}
		}
	}

	focus = {
		id = ITA_war_with_greece
		icon = GFX_focus_generic_attack_greece
		prerequisite = { focus = ITA_italian_irredentism }
		mutually_exclusive = { focus = ITA_befriend_greece }
		x = 0
		y = 2
		relative_position_id = ITA_italian_irredentism
		cost = 5

		bypass = {
			is_subject = no
			OR = {
				GRE = { is_subject_of = ROOT }
				GRE = { exists = no }
				is_in_faction_with = GRE
			}
		}
		ai_will_do = {
			factor = 100
		}
		available = {
			is_subject = no
			date > 1939.4.1
			GRE = { exists = yes }
			NOT = { is_in_faction_with = GRE }
			NOT = { has_guaranteed = GRE }
			NOT = { has_non_aggression_pact_with = GRE }
			NOT = { GRE = { is_subject_of = ROOT } }
		}

		will_lead_to_war_with = GRE

		search_filters = {}

		completion_reward = {
			add_state_claim = 182
			create_wargoal = { target = GRE type = puppet_wargoal_focus }
		}
	}

	focus = {
		id = ITA_befriend_greece
		icon = GFX_focus_generic_befriend_greece
		prerequisite = { focus = ITA_italian_irredentism }
		mutually_exclusive = { focus = ITA_war_with_greece }
		x = 2
		y = 2
		relative_position_id = ITA_italian_irredentism
		cost = 10

		bypass = {
			NOT = { country_exists = GRE }
		}
		ai_will_do = {
			factor = 1
		}
		available = {
			date > 1939.4.1
			country_exists = GRE
			NOT = {
				has_war_with = GRE
			}
		}

		search_filters = {}

		completion_reward = {
			GRE = {
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				if = {
					limit = { ROOT = { has_government = fascism } }
					add_timed_idea = { idea = fascist_influence days = 180 }
				}
				if = {
					limit = { ROOT = { has_government = democratic } }
					add_timed_idea = { idea = democratic_influence days = 180 }
				}
				if = {
					limit = { ROOT = { has_government = communism } }
					add_timed_idea = { idea = communist_influence days = 180 }
				}
				country_event = { id = generic.1 }
			}

			activate_targeted_decision = { target = GRE decision = ITA_pressure_country_government_balkan }
			activate_targeted_decision = { target = GRE decision = ITA_promote_ideology_rallies_balkan }
		}
	}

	focus = {
		id = ITA_claims_on_turkey_bba
		icon = GFX_focus_generic_attack_turkey
		prerequisite = { focus = ITA_war_with_greece focus = ITA_befriend_greece }
		mutually_exclusive = { focus = ITA_befriend_turkey }
		x = 0
		y = 1
		relative_position_id = ITA_war_with_greece
		cost = 5
		available = {
			is_subject = no
			DVL = {
			or = {
			exists = no
			is_subject = yes
			}
			}
			TUR = { exists = yes }
			NOT = { is_in_faction_with = TUR }
			NOT = { has_guaranteed = TUR }
			NOT = { has_non_aggression_pact_with = TUR }
			NOT = { TUR = { is_subject_of = ROOT } }
		}
		ai_will_do = {
			factor = 0
		}
		will_lead_to_war_with = TUR

		search_filters = {}

		completion_reward = {
			add_state_claim = 773
			create_wargoal = { target = TUR type = puppet_wargoal_focus }
		}
	}

	focus = {
		id = ITA_befriend_turkey
		icon = GFX_focus_generic_befriend_turkey
		prerequisite = { focus = ITA_war_with_greece focus = ITA_befriend_greece }
		mutually_exclusive = { focus = ITA_claims_on_turkey_bba }
		x = 2
		y = 0
		relative_position_id = ITA_claims_on_turkey_bba
		cost = 10
		available = {
			country_exists = TUR
			NOT = {
				has_war_with = TUR
			}
		}
		ai_will_do = {
			factor = 10
		}
		search_filters = {}

		completion_reward = {
			TUR = {
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				if = {
					limit = { ROOT = { has_government = fascism } }
					add_timed_idea = { idea = fascist_influence days = 180 }
				}
				if = {
					limit = { ROOT = { has_government = democratic } }
					add_timed_idea = { idea = democratic_influence days = 180 }
				}
				if = {
					limit = { ROOT = { has_government = communism } }
					add_timed_idea = { idea = communist_influence days = 180 }
				}
				country_event = { id = generic.1 }
			}

			activate_targeted_decision = { target = TUR decision = ITA_pressure_country_government_balkan }
			activate_targeted_decision = { target = TUR decision = ITA_promote_ideology_rallies_balkan }

		}
	}

	focus = {
		id = ITA_corpo_di_truppe_volontarie1
		icon = GFX_goal_NFA_troops
		prerequisite = { focus = ITA_foreign_affairs }

		x = 3
		y = 1
		relative_position_id = ITA_foreign_affairs
		cost = 5
		ai_will_do = {
			factor = 100
		}
		bypass = {
			
		}

		available = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				NFA = {
					has_volunteers_amount_from = {
						tag = ITA
						count > 1
					}
				}
			}
		}
		cancel = {
			not = { country_exists = NFA }
		}

		cancel_if_invalid = no

		search_filters = {FOCUS_FILTER_MANPOWER FOCUS_FILTER_AIR_XP}

		completion_reward = { #Changing stuff here will require changing stuff in History file for 1939 bookmark
			if = {
				limit = {
					NOT = { has_dlc = "La Resistance" }
				}
				random_other_country = {
					limit = {
						original_tag = NFA
						has_government = fascism
					}
					add_opinion_modifier = { target = ITA modifier = ita_supported_spain_civil_war }
				}
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				NFA = { add_opinion_modifier = { target = ITA modifier = ita_supported_spain_civil_war } }
			}

			add_timed_idea = {
				idea = ITA_aviazione_legionaria_2
				days = 365
			}

		}
	}

	focus = {
		id = ITA_befriend_portugal1
		icon = GFX_goal_tripartite_pact
		prerequisite = { focus = ITA_pact_of_steel1 }

		x = 2
		y = 0
		relative_position_id = ITA_italian_irredentism
		cost = 5
		available = {
			is_in_faction = yes
			country_exists = NPT
			NOT = {
				has_war_with = NPT
			}
			NPT = { has_government = ROOT }
		}

		search_filters = {}

		completion_reward = {
			NPT = {
				add_opinion_modifier = { target = ITA modifier = ita_diplomacy_focus }
				if = {
					limit = { ROOT = { has_government = fascism } }
					add_timed_idea = { idea = fascist_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = democratic } }
					add_timed_idea = { idea = democratic_influence days = 1095 }
				}
				if = {
					limit = { ROOT = { has_government = communism } }
					add_timed_idea = { idea = communist_influence days = 1095 }
				}
				country_event = { id = generic.1 }
			}
		}
	}
	
	focus = {
		id = ITA_1
		icon = GFX_goal_national_populism
		x = 12
		y = 0
		allow_branch = {
			not = { is_subject_of = GER }
		}
		relative_position_id = ITA_naval_power_projection
		cost = 0
		available = {
			custom_trigger_tooltip = {
			tooltip = ITA_shijianwanchengguoce
			always = no
			}
		}

		search_filters = {FOCUS_FILTER_POLITICAL}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_political_power = 25
			add_stability = 0.03
			add_war_support = 0.02
			hidden_effect = {
			country_event = { id = ita.18 days = 5 }
			}
		}
	}
	
	focus = {
		id = ITA_2
		icon = GFX_focus_generic_secret_service_agency
		prerequisite = { focus = ITA_1 }

		x = 0
		y = 1
		relative_position_id = ITA_1
		cost = 4
		available = {
		}

		search_filters = {}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			if = {
				limit = {
					has_dlc = "By Blood Alone"
				}
				BDY_deescalate_the_war_effect = yes
			}
			
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				if = {
					limit = {
						has_intelligence_agency = no
					}
					create_intelligence_agency = yes
				}
				add_ideas = ITA_servizio_informazione_militare_ns

				ITA_create_rosa_dainelli_operative = yes
			}
			else = {
				add_ideas = ITA_servizio_informazione_militare_ns_vanilla
			}
		}
	}
	focus = {
		id = ITA_3
		icon = GFX_newitaly
		prerequisite = { focus = ITA_2 }
		mutually_exclusive = { focus = ITA_4 }
		x = -2
		y = 1
		relative_position_id = ITA_2
		cost = 2
		available = {
		}
		bypass = {
			has_country_leader = {
			character = ITA_mosuolini
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_political_power = -15
			add_power_balance_value = {
			id = ITA_balance
			value = -0.1
			}
		}
	}
	
	focus = {
		id = ITA_4
		icon = GFX_focus_generic_fascist_propaganda
		prerequisite = { focus = ITA_2 }
		mutually_exclusive = { focus = ITA_3 }
		x = 2
		y = 1
		relative_position_id = ITA_2
		cost = 2
		available = {
		}
		bypass = {
			has_country_leader = {
			character = ITA_mosuolini
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_stability = -0.05
			add_power_balance_value = {
			id = ITA_balance
			value = 0.15
			}
		}
	}
	
	focus = {
		id = ITA_5
		icon = GFX_focus_generic_land_reclamation
		prerequisite = { focus = ITA_3  focus = ITA_4 }
		x = -1
		y = 1
		relative_position_id = ITA_3
		cost = 3
		available = {
		}
		bypass = {
			has_country_leader = {
			character = ITA_mosuolini
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_timed_idea = { idea = ITA_battaglia_per_la_terra days = 730 }
		}
	}
	
	focus = {
		id = ITA_6
		icon = GFX_focus_generic_population_growth
		prerequisite = { focus = ITA_3  focus = ITA_4 }
		x = 1
		y = 1
		relative_position_id = ITA_3
		cost = 3
		available = {
		}
		bypass = {
			has_country_leader = {
			character = ITA_mosuolini
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_timed_idea = { idea = ITA_battaglia_per_la_nascite days = 730 }
		}
	}
	
	focus = {
		id = ITA_7
		icon = GFX_goal_generic_catholic_education
		prerequisite = { focus = ITA_3  focus = ITA_4 }
		x = -1
		y = 1
		relative_position_id = ITA_4
		cost = 3
		available = {
		}
		bypass = {
			has_country_leader = {
			character = ITA_mosuolini
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_timed_idea = { idea = ITA_jiaoyuzhizhan days = 730 }
		}
	}
	
	focus = {
		id = ITA_8
		icon = GFX_goal_generic_agriculture
		prerequisite = { focus = ITA_3  focus = ITA_4 }
		x = 1
		y = 1
		relative_position_id = ITA_4
		cost = 3
		available = {
		}
		bypass = {
			has_country_leader = {
			character = ITA_mosuolini
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_timed_idea = { idea = ITA_battaglia_del_grano days = 730 }
		}
	}
	
	focus = {
		id = ITA_9
		icon = GFX_focus_ger_assassinate_mussolini
		prerequisite = { focus = ITA_5 }
		prerequisite = { focus = ITA_6 }
		prerequisite = { focus = ITA_7 }
		prerequisite = { focus = ITA_8 }
		mutually_exclusive = { focus = ITA_10 }
		x = -1
		y = 1
		relative_position_id = ITA_6
		cost = 2
		available = {
		}
		bypass = {
			has_country_leader = {
			character = ITA_mosuolini
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_political_power = -35
			add_power_balance_value = {
			id = ITA_balance
			value = -0.15
			}
		}
	}
	
	focus = {
		id = ITA_10
		icon = GFX_focus_ITA_a_colonial_empire
		prerequisite = { focus = ITA_5 }
		prerequisite = { focus = ITA_6 }
		prerequisite = { focus = ITA_7 }
		prerequisite = { focus = ITA_8 }
		mutually_exclusive = { focus = ITA_9 }
		x = -1
		y = 1
		relative_position_id = ITA_8
		cost = 2
		available = {
		}
		bypass = {
			has_country_leader = {
			character = ITA_mosuolini
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_stability = -0.1
			add_power_balance_value = {
			id = ITA_balance
			value = 0.2
			}
		}
	}
	
	focus = {
		id = ITA_11
		icon = GFX_goal_generic_foreign_diplomacy2
		prerequisite = { focus = ITA_9 focus = ITA_10 }
		x = -1
		y = 1
		relative_position_id = ITA_9
		cost = 4
		available = {
		}
		bypass = {
			has_country_leader = {
			character = ITA_mosuolini
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			swap_ideas = {
					remove_idea = ITA_servizio_informazione_militare_ns
					add_idea = ITA_servizio_informazione_militare_banda_carita
				}
			add_timed_idea = { idea = ITA_expanded_intelligence_service_basic_lion_version days = 365 }
		}
	}
	
	focus = {
		id = ITA_12
		icon = GFX_focus_generic_manpower
		prerequisite = { focus = ITA_9 focus = ITA_10 }
		x = 2
		y = 1
		relative_position_id = ITA_9
		cost = 4
		available = {
		}
		bypass = {
			has_country_leader = {
			character = ITA_mosuolini
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			army_experience = 25
			navy_experience = 25
			air_experience = 25
			add_timed_idea = { idea = ITA_strengthened_the_army days = 180 }
			add_timed_idea = { idea = ITA_strengthened_the_airforce days = 180 }
		}
	}
	
	focus = {
		id = ITA_13
		icon = GFX_goal_generic_expanded_production
		prerequisite = { focus = ITA_9 focus = ITA_10 }
		x = 1
		y = 1
		relative_position_id = ITA_10
		cost = 4
		available = {
		}
		bypass = {
			has_country_leader = {
			character = ITA_mosuolini
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_timed_idea = { idea = ITA_strengthened_heavy_industry days = 180 }
		}
	}
	
	focus = {
		id = ITA_14
		icon = GFX_CZE_attack_italy
		prerequisite = { focus = ITA_11 }
		prerequisite = { focus = ITA_12 }
		prerequisite = { focus = ITA_13 }
		x = 0
		y = 1
		relative_position_id = ITA_12
		cost = 5
		available = {
			is_puppet = no
		}
		bypass = {
			or = {
			has_war_with = ALS
			not = { country_exists = ALS }
			}
		}
		will_lead_to_war_with = ALS
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			if = {
			limit = {
			has_country_leader = {
			character = ITA_akeya
			ruling_only = yes
			}
			}
			country_event = ita.5
			}
			declare_war_on = { target = ALS type = annex_everything } 
			add_timed_idea = { idea = ITA_xianshoubisheng days = 60 }
			hidden_effect = {
				news_event = generic.2012
			}
		}
	}
	
	focus = {
		id = ITA_15
		icon = GFX_ITA_Arditi
		prerequisite = { focus = ITA_14 }
		x = 0
		y = 1
		relative_position_id = ITA_14
		cost = 10
		select_effect = {
			set_country_flag = SOV_paranoia_do_not_cancel_focus_flag #This focus cannot be canceled
			country_event = { id = ita.7 days = 5 }
		}
		available = {
			is_puppet = no
			not = { country_exists = ALS }
			or = {
			power_balance_value = {
			id = ITA_balance
			value > 0
			}
			power_balance_value = {
			id = ITA_balance
			value < 0
			}
			}
		}
		bypass = {
			has_country_leader = {
			character = ITA_mosuolini
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			custom_effect_tooltip = ITA_quanlidouzhengluoxiaweimu
			clr_country_flag = SOV_paranoia_do_not_cancel_focus_flag
			hidden_effect = {
			country_event = { id = ita.20 days = 5 }
			}
		}
	}
	
	focus = {
		id = ITA_16
		icon = GFX_magic_post
		prerequisite = { focus = ITA_15 }
		x = -8
		y = 1
		relative_position_id = ITA_15
		mutually_exclusive = { focus = ITA_17 focus = ITA_18 }
		cost = 5
		available = {
			has_country_leader = {
			character = ITA_akeya
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			country_event = { id = ita.36 days = 1 }
			add_stability = 0.05
			add_political_power = 50
			add_ideas = ita_machine
			unlock_decision_category_tooltip = ITA_akuya
		}
	}
	
	focus = {
		id = ITA_17
		icon = GFX_focus_ITA_culto_del_duce
		prerequisite = { focus = ITA_15 }
		x = 0
		y = 1
		relative_position_id = ITA_15
		mutually_exclusive = { focus = ITA_16 focus = ITA_18 }
		cost = 5
		available = {
			has_country_leader = {
			character = ITA_mosuolini
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			country_event = { id = ita.37 days = 7 }
			add_stability = 0.05
			add_war_support = 0.05
			add_ideas = ITA_camicie_nere
			hidden_effect = {
				set_technology = {
					camicie_nere_security_militias = 1
					popup = no
				}
			}
		}
	}
	
	focus = {
		id = ITA_18
		icon = GFX_focus_ITA_imperial_recognition
		prerequisite = { focus = ITA_15 }
		x = 8
		y = 1
		relative_position_id = ITA_15
		mutually_exclusive = { focus = ITA_17 focus = ITA_16 }
		cost = 5
		available = {
			has_country_leader = {
			character = ITA_nilu
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			country_event = { id = ita.37 days = 7 }
			add_political_power = 30
			add_stability = 0.1
			add_war_support = 0.1
			add_ideas = ITA_shouhuanyingdebixia
		}
	}
	
	focus = {
		id = ITA_19
		icon = GFX_focus_ger_assassinate_mussolini
		prerequisite = { focus = ITA_16 }
		x = -5
		y = 1
		relative_position_id = ITA_16
		cost = 5
		available = {
			has_country_leader = {
			character = ITA_akeya
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			add_stability = 0.1
			add_war_support = 0.1
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
			add_country_leader_trait = trait_ita_zhhs
		}
	}
	
	focus = {
		id = ITA_20
		icon = GFX_goal_more_poster
		prerequisite = { focus = ITA_16 }
		x = -2
		y = 1
		relative_position_id = ITA_16
		mutually_exclusive = { focus = ITA_21 }
		cost = 5
		available = {
			has_country_leader = {
			character = ITA_akeya
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			swap_ideas = {
				remove_idea = victor_emmanuel
				add_idea = victor_emmanuel_3
			}
		}
	}
	
	focus = {
		id = ITA_21
		icon = GFX_newlife
		prerequisite = { focus = ITA_16 }
		x = 2
		y = 1
		relative_position_id = ITA_16
		mutually_exclusive = { focus = ITA_20 }
		cost = 5
		available = {
			has_country_leader = {
			character = ITA_akeya
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			swap_ideas = {
				remove_idea = ita_bendannvshen
				add_idea = ita_bendannvshen1
			}
		}
	}
	
	focus = {
		id = ITA_22
		icon = GFX_foraqua
		prerequisite = { focus = ITA_19 }
		x = 0
		y = 2
		relative_position_id = ITA_19
		cost = 5
		available = {
			has_country_leader = {
			character = ITA_akeya
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			add_ideas = ita_aqua_mizu
		}
	}
	
	focus = {
		id = ITA_23
		icon =  GFX_focus_generic_pope
		prerequisite = { focus = ITA_20 focus = ITA_21 }
		x = 2
		y = 2
		relative_position_id = ITA_20
		cost = 5
		available = {
			has_country_leader = {
			character = ITA_akeya
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			add_ideas = ita_maus
			swap_ideas = {
				remove_idea = ita_machine
				add_idea = ita_machine2
			}
			
		}
	}
	
	focus = {
		id = ITA_24
		icon = GFX_focus_generic_royal_wedding
		prerequisite = { focus = ITA_22 }
		prerequisite = { focus = ITA_23 }
		x = 1
		y = 2
		relative_position_id = ITA_22
		mutually_exclusive = { focus = ITA_25 }
		cost = 5
		available = {
			has_country_leader = {
			character = ITA_akeya
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			add_stability = 0.05
			add_war_support = 0.05
			add_political_power = 35
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
		}
	}
	
	focus = {
		id = ITA_25
		icon = GFX_ita_fire
		prerequisite = { focus = ITA_22 }
		prerequisite = { focus = ITA_23 }
		x = 4
		y = 2
		relative_position_id = ITA_22
		mutually_exclusive = { focus = ITA_24 }
		cost = 5
		available = {
			has_country_leader = {
			character = ITA_akeya
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 0
		}
		completion_reward = {
			country_event = ita.16
			add_political_power = 120
			add_popularity = {
				ideology = fascism
				popularity = -0.15
			}
		}
	}
	
	focus = {
		id = ITA_26
		icon = GFX_goal_itatv
		prerequisite = { focus = ITA_23 }
		x = 2
		y = 2
		relative_position_id = ITA_23
		cost = 5
		available = {
			has_country_leader = {
			character = ITA_akeya
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			swap_ideas = {
				remove_idea = ita_machine2
				add_idea = ita_machine3
			}
		}
	}
	
	focus = {
		id = ITA_27
		icon = GFX_focus_generic_catholic_dominion
		prerequisite = { focus = ITA_24 focus = ITA_25 }
		prerequisite = { focus = ITA_26 }
		x = 3
		y = 2
		relative_position_id = ITA_24
		cost = 5
		available = {
			is_puppet = no
			has_country_leader = {
			character = ITA_akeya
			ruling_only = yes
			}
			not = { has_country_flag = ITA_kuileinvshen }
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			if = {
			limit = {
			has_idea = ita_bendannvshen
			}
			swap_ideas = {
				remove_idea = ita_bendannvshen
				add_idea = ita_bendannvshen1
			}
			}
			if = {
			limit = {
			has_idea = ita_bendannvshen1
			}
			swap_ideas = {
				remove_idea = ita_bendannvshen1
				add_idea = ita_bendannvshen2
			}
			}
			add_country_leader_trait = trait_ita_szns
		}
	}
	
	focus = {
		id = ITA_28
		icon = GFX_focus_generic_italy_propaganda
		prerequisite = { focus = ITA_17 }
		x = -4
		y = 1
		relative_position_id = ITA_17
		cost = 5
		available = {
			has_country_leader = {
			character = ITA_mosuolini
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			add_political_power = 35
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
			add_war_support = 0.1
			add_country_leader_trait = political_reformer_1
		}
	}
	
	focus = {
		id = ITA_29
		icon = GFX_focus_ITA_generic_fascist_workers
		prerequisite = { focus = ITA_17 }
		x = 0
		y = 1
		relative_position_id = ITA_17
		cost = 5
		available = {
			has_country_leader = {
			character = ITA_mosuolini
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			add_political_power = 25
			add_stability = 0.05
			add_timed_idea = { idea = ITA_devaluated_lira days = 365 }
		}
	}
	
	focus = {
		id = ITA_30
		icon = GFX_focus_ITA_devaluate_the_lire
		prerequisite = { focus = ITA_17 }
		x = 4
		y = 1
		relative_position_id = ITA_17
		cost = 5
		available = {
			has_country_leader = {
			character = ITA_mosuolini
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
			add_stability = 0.05
			add_war_support = 0.05
			if = {
				limit = {
					has_idea = ITA_camicie_nere_strengthened
				}
				swap_ideas = {
					remove_idea = ITA_camicie_nere_strengthened
					add_idea = ITA_camicie_nere_milizia_coloniale
				}
			}
			else = {
				swap_ideas = {
					remove_idea = ITA_camicie_nere
					add_idea = ITA_camicie_nere_milizia_coloniale
				}
			}
		}
	}
	
	focus = {
		id = ITA_31
		icon = GFX_focus_ITA_to_live_as_a_lion
		prerequisite = { focus = ITA_28 }
		prerequisite = { focus = ITA_29 }
		prerequisite = { focus = ITA_30 }
		x = 2
		y = 2
		relative_position_id = ITA_28
		cost = 5
		available = {
			has_country_leader = {
			character = ITA_mosuolini
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			add_country_leader_trait = lion_tamer
			remove_ideas = victor_emmanuel_2
		}
	}
	
	focus = {
		id = ITA_32
		icon = GFX_focus_generic_combined_arms
		prerequisite = { focus = ITA_28 }
		prerequisite = { focus = ITA_29 }
		prerequisite = { focus = ITA_30 }
		x = 2
		y = 2
		relative_position_id = ITA_29
		cost = 5
		available = {
			has_completed_focus = ITA_new_industrialization_program
			has_country_leader = {
			character = ITA_mosuolini
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			add_ideas = ITA_guojiafatuanzhuyi_idea
			swap_ruler_traits = {
				remove = il_duce_strengthen
				add =  il_duce_providence_strengthen
			}
		}
	}
	
	focus = {
		id = ITA_33
		icon = GFX_focus_generic_fascist_troops
		prerequisite = { focus = ITA_31 }
		prerequisite = { focus = ITA_32 }
		x = 2
		y = 2
		relative_position_id = ITA_31
		cost = 5
		available = {
			has_country_leader = {
			character = ITA_mosuolini
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			swap_ruler_traits = {
				remove = il_duce_providence_strengthen
				add =  il_duce_heroes
			}
			swap_ruler_traits = {
				remove = lion_tamer
				add = lion_tamer_2
			}
		}
	}
	
	focus = {
		id = ITA_34
		icon = GFX_focus_ITA_capo_supremo
		prerequisite = { focus = ITA_33 }
		x = 0
		y = 2
		relative_position_id = ITA_33
		cost = 5
		available = {
			has_country_leader = {
			character = ITA_mosuolini
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 10
		}
		completion_reward = {
			swap_ruler_traits = {
				remove = political_reformer_1
				add = political_reformer_2
			}
			add_country_leader_trait = capo_supremo
			add_ideas = ITA_divino_duce_2
			ITA_mosuolini = {
					add_unit_leader_trait = politically_connected
					add_unit_leader_trait = media_personality
					add_unit_leader_trait = harsh_leader
			}
		}
	}
	
	focus = {
		id = ITA_35
		icon = GFX_focus_ITA_ferrea_mole_ferreo_cuore
		x = 12
		y = 0
		relative_position_id = ITA_18
		cost = 2
		allow_branch = {
			not = { is_subject_of = GER }
		}
		available = {
			is_puppet = no
			DVL = {
			or = {
			exists = no
			is_subject = yes
			}
			}
			GER = {
			owns_state = 64
			is_in_faction_with = ITA
			}
		}
		bypass = {
			not = { country_exists = GER }
			DVL = {
			or = {
			exists = no
			is_subject = yes
			}
			}
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			GER = {
			country_event = ita.10
			}
			add_timed_idea = { idea = ITA_setting_course_ns days = 180 }
		}
	}
	
	focus = {
		id = ITA_36
		icon = GFX_ww1_nationalfocus_italy
		x = -3
		y = 1
		prerequisite = { focus = ITA_35 }
		relative_position_id = ITA_35
		mutually_exclusive = { focus = ITA_37 focus = ITA_38 }
		cost = 5
		available = {
			is_puppet = no
			DVL = {
			or = {
			exists = no
			is_subject = yes
			}
			}
			not = { is_in_faction_with = ENG }
			has_country_leader = {
			character = ITA_akeya
			ruling_only = yes
			}
			not = { has_country_flag = ITA_kuileinvshen }
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			unlock_decision_category_tooltip = ITALIA
			add_ideas = ITA_italys_destiny_idea
		}
	}
	
	focus = {
		id = ITA_37
		icon = GFX_focus_ITA_greater_italy
		x = 0
		y = 1
		prerequisite = { focus = ITA_35 }
		relative_position_id = ITA_35
		mutually_exclusive = { focus = ITA_36 focus = ITA_38 }
		cost = 5
		available = {
			is_puppet = no
			DVL = {
			or = {
			exists = no
			is_subject = yes
			}
			}
			not = { is_in_faction_with = ENG }
			or = {
			has_country_leader = {
			character = ITA_mosuolini
			ruling_only = yes
			}
			has_country_flag = ITA_kuileihuangdi
			if = {
			has_country_leader = {
			character = ITA_nilu
			ruling_only = yes
			}
			has_completed_focus = ITA_40
			}
			if = {
			has_country_leader = {
			character = ITA_akeya
			ruling_only = yes
			}
			has_country_flag = ITA_kuileinvshen
			}
			}
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			unlock_decision_category_tooltip = greater_italy_category
			add_ideas = ITA_italian_hegemony_master_3
		}
	}
	
	focus = {
		id = ITA_38
		icon = GFX_focus_ITA_mare_nostrum
		x = 3
		y = 1
		prerequisite = { focus = ITA_35 }
		relative_position_id = ITA_35
		mutually_exclusive = { focus = ITA_37 focus = ITA_36 }
		cost = 5
		available = {
			is_puppet = no
			DVL = {
			or = {
			exists = no
			is_subject = yes
			}
			}
			not = { is_in_faction_with = ENG }
			or = {
			if = {
			has_country_leader = {
			character = ITA_nilu
			ruling_only = yes
			}
			has_completed_focus = ITA_41
			}
			has_country_leader = {
			character = ITA_mosuolini
			ruling_only = yes
			}
			}
			not = { has_country_flag = ITA_kuileihuangdi }
		}
		ai_will_do = {
			factor = 0
		}
		completion_reward = {
			unlock_decision_category_tooltip = form_roman_empire_category
			set_rule = {
			can_create_factions = yes
			}
			leave_faction = yes
			create_faction = "italy_empire_faction"
			custom_effect_tooltip = jinggao_ita_roma
			every_country = {
			limit = {
			is_major = yes
			not = { tag = ROOT }
			capital_scope = { is_on_continent = europe }
			}
			country_event = ita.15
			}
		}
	}
	
	focus = {
		id = ITA_albanian_occupation
		icon = GFX_focus_ITA_albanian_fascist_militia
		prerequisite = { focus = ITA_potential_allies_in_the_balkans focus = ITA_balkan_ambition }

		x = -7
		y = 1
		relative_position_id = ITA_balkan_ambition
		cost = 3
		available = {
			is_puppet = no
		}
		ai_will_do = {
			factor = 100
		}
		bypass = {
			44 = { state_is_fully_controlled_by_ROOT_or_subject = yes }
		}

		search_filters = {FOCUS_FILTER_ANNEXATION FOCUS_FILTER_STABILITY FOCUS_FILTER_MANPOWER}

		completion_reward = {
			if = {
				limit = {
					ALB = { has_war = no }
				}
				ALB = { country_event = { id = italy.3 hours = 1 } }
			}
			else = {
				create_wargoal = {
					type = take_state_focus
					target = ALB
					generator = { 44 }
				}
			}
			create_wargoal = {
					type = take_state_focus
					target = MAC
					generator = { 106 }
			}
			add_state_claim = 106
			add_state_claim = 44
			effect_tooltip = {
				custom_effect_tooltip = if_they_accept_tt
				annex_country = { target = ALB }
				add_named_threat = { threat = 2 name = ITA_albania_war_goal }
				# The king is an idea
				if = {
					limit = {
						has_idea = vittorio_emanuele
					}
					swap_ideas = {
						remove_idea = vittorio_emanuele
						add_idea = vittorio_emanuele_king_of_albania
					}
				}
				else_if = {
					limit = {
						has_idea = vittorio_emanuele_emperor_of_ethiopia
					}
					swap_ideas = {
						remove_idea = vittorio_emanuele_emperor_of_ethiopia
						add_idea = vittorio_emanuele_albania_ethiopia
					}
				}
				if = {
					limit = {
				 		has_character = ITA_vittorio_emanuele_iii
					}
					ITA_vittorio_emanuele_iii = { add_country_leader_trait = king_of_albania }
				}
			}
		}
	}
	
	focus = {
		id = ITA_albanian_oil
		icon = GFX_focus_ITA_albanian_irredentism
		prerequisite = { focus = ITA_albanian_occupation }

		x = 0
		y = 1
		relative_position_id = ITA_albanian_occupation
		cost = 5
		available = {
			44 = {
				state_is_fully_controlled_by_ROOT_or_subject = yes
			}
			has_tech = synth_oil_experiments
		}

		search_filters = {FOCUS_FILTER_INDUSTRY}
		ai_will_do = {
			factor = 2
		}
		completion_reward = {
			44 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
				add_resource = {
					type = oil
					amount = 2
				}
			}
			if = {
				limit = {
					NOT = { has_completed_focus = ITA_regional_development }
				}
				custom_effect_tooltip = ITA_albanian_fascist_militia_occupation_law_full_tt
				show_ideas_tooltip = ITA_fake_colonial_police_law
			}
			else = {
				custom_effect_tooltip = ITA_albanian_fascist_militia_occupation_law_tt
			}

			every_controlled_state = {
				limit = {
					is_core_of = ALB
					is_fully_controlled_by = ROOT
				}
				#set_occupation_law = colonial_police #MM: Not working
				add_compliance = 10
			}
		}
	}
	
	focus = {
		id = ITA_39
		icon = GFX_focus_ITA_banda_carita
		x = -2
		y = 1
		prerequisite = { focus = ITA_18 }
		relative_position_id = ITA_18
		cost = 5
		available = {
			has_country_leader = {
			character = ITA_nilu
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_political_power = 30
			add_stability = 0.1
			add_popularity = { ideology = communism popularity = -0.1 }
			add_popularity = { ideology = democratic popularity = -0.1 }
			remove_ideas = victor_emmanuel_2
			swap_ruler_traits = {
				remove = trait_ita_jsddw
				add =  trait_ita_wyddw
			}
		}
	}
	
	focus = {
		id = ITA_40
		icon = GFX_focus_generic_italy_first
		x = 1
		y = 1
		prerequisite = { focus = ITA_18 }
		relative_position_id = ITA_18
		mutually_exclusive = { focus = ITA_41 }
		cost = 5
		available = {
			has_country_leader = {
			character = ITA_nilu
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			set_cosmetic_tag = ITA_diguo
			add_political_power = 50
			add_stability = 0.15
			custom_effect_tooltip = ITA_suosiitaluxian
		}
	}
	
	focus = {
		id = ITA_41
		icon = GFX_focus_ITA_subdue_the_sentinels
		x = 4
		y = 1
		prerequisite = { focus = ITA_18 }
		relative_position_id = ITA_18
		mutually_exclusive = { focus = ITA_40 }
		cost = 5
		available = {
			has_country_leader = {
			character = ITA_nilu
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 0
		}
		completion_reward = {
			set_cosmetic_tag = ITA_diguo
			add_political_power = -100
			add_stability = -0.25
			add_war_support = 0.25
			custom_effect_tooltip = ITA_yushijieweidi
		}
	}
	
	focus = {
		id = ITA_42
		icon = GFX_focus_generic_full_social_mobilization
		x = -1
		y = 2
		prerequisite = { focus = ITA_39 }
		relative_position_id = ITA_39
		cost = 10
		available = {
			has_country_leader = {
			character = ITA_nilu
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_war_support = 0.1
			add_ideas = ITA_weihuangdierzhan
			swap_ideas = {
			remove_idea = ITA_shouhuanyingdebixia
			add_idea = ITA_shouhuanyingdebixia_2
			}
		}
	}
	
	focus = {
		id = ITA_43
		icon = GFX_focus_ITA_the_social_republic_prevails
		x = 2
		y = 2
		prerequisite = { focus = ITA_39 }
		prerequisite = { focus = ITA_40 focus = ITA_41 }
		relative_position_id = ITA_39
		cost = 5
		available = {
			has_country_leader = {
			character = ITA_nilu
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			country_event = ita.13
		}
	}
	
	focus = {
		id = ITA_44
		icon = GFX_focus_ITA_southern_industry
		x = 5
		y = 2
		prerequisite = { focus = ITA_39 }
		prerequisite = { focus = ITA_40 focus = ITA_41 }
		relative_position_id = ITA_39
		cost = 10
		available = {
			has_country_leader = {
			character = ITA_nilu
			ruling_only = yes
			}
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
				117 = { #CAMPAGNA (Napoli)
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes						
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 3
						instant_build = yes
						province = 819					
					}
				}
				115 = { 
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes						
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = naval_base
						level = 3
						instant_build = yes
						province = 819					
					}
				}
		}
	}
	
	focus = {
		id = ITA_45
		icon = GFX_focus_ETH_the_patriots
		x = 0
		y = 2
		prerequisite = { focus = ITA_42 }
		prerequisite = { focus = ITA_43 }
		prerequisite = { focus = ITA_44 }
		relative_position_id = ITA_43
		cost = 5
		available = {
			is_puppet = no
			date > 1940.8.1
			has_country_leader = {
			character = ITA_nilu
			ruling_only = yes
			}
			not = { has_country_flag = ITA_kuileihuangdi }
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			swap_ideas = {
			remove_idea = ITA_shouhuanyingdebixia_2
			add_idea = ITA_shouhuanyingdebixia_3
			}
			swap_ruler_traits = {
				remove = trait_ita_wyddw
				add =  trait_ita_wyddw_2
			}
		}
	}
	
	focus = {
		id = ITA_46
		icon = GFX_focus_ITA_italian_hegemony
		x = 0
		y = 2
		prerequisite = { focus = ITA_45 }
		relative_position_id = ITA_45
		cost = 10
		available = {
			is_puppet = no
			DVL = {
			or = {
			exists = no
			is_subject = yes
			}
			}
			has_country_leader = {
			character = ITA_nilu
			ruling_only = yes
			}
			not = { has_country_flag = ITA_kuileihuangdi }
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			swap_ideas = {
			remove_idea = ITA_shouhuanyingdebixia_3
			add_idea = ITA_shouhuanyingdebixia_4
			}
			swap_ruler_traits = {
				remove = trait_ita_wyddw_2
				add =  trait_ita_wyddw_3
			}
			add_country_leader_trait = trait_ita_xcccdzmqw
		}
	}
	
	focus = {
		id = ITA_47
		icon = GFX_goal_attack_FRA
		x = -5
		y = 1
		prerequisite = { focus = ITA_36 focus = ITA_37 focus = ITA_38 }
		relative_position_id = ITA_37
		cost = 5
		available = {
			is_puppet = no
		}
		bypass = {
			or = {
			if = {
			not = { country_exists = FRA }
			not = { country_exists = KMK }
			}
			is_in_faction_with = FRA
			if = {
			is_in_faction_with = NFA
			NFA = { controls_state = 16 }
			}
			is_in_faction_with = KMK
			}
		}
		ai_will_do = {
			factor = 0.1
		}
		completion_reward = {
			if = {
			limit = {
			country_exists = FRA
			}
			create_wargoal = { target = FRA type = take_state_focus }
			}
			if = {
			limit = {
			country_exists = KMK
			}
			create_wargoal = { target = KMK type = take_state_focus }
			}
			if = {
			limit = {
			country_exists = NFA
			NFA = { controls_state = 16 }
			}
			create_wargoal = { target = NFA type = take_state_focus }
			}
			custom_effect_tooltip = ITA_war_with_france_claims_tt
			every_state = {
				limit = {
					is_owned_by = FRA
					OR = {
						region = 182 #WESTERN MAGHREB
						region = 126 #EASTERN MAGHREB
						#region = 17 #EAST AFRICA #MM: TUrned into Ethiopian Highlands and no longer including Djibouti or British Somalia
						region = 273 #DANAKIL (new region including Djibouti)
						region = 274 #OGADEN (new region including British Somalia)
						region = 128 #EGYPT (just in case)
						region = 28 #MIDDLE EAST (Syria) #MM:No longer all of Syria, just Eastern part now
						region = 232 #LEVANT (including Western part of Syria now)
						region = 216 #UPPER NILE (Just in case)
						AND = {
							is_island_state = yes
							state_is_in_the_mediterranean_sea = yes
						}
					}
					NOT = { is_core_of = FRA }
					NOT = { is_claimed_by = ROOT }
				}
				hidden_effect ={
					ROOT = { add_state_claim = PREV }
				}
				custom_effect_tooltip = generic_ROOT_gains_claim_tt
			}
		}
	}
	
	focus = {
		id = ITA_48
		icon = GFX_goal_attack_ENG
		x = -2
		y = 1
		prerequisite = { focus = ITA_36 focus = ITA_37 focus = ITA_38 }
		relative_position_id = ITA_37
		cost = 5
		available = {
			is_puppet = no
		}
		bypass = {
			or = {
			not = { country_exists = ENG }
			is_in_faction_with = ENG
			ENG = { is_subject = yes }
			}
		}
		ai_will_do = {
			factor = 0.1
		}
		completion_reward = {
			create_wargoal = { target = ENG type = take_state_focus }
			custom_effect_tooltip = ITA_war_with_the_uk_claims_tt
			every_state = {
				limit = {
					or = {
					is_owned_by = ENG
					is_owned_by = EGY
					}
					OR = {
						region = 182 #WESTERN MAGHREB
						region = 126 #EASTERN MAGHREB
						region = 753 #EAST AFRICA #MM: TUrned into Ethiopian Highlands and no longer including Djibouti or British Somalia
						region = 273 #DANAKIL (new region including Djibouti)
						region = 274 #OGADEN (new region including British Somalia)
						region = 128 #EGYPT (just in case)
						region = 28 #MIDDLE EAST (Syria) #MM:No longer all of Syria, just Eastern part now
						region = 232 #LEVANT (including Western part of Syria now)
						region = 216 #UPPER NILE (Just in case)
						AND = {
							is_island_state = yes
							state_is_in_the_mediterranean_sea = yes
						}
					}
					NOT = { is_core_of = ENG }
					NOT = { is_claimed_by = ROOT }
				}
				hidden_effect ={
					ROOT = { add_state_claim = PREV }
				}
				custom_effect_tooltip = generic_ROOT_gains_claim_tt
			}
		}
	}
	
	focus = {
		id = ITA_49
		icon = GFX_goal_attack_GER
		x = 2
		y = 1
		prerequisite = { focus = ITA_36 focus = ITA_37 focus = ITA_38 }
		relative_position_id = ITA_37
		cost = 5
		available = {
			is_puppet = no
		}
		bypass = {
			or = {
			not = { country_exists = GER }
			is_in_faction_with = GER
			GER = { is_subject = yes }
			}
		}
		ai_will_do = {
			factor = 0.1
		}
		completion_reward = {
			create_wargoal = { target = GER type = take_state_focus }
		}
	}
	
	focus = {
		id = ITA_50
		icon = GFX_focus_generic_attack_romania
		x = 5
		y = 1
		prerequisite = { focus = ITA_36 focus = ITA_37 focus = ITA_38 }
		relative_position_id = ITA_37
		cost = 5
		available = {
			is_puppet = no
		}
		bypass = {
			or = {
			not = { country_exists = ROM }
			is_in_faction_with = ROM
			ROM = { is_subject = yes }
			}
			or = {
			not = { country_exists = BUL }
			is_in_faction_with = BUL
			BUL = { is_subject = yes }
			}
			or = {
			not = { country_exists = HUN }
			is_in_faction_with = HUN
			HUN = { is_subject = yes }
			}
		}
		ai_will_do = {
			factor = 0.1
		}
		completion_reward = {
			if = {
			limit = {
			country_exists = ROM
			}
			create_wargoal = { target = ROM type = take_state_focus }
			}
			if = {
			limit = {
			country_exists = BUL
			}
			create_wargoal = { target = BUL type = take_state_focus }
			}
			if = {
			limit = {
			country_exists = HUN
			}
			create_wargoal = { target = HUN type = take_state_focus }
			}
		}
	}
	
	focus = {
		id = ITA_51
		icon = GFX_focus_ITA_by_blood_alone
		x = 0
		y = 2
		prerequisite = { focus = ITA_47 focus = ITA_48 focus = ITA_49 focus = ITA_50 }
		relative_position_id = ITA_37
		cost = 10
		available = {
			is_puppet = no
			or = {
			has_global_flag = greater_italy_flag
			has_global_flag = form_roman_empire_flag
			has_global_flag = IT1_JIANLI
			}
		}
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_country_leader_trait = trait_ita_wyyx
			add_to_tech_sharing_group = ITA_italian_hegemony_program
			custom_effect_tooltip = ITA_italian_hegemony_subjects_tt
			if = {
				limit = {
						num_subjects > 0
				}
				every_other_country = {
					limit = {
						is_subject_of = ROOT
					}
					add_ideas = ITA_italian_hegemony_subjects
					add_to_tech_sharing_group = ITA_italian_hegemony_program
				}
			}
			else = { 
				effect_tooltip = {
					add_ideas = ITA_italian_hegemony_subjects
					add_to_tech_sharing_group = ITA_italian_hegemony_program
				}
			}
		}
	}
	
}